<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2019-12-13.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000105"><span class="nick" style="color:#389600"><a href="#000105" label="[00:01:05]">&lt;fosslinux&gt;</a></span><span class="message">oriansj: what's that?</span></div><div class="line" id="000108"><span class="nick" style="color:#389600"><a href="#000108" label="[00:01:08]">&lt;fosslinux&gt;</a></span><span class="message">knight?</span></div><div class="line" id="001120"><span class="nick">***</span><span class="message notice">Server sets mode: +cnt </span></div><div class="line" id="001434"><span class="nick" style="color:#2e2a4a"><a href="#001434" label="[00:14:34]">&lt;oriansj&gt;</a></span><span class="message">fosslinux: knight is the endgame, no operating system, no microcode, no bios, no firmware; just pure bare metal bootstrapping on TTL with publicly available schematics</span></div><div class="line" id="001607"><span class="nick" style="color:#2e2a4a"><a href="#001607" label="[00:16:07]">&lt;oriansj&gt;</a></span><span class="message">gio: somehow I remember discussing that video back in July when you did your talk. Also in weird and related news we actually now know where the first yogurt culture came from. (Fruit Flies)</span></div><div class="line" id="001740"><span class="nick" style="color:#2e2a4a"><a href="#001740" label="[00:17:40]">&lt;oriansj&gt;</a></span><span class="message">(and microbe gene swapping with a lactose phylic baterial strain)</span></div><div class="line" id="014028"><span class="nick" style="color:#2e2a4a"><a href="#014028" label="[01:40:28]">&lt;oriansj&gt;</a></span><span class="message">fosslinux: in your github issue, you indicated that the slow_lisp hanged. If you type say (+ 1 2 3) does it not echo the result? (I could tweak how the REPL looks and behaves to better match guile)</span></div><div class="line" id="014045"><span class="nick" style="color:#389600"><a href="#014045" label="[01:40:45]">&lt;fosslinux&gt;</a></span><span class="message">yeah</span></div><div class="line" id="014104"><span class="nick" style="color:#389600"><a href="#014104" label="[01:41:04]">&lt;fosslinux&gt;</a></span><span class="message">when running mes-m2 on mescc, it hangs</span></div><div class="line" id="014109"><span class="nick" style="color:#389600"><a href="#014109" label="[01:41:09]">&lt;fosslinux&gt;</a></span><span class="message">mescc.scm</span></div><div class="line" id="014139"><span class="nick" style="color:#2e2a4a"><a href="#014139" label="[01:41:39]">&lt;oriansj&gt;</a></span><span class="message">you mean running mescc on mes-m2?</span></div><div class="line" id="014159"><span class="nick" style="color:#389600"><a href="#014159" label="[01:41:59]">&lt;fosslinux&gt;</a></span><span class="message">correct</span></div><div class="line" id="014209"><span class="nick" style="color:#389600"><a href="#014209" label="[01:42:09]">&lt;fosslinux&gt;</a></span><span class="message">yeah that's what I mean</span></div><div class="line" id="014232"><span class="nick" style="color:#389600"><a href="#014232" label="[01:42:32]">&lt;fosslinux&gt;</a></span><span class="message">I'm just stupid</span></div><div class="line" id="014258"><span class="nick" style="color:#2e2a4a"><a href="#014258" label="[01:42:58]">&lt;oriansj&gt;</a></span><span class="message">fosslinux: no</span></div><div class="line" id="014322"><span class="nick" style="color:#389600"><a href="#014322" label="[01:43:22]">&lt;fosslinux&gt;</a></span><span class="message">no what</span></div><div class="line" id="014345"><span class="nick" style="color:#2e2a4a"><a href="#014345" label="[01:43:45]">&lt;oriansj&gt;</a></span><span class="message">fosslinux: inexperience in something that you haven't had the chance to properly is not an indicator of intelligence</span></div><div class="line" id="014403"><span class="nick" style="color:#2e2a4a"><a href="#014403" label="[01:44:03]">&lt;oriansj&gt;</a></span><span class="message">fosslinux: you are reasonably intelligent person</span></div><div class="line" id="014422"><span class="nick" style="color:#389600"><a href="#014422" label="[01:44:22]">&lt;fosslinux&gt;</a></span><span class="message">oh I mean I'm stupid because I said mes-m2 on mescc not the other way round</span></div><div class="line" id="014437"><span class="nick" style="color:#389600"><a href="#014437" label="[01:44:37]">&lt;fosslinux&gt;</a></span><span class="message">what I mean is that</span></div><div class="line" id="014449"><span class="nick" style="color:#2e2a4a"><a href="#014449" label="[01:44:49]">&lt;oriansj&gt;</a></span><span class="message">fosslinux: have you not seen the laundry list of typos I make constantly?</span></div><div class="line" id="014500"><span class="nick" style="color:#2e2a4a"><a href="#014500" label="[01:45:00]">&lt;oriansj&gt;</a></span><span class="message">making mistakes is part about human</span></div><div class="line" id="014501"><span class="nick" style="color:#389600"><a href="#014501" label="[01:45:01]">&lt;fosslinux&gt;</a></span><span class="message">when I run mescc using mes-m2 as the scheme interpreter it hangs</span></div><div class="line" id="014525"><span class="nick" style="color:#389600"><a href="#014525" label="[01:45:25]">&lt;fosslinux&gt;</a></span><span class="message">oriansj: this is probably related to my strjpping out of things that don't work like modules</span></div><div class="line" id="014531"><span class="nick" style="color:#2e2a4a"><a href="#014531" label="[01:45:31]">&lt;oriansj&gt;</a></span><span class="message">to make a mistake to normal, to refuse to admit one makes mistakes is however a sign of stupidity</span></div><div class="line" id="014558"><span class="nick" style="color:#389600"><a href="#014558" label="[01:45:58]">&lt;fosslinux&gt;</a></span><span class="message">spot on</span></div><div class="line" id="014638"><span class="nick" style="color:#2e2a4a"><a href="#014638" label="[01:46:38]">&lt;oriansj&gt;</a></span><span class="message">fosslinux: well hanging could be an indicator of not enough processing time (did CPU stick at 100% for one core?)</span></div><div class="line" id="014807"><span class="nick" style="color:#389600"><a href="#014807" label="[01:48:07]">&lt;fosslinux&gt;</a></span><span class="message">I didn't look at that</span></div><div class="line" id="014815"><span class="nick" style="color:#389600"><a href="#014815" label="[01:48:15]">&lt;fosslinux&gt;</a></span><span class="message">i will retry and look at that</span></div><div class="line" id="014821"><span class="nick" style="color:#2e2a4a"><a href="#014821" label="[01:48:21]">&lt;oriansj&gt;</a></span><span class="message">also I still haven't figured out the true system needs of Mescc to self-host Mes.c</span></div><div class="line" id="014929"><span class="nick" style="color:#2e2a4a"><a href="#014929" label="[01:49:29]">&lt;oriansj&gt;</a></span><span class="message">because it can take quite a while to build Mes.c using Mescc (you might even be farther along than me in getting Mescc running on slow_lisp)</span></div><div class="line" id="023226"><span class="nick" style="color:#389600"><a href="#023226" label="[02:32:26]">&lt;fosslinux&gt;</a></span><span class="message">oriansj: I haven't tried using mescc to compile mes.c</span></div><div class="line" id="023302"><span class="nick" style="color:#389600"><a href="#023302" label="[02:33:02]">&lt;fosslinux&gt;</a></span><span class="message">oriansj: I was trying to get mescc running on slow_lisp rather, as you said after</span></div><div class="line" id="023544"><span class="nick" style="color:#2e2a4a"><a href="#023544" label="[02:35:44]">&lt;oriansj&gt;</a></span><span class="message">fosslinux: ultimately we need to go through mes_builtins in mes_builtins.c and figure out which of those primitives are absolutely required to be in the C code and which we can just punt into the scheme.</span></div><div class="line" id="023626"><span class="nick" style="color:#389600"><a href="#023626" label="[02:36:26]">&lt;fosslinux&gt;</a></span><span class="message">I honestly need to start learning scheme to help here</span></div><div class="line" id="023640"><span class="nick" style="color:#389600"><a href="#023640" label="[02:36:40]">&lt;fosslinux&gt;</a></span><span class="message">heh</span></div><div class="line" id="023731"><span class="nick" style="color:#2e2a4a"><a href="#023731" label="[02:37:31]">&lt;oriansj&gt;</a></span><span class="message">well the good news is that the slow_lisp tests are great examples of scheme code to learn from</span></div><div class="line" id="024005"><span class="nick" style="color:#389600"><a href="#024005" label="[02:40:05]">&lt;fosslinux&gt;</a></span><span class="message">yes</span></div><div class="line" id="024011"><span class="nick" style="color:#389600"><a href="#024011" label="[02:40:11]">&lt;fosslinux&gt;</a></span><span class="message">I get operations</span></div><div class="line" id="024013"><span class="nick" style="color:#389600"><a href="#024013" label="[02:40:13]">&lt;fosslinux&gt;</a></span><span class="message">and display</span></div><div class="line" id="024022"><span class="nick" style="color:#389600"><a href="#024022" label="[02:40:22]">&lt;fosslinux&gt;</a></span><span class="message">I can do</span></div><div class="line" id="024030"><span class="nick" style="color:#389600"><a href="#024030" label="[02:40:30]">&lt;fosslinux&gt;</a></span><span class="message">display (+ 1 2)</span></div><div class="line" id="024032"><span class="nick" style="color:#389600"><a href="#024032" label="[02:40:32]">&lt;fosslinux&gt;</a></span><span class="message">yay</span></div><div class="line" id="024036"><span class="nick" style="color:#389600"><a href="#024036" label="[02:40:36]">&lt;fosslinux&gt;</a></span><span class="message">:P</span></div><div class="line" id="024905"><span class="nick" style="color:#2e2a4a"><a href="#024905" label="[02:49:05]">&lt;oriansj&gt;</a></span><span class="message">fosslinux: the key is that mes-m2 behavior needs to match guile; so that later we can be a drop in replacement for running guix too</span></div><div class="line" id="025305"><span class="nick" style="color:#389600"><a href="#025305" label="[02:53:05]">&lt;fosslinux&gt;</a></span><span class="message">oriansj: i see.</span></div><div class="line" id="025318"><span class="nick" style="color:#389600"><a href="#025318" label="[02:53:18]">&lt;fosslinux&gt;</a></span><span class="message">oriansj: what's the state of boot-0.scm?</span></div><div class="line" id="025322"><span class="nick" style="color:#389600"><a href="#025322" label="[02:53:22]">&lt;fosslinux&gt;</a></span><span class="message">on slow_lisp</span></div><div class="line" id="025452"><span class="nick" style="color:#2e2a4a"><a href="#025452" label="[02:54:52]">&lt;oriansj&gt;</a></span><span class="message">fosslinux: well, big chunks of it are going to be removed because they o longer are needed.</span></div><div class="line" id="025457"><span class="nick" style="color:#389600"><a href="#025457" label="[02:54:57]">&lt;fosslinux&gt;</a></span><span class="message">oriansj: oh the hang is actually a REPL loop</span></div><div class="line" id="025506"><span class="nick" style="color:#389600"><a href="#025506" label="[02:55:06]">&lt;fosslinux&gt;</a></span><span class="message">but why would</span></div><div class="line" id="025538"><span class="nick" style="color:#389600"><a href="#025538" label="[02:55:38]">&lt;fosslinux&gt;</a></span><span class="message">MES_CORE=0 bin/mes-m2 -f mes/module/mescc.scm result in a scheme repl loop?</span></div><div class="line" id="025540"><span class="nick" style="color:#2e2a4a"><a href="#025540" label="[02:55:40]">&lt;oriansj&gt;</a></span><span class="message">detection of TTL needs to be figured out at an M2-Planet level; otherwise I'd have to seperate out that behavior</span></div><div class="line" id="025613"><span class="nick" style="color:#2e2a4a"><a href="#025613" label="[02:56:13]">&lt;oriansj&gt;</a></span><span class="message">fosslinux: mes-m2 defaults to a REPL unless there is an exit in the code</span></div><div class="line" id="025629"><span class="nick" style="color:#389600"><a href="#025629" label="[02:56:29]">&lt;fosslinux&gt;</a></span><span class="message">ohh, ok</span></div><div class="line" id="025701"><span class="nick" style="color:#2e2a4a"><a href="#025701" label="[02:57:01]">&lt;oriansj&gt;</a></span><span class="message">So one could make a file foo, fill it with a bunch of scheme to play with and do ./bin/mes-m2 -f foo and they then in play in that code</span></div><div class="line" id="025915"><span class="nick" style="color:#2e2a4a"><a href="#025915" label="[02:59:15]">&lt;oriansj&gt;</a></span><span class="message">but if you do: (primitive-load &quot;/dev/stdin&quot;) (exit 42) it'll go to the REPL and when you ctrl-d to terminate input, it'll then return to the exit 42</span></div><div class="line" id="025954"><span class="nick" style="color:#2e2a4a"><a href="#025954" label="[02:59:54]">&lt;oriansj&gt;</a></span><span class="message">(exit) will always terminate no matter how much you nest loads</span></div><div class="line" id="110405"><span class="nick" style="color:#6b8072"><a href="#110405" label="[11:04:05]">&lt;gio&gt;</a></span><span class="message">I came up with the four stages metaphor because I realized that it is hard to convey what different bootstrapping projects are about. There is a quite tangled mess of different projects, and I believed that without some images it would be difficult to explain their relationships.</span></div><div class="line" id="112831"><span class="nick" style="color:#80b1d3"><a href="#112831" label="[11:28:31]">&lt;vagrantc&gt;</a></span><span class="message">janneke: very cool regarding tcc mes and mes-guile-mescc :)</span></div><div class="line" id="113226"><span class="nick" style="color:#6d2462"><a href="#113226" label="[11:32:26]">&lt;janneke&gt;</a></span><span class="message">vagrantc: you got me thinking; i love how that works :)</span></div><div class="line" id="113243"><span class="nick" style="color:#80b1d3"><a href="#113243" label="[11:32:43]">&lt;vagrantc&gt;</a></span><span class="message">i'm all about delegation :)</span></div><div class="line" id="113349"><span class="nick" style="color:#234e69"><a href="#113349" label="[11:33:49]">&lt;civodul&gt;</a></span><span class="message">hey gio, that was a good idea</span></div><div class="line" id="113417"><span class="nick" style="color:#234e69"><a href="#113417" label="[11:34:17]">&lt;civodul&gt;</a></span><span class="message">oh, mes-guile-mescc sounds fun :-)</span></div><div class="line" id="113450"><span class="nick" style="color:#80b1d3"><a href="#113450" label="[11:34:50]">&lt;vagrantc&gt;</a></span><span class="message">janneke: the weakest point of doing &quot;true&quot; diverse double-compiling is that probably our tcc and our guile hae been built with gcc somewhere in it's lineage</span></div><div class="line" id="113505"><span class="nick" style="color:#80b1d3"><a href="#113505" label="[11:35:05]">&lt;vagrantc&gt;</a></span><span class="message">at least on debian that's the case ... maybe guix is more exciting :)</span></div><div class="line" id="113616"><span class="nick" style="color:#80b1d3"><a href="#113616" label="[11:36:16]">&lt;vagrantc&gt;</a></span><span class="message">which, from my re-reading of dwheeler's paper, it talks about ideals ... and i thnk we can fall short of ideals while still making reasonably strong assertions</span></div><div class="line" id="113643"><span class="nick" style="color:#80b1d3"><a href="#113643" label="[11:36:43]">&lt;vagrantc&gt;</a></span><span class="message">the fact that mes itself was written in very recent history is a big plus</span></div><div class="line" id="113658"><span class="nick" style="color:#234e69"><a href="#113658" label="[11:36:58]">&lt;civodul&gt;</a></span><span class="message">at the end of the day, it's all probabilistic though</span></div><div class="line" id="113700"><span class="nick" style="color:#6d2462"><a href="#113700" label="[11:37:00]">&lt;janneke&gt;</a></span><span class="message">civodul: i asserted that guile+mescc -&gt; mes gives us also the bit-for-bit same mes</span></div><div class="line" id="113704"><span class="nick" style="color:#80b1d3"><a href="#113704" label="[11:37:04]">&lt;vagrantc&gt;</a></span><span class="message">if we can get the microsoft folks building mes, we've got a very strong case though :)</span></div><div class="line" id="113731"><span class="nick" style="color:#6d2462"><a href="#113731" label="[11:37:31]">&lt;janneke&gt;</a></span><span class="message">which &quot;only&quot; means that mes is a decent guile implementation</span></div><div class="line" id="113734"><span class="nick" style="color:#6d2462"><a href="#113734" label="[11:37:34]">&lt;janneke&gt;</a></span><span class="message">as far as mescc is concerned ;)</span></div><div class="line" id="113740"><span class="nick" style="color:#80b1d3"><a href="#113740" label="[11:37:40]">&lt;vagrantc&gt;</a></span><span class="message">janneke: the naming convention is starting to get curious with the guile+mes variant :)</span></div><div class="line" id="113836"><span class="nick" style="color:#80b1d3"><a href="#113836" label="[11:38:36]">&lt;vagrantc&gt;</a></span><span class="message">yeah, it's all about probabilities ... the *more* diverse your compile environment, the greater the probability is it's fine</span></div><div class="line" id="113854"><span class="nick" style="color:#80b1d3"><a href="#113854" label="[11:38:54]">&lt;vagrantc&gt;</a></span><span class="message">presuming matching hashes, etc.</span></div><div class="line" id="113933"><span class="nick" style="color:#234e69"><a href="#113933" label="[11:39:33]">&lt;civodul&gt;</a></span><span class="message">&quot;the greater the probability&quot;, though that probability cannot be estimated :-)</span></div><div class="line" id="114014"><span class="nick" style="color:#80b1d3"><a href="#114014" label="[11:40:14]">&lt;vagrantc&gt;</a></span><span class="message">we are infinitely approximate</span></div><div class="line" id="114025"><span class="nick" style="color:#234e69"><a href="#114025" label="[11:40:25]">&lt;civodul&gt;</a></span><span class="message">heheh</span></div><div class="line" id="114050"><span class="nick" style="color:#80b1d3"><a href="#114050" label="[11:40:50]">&lt;vagrantc&gt;</a></span><span class="message">janneke: so if i add tcc to build-depends with your latest patches, will that also generate mes-tcc ?</span></div><div class="line" id="114124"><span class="nick" style="color:#80b1d3"><a href="#114124" label="[11:41:24]">&lt;vagrantc&gt;</a></span><span class="message">and looks like i could start experimenting with adding --with-courage for a few architectures, too ...</span></div><div class="line" id="114135"><span class="nick" style="color:#6d2462"><a href="#114135" label="[11:41:35]">&lt;janneke&gt;</a></span><span class="message">vagrantc: hah, no -- it's either tcc or gcc; and configuring for tcc needs a bit of extra handholding</span></div><div class="line" id="114143"><span class="nick" style="color:#6c3d55"><a href="#114143" label="[11:41:43]">*</a></span><span class="message">vagrantc is really curious to see how far Debian GNU/kFreeBSD would get :)</span></div><div class="line" id="114222"><span class="nick" style="color:#6d2462"><a href="#114222" label="[11:42:22]">&lt;janneke&gt;</a></span><span class="message">vagrantc: didn't i mail you the configure curse to do so</span></div><div class="line" id="114247"><span class="nick" style="color:#80b1d3"><a href="#114247" label="[11:42:47]">&lt;vagrantc&gt;</a></span><span class="message">janneke: yes, you did ... i was just getting too speculative without looking at what i had available :)</span></div><div class="line" id="114302"><span class="nick" style="color:#6d2462"><a href="#114302" label="[11:43:02]">&lt;janneke&gt;</a></span><span class="message">ah, right -- why not :)</span></div><div class="line" id="114328"><span class="nick" style="color:#6d2462"><a href="#114328" label="[11:43:28]">&lt;janneke&gt;</a></span><span class="message">vagrantc: is there any good reason for me not to order a pinebook64 right now?</span></div><div class="line" id="114334"><span class="nick" style="color:#80b1d3"><a href="#114334" label="[11:43:34]">&lt;vagrantc&gt;</a></span><span class="message">it's just a different configure argument, though ... no further handholding?</span></div><div class="line" id="114342"><span class="nick" style="color:#80b1d3"><a href="#114342" label="[11:43:42]">&lt;vagrantc&gt;</a></span><span class="message">janneke: pinebook pro?</span></div><div class="line" id="114357"><span class="nick" style="color:#6d2462"><a href="#114357" label="[11:43:57]">&lt;janneke&gt;</a></span><span class="message">ah, yes the 4gb pro</span></div><div class="line" id="114413"><span class="nick" style="color:#6d2462"><a href="#114413" label="[11:44:13]">&lt;janneke&gt;</a></span><span class="message">vagrantc: promised, no further handholding, completely bug-free!</span></div><div class="line" id="114414"><span class="nick" style="color:#80b1d3"><a href="#114414" label="[11:44:14]">&lt;vagrantc&gt;</a></span><span class="message">janneke: i'll have better first-hand information in a few days :)</span></div><div class="line" id="114421"><span class="nick" style="color:#80b1d3"><a href="#114421" label="[11:44:21]">&lt;vagrantc&gt;</a></span><span class="message">janneke: hah!</span></div><div class="line" id="114434"><span class="nick" style="color:#6d2462"><a href="#114434" label="[11:44:34]">&lt;janneke&gt;</a></span><span class="message">aka &quot;it worked for me&quot;</span></div><div class="line" id="114439"><span class="nick" style="color:#6d2462"><a href="#114439" label="[11:44:39]">&lt;janneke&gt;</a></span><span class="message">;)</span></div><div class="line" id="114509"><span class="nick" style="color:#80b1d3"><a href="#114509" label="[11:45:09]">&lt;vagrantc&gt;</a></span><span class="message">janneke: but in theory the pinebook pro would allow you to test both aarch64 and armhf/armv7</span></div><div class="line" id="114602"><span class="nick" style="color:#6d2462"><a href="#114602" label="[11:46:02]">&lt;janneke&gt;</a></span><span class="message">vagrantc: exactly; better help dannym with the port, and help myself/the world move away from intel addiction</span></div><div class="line" id="114643"><span class="nick" style="color:#6d2462"><a href="#114643" label="[11:46:43]">&lt;janneke&gt;</a></span><span class="message">now if they would mount an e-ink display on arm, 3wk of battery life...</span></div><div class="line" id="114649"><span class="nick" style="color:#80b1d3"><a href="#114649" label="[11:46:49]">&lt;vagrantc&gt;</a></span><span class="message">heh</span></div><div class="line" id="115820"><span class="nick" style="color:#80b1d3"><a href="#115820" label="[11:58:20]">&lt;vagrantc&gt;</a></span><span class="message">looks like mescc-tools will need support for hurd-i386 and kfreebsd-i386 and kfreebsd-amd64 before i can dream of it building mes</span></div><div class="line" id="115840"><span class="nick" style="color:#80b1d3"><a href="#115840" label="[11:58:40]">&lt;vagrantc&gt;</a></span><span class="message">janneke: i'm somewhat regressing the MES vs. Mes that i seem to have accidentally convinced you of :)</span></div><div class="line" id="120232"><span class="nick" style="color:#6d2462"><a href="#120232" label="[12:02:32]">&lt;janneke&gt;</a></span><span class="message">vagrantc: good :) any particular insight you want to share?</span></div><div class="line" id="120321"><span class="nick" style="color:#80b1d3"><a href="#120321" label="[12:03:21]">&lt;vagrantc&gt;</a></span><span class="message">janneke: too many capital letters is hard on the eyes ... but i can live with either way</span></div><div class="line" id="120330"><span class="nick" style="color:#80b1d3"><a href="#120330" label="[12:03:30]">&lt;vagrantc&gt;</a></span><span class="message">s,regressing,regretting,g</span></div><div class="line" id="120333"><span class="nick" style="color:#6d2462"><a href="#120333" label="[12:03:33]">&lt;janneke&gt;</a></span><span class="message">vagrantc: mescc-tools &quot;just builds&quot; on hurd, possibly not all tests pass</span></div><div class="line" id="120402"><span class="nick" style="color:#6d2462"><a href="#120402" label="[12:04:02]">&lt;janneke&gt;</a></span><span class="message">vagrantc: you had me well-enough convinced to draft a patch</span></div><div class="line" id="120434"><span class="nick" style="color:#6d2462"><a href="#120434" label="[12:04:34]">&lt;janneke&gt;</a></span><span class="message">having it reduced to a simple decision sometimes makes it easier, i'm not convinced either way</span></div><div class="line" id="120546"><span class="nick" style="color:#6d2462"><a href="#120546" label="[12:05:46]">&lt;janneke&gt;</a></span><span class="message">i do think that it used to be G.U.I.L.E. -&gt; GUILE -&gt; Guile; and having seen such patterns made me go for Mes directly (although i seldom do shortcuts :)</span></div><div class="line" id="120610"><span class="nick" style="color:#80b1d3"><a href="#120610" label="[12:06:10]">&lt;vagrantc&gt;</a></span><span class="message">janneke: there are some things worth skipping the bootstrap</span></div><div class="line" id="120912"><span class="nick" style="color:#6d2462"><a href="#120912" label="[12:09:12]">&lt;janneke&gt;</a></span><span class="message">vagrantc: note that on hurd, &quot;only&quot; mescc -S will work, no forking to run M1 or hex2</span></div><div class="line" id="120942"><span class="nick" style="color:#6d2462"><a href="#120942" label="[12:09:42]">&lt;janneke&gt;</a></span><span class="message">and on freebsd...well, nothing much works yet except for configure and 5 initial ELF scaffold tests</span></div><div class="line" id="120944"><span class="nick" style="color:#80b1d3"><a href="#120944" label="[12:09:44]">&lt;vagrantc&gt;</a></span><span class="message"> <a rel="nofollow" href="https://buildd.debian.org/status/package.php?p=mescc%2dtools">https://buildd.debian.org/status/package.php?p=mescc%2dtools</a>  some issue with a sha256 tool?</span></div><div class="line" id="121200"><span class="nick" style="color:#6d2462"><a href="#121200" label="[12:12:00]">&lt;janneke&gt;</a></span><span class="message">omit the check/test phase on those (or fix sha256sum? :-D</span></div><div class="line" id="121807"><span class="nick" style="color:#6d2462"><a href="#121807" label="[12:18:07]">&lt;janneke&gt;</a></span><span class="message">hmm, weird; mescc-tools has a script for that</span></div><div class="line" id="121859"><span class="nick" style="color:#6c3d55"><a href="#121859" label="[12:18:59]">*</a></span><span class="message">janneke goes afk for a bit</span></div><div class="line" id="122944"><span class="nick" style="color:#2e2a4a"><a href="#122944" label="[12:29:44]">&lt;oriansj&gt;</a></span><span class="message">vagrantc: well sha256.sh depends upon get_machine --OS to return the correct result. So if you can get get_machine to return the correct OS name, the script should only run the sha256 form required for a particular host.</span></div><div class="line" id="123001"><span class="nick" style="color:#80b1d3"><a href="#123001" label="[12:30:01]">&lt;vagrantc&gt;</a></span><span class="message">oriansj: yeah, looking at that now</span></div><div class="line" id="123017"><span class="nick" style="color:#80b1d3"><a href="#123017" label="[12:30:17]">&lt;vagrantc&gt;</a></span><span class="message">apparently, on Debian GNU/Hurd it reports &quot;GNU&quot;</span></div><div class="line" id="123026"><span class="nick" style="color:#80b1d3"><a href="#123026" label="[12:30:26]">&lt;vagrantc&gt;</a></span><span class="message">debian kfreebsd will be more interesting :)</span></div><div class="line" id="123035"><span class="nick" style="color:#80b1d3"><a href="#123035" label="[12:30:35]">&lt;vagrantc&gt;</a></span><span class="message">er, debian gnu/kfreebsd</span></div><div class="line" id="123110"><span class="nick" style="color:#2e2a4a"><a href="#123110" label="[12:31:10]">&lt;oriansj&gt;</a></span><span class="message">well as I have not been testing on those targets, it'll be educational</span></div><div class="line" id="123114"><span class="nick" style="color:#80b1d3"><a href="#123114" label="[12:31:14]">&lt;vagrantc&gt;</a></span><span class="message">i suspect both hurd and debian gnu/kfreebsd will be the same as Linux is currently</span></div><div class="line" id="123148"><span class="nick" style="color:#80b1d3"><a href="#123148" label="[12:31:48]">&lt;vagrantc&gt;</a></span><span class="message">since they all use sha256sum from GNU coreutils</span></div><div class="line" id="123235"><span class="nick" style="color:#2e2a4a"><a href="#123235" label="[12:32:35]">&lt;oriansj&gt;</a></span><span class="message">well get_machine just does uname(unameData) and grabs the field with the desired information</span></div><div class="line" id="123325"><span class="nick" style="color:#80b1d3"><a href="#123325" label="[12:33:25]">&lt;vagrantc&gt;</a></span><span class="message">gnu/kfreebsd will require checking for something else</span></div><div class="line" id="123403"><span class="nick" style="color:#80b1d3"><a href="#123403" label="[12:34:03]">&lt;vagrantc&gt;</a></span><span class="message">what about instead of checking for the running kernel you check which utility is available, since they appear to be different for the three currently supported so far?</span></div><div class="line" id="123407"><span class="nick" style="color:#2e2a4a"><a href="#123407" label="[12:34:07]">&lt;oriansj&gt;</a></span><span class="message">and the M2-Planet way of doing that is: <a rel="nofollow" href="https://paste.debian.net/1120900/">https://paste.debian.net/1120900/</a> </span></div><div class="line" id="123544"><span class="nick" style="color:#2e2a4a"><a href="#123544" label="[12:35:44]">&lt;oriansj&gt;</a></span><span class="message">what would be the standard alternate command for kfreebsd to get the utsname?</span></div><div class="line" id="123633"><span class="nick" style="color:#80b1d3"><a href="#123633" label="[12:36:33]">&lt;vagrantc&gt;</a></span><span class="message">so, debian gnu/kfreebsd is the freebsd kernel with the GNU userland</span></div><div class="line" id="123642"><span class="nick" style="color:#80b1d3"><a href="#123642" label="[12:36:42]">&lt;vagrantc&gt;</a></span><span class="message">it's a bit of a weird beast</span></div><div class="line" id="123728"><span class="nick" style="color:#2e2a4a"><a href="#123728" label="[12:37:28]">&lt;oriansj&gt;</a></span><span class="message">vagrantc: I can deal with weird if it is consistent</span></div><div class="line" id="123856"><span class="nick" style="color:#80b1d3"><a href="#123856" label="[12:38:56]">&lt;vagrantc&gt;</a></span><span class="message">the kernel isn't a great indicated of what userspace tools are available</span></div><div class="line" id="123900"><span class="nick" style="color:#80b1d3"><a href="#123900" label="[12:39:00]">&lt;vagrantc&gt;</a></span><span class="message">indicator</span></div><div class="line" id="123937"><span class="nick" style="color:#80b1d3"><a href="#123937" label="[12:39:37]">&lt;vagrantc&gt;</a></span><span class="message">for sha256sum, sha, and sha256, fortunately, the tools all have different names</span></div><div class="line" id="124000"><span class="nick" style="color:#80b1d3"><a href="#124000" label="[12:40:00]">&lt;vagrantc&gt;</a></span><span class="message">so in that case, just checking for which tools are present would be better</span></div><div class="line" id="124025"><span class="nick" style="color:#80b1d3"><a href="#124025" label="[12:40:25]">&lt;vagrantc&gt;</a></span><span class="message">presuming mescc-tools can assume they're present</span></div><div class="line" id="124045"><span class="nick" style="color:#80b1d3"><a href="#124045" label="[12:40:45]">&lt;vagrantc&gt;</a></span><span class="message">things like tar are a bit more inconsistant</span></div><div class="line" id="124118"><span class="nick" style="color:#2e2a4a"><a href="#124118" label="[12:41:18]">&lt;oriansj&gt;</a></span><span class="message">uname is a syscall</span></div><div class="line" id="124416"><span class="nick" style="color:#80b1d3"><a href="#124416" label="[12:44:16]">&lt;vagrantc&gt;</a></span><span class="message">and it may not always be the right system call to determine which checksum tool to use, is all i'm saying</span></div><div class="line" id="124432"><span class="nick" style="color:#80b1d3"><a href="#124432" label="[12:44:32]">&lt;vagrantc&gt;</a></span><span class="message">it's asking the wrong question</span></div><div class="line" id="133835"><span class="nick" style="color:#234e69"><a href="#133835" label="[13:38:35]">&lt;civodul&gt;</a></span><span class="message">+1, i'd recommend trying to execute &quot;sha256sum&quot; and &quot;sha256&quot;</span></div><div class="line" id="133948"><span class="nick" style="color:#80b1d3"><a href="#133948" label="[13:39:48]">&lt;vagrantc&gt;</a></span><span class="message">and &quot;sha&quot; :)</span></div><div class="line" id="134036"><span class="nick" style="color:#234e69"><a href="#134036" label="[13:40:36]">&lt;civodul&gt;</a></span><span class="message">is that a thing?</span></div><div class="line" id="134052"><span class="nick" style="color:#234e69"><a href="#134052" label="[13:40:52]">&lt;civodul&gt;</a></span><span class="message">BSD userland has &quot;sha256&quot; IIRC, no?</span></div><div class="line" id="134112"><span class="nick" style="color:#234e69"><a href="#134112" label="[13:41:12]">&lt;civodul&gt;</a></span><span class="message">but anyway, something like that :-)</span></div><div class="line" id="135128"><span class="nick" style="color:#80b1d3"><a href="#135128" label="[13:51:28]">&lt;vagrantc&gt;</a></span><span class="message">apparently, there's a statement for NetBSD that uses &quot;sha&quot;</span></div><div class="line" id="135829"><span class="nick" style="color:#234e69"><a href="#135829" label="[13:58:29]">&lt;civodul&gt;</a></span><span class="message">oh, fun, and that's SHA256?</span></div><div class="line" id="135830"><span class="nick" style="color:#80b1d3"><a href="#135830" label="[13:58:30]">&lt;vagrantc&gt;</a></span><span class="message">janneke: does the ./configure CC=tcc ... --with-courage  ... generate bin/mes-gcc or bin/mes-tcc ?</span></div><div class="line" id="135845"><span class="nick" style="color:#80b1d3"><a href="#135845" label="[13:58:45]">&lt;vagrantc&gt;</a></span><span class="message">civodul: it takes an argument for which algorithm</span></div><div class="line" id="135909"><span class="nick" style="color:#80b1d3"><a href="#135909" label="[13:59:09]">&lt;vagrantc&gt;</a></span><span class="message">according to mescc-tools, anyways :)</span></div><div class="line" id="141010"><span class="nick" style="color:#80b1d3"><a href="#141010" label="[14:10:10]">&lt;vagrantc&gt;</a></span><span class="message">janneke: does the tcc build produce bin/mes-gcc ... or am i failing to get configure to work correctly?</span></div><div class="line" id="141524"><span class="nick" style="color:#6d2462"><a href="#141524" label="[14:15:24]">&lt;janneke&gt;</a></span><span class="message">vagrantc: yes, it produces bin/mes-gcc</span></div><div class="line" id="141611"><span class="nick" style="color:#6d2462"><a href="#141611" label="[14:16:11]">&lt;janneke&gt;</a></span><span class="message">&quot;gcc&quot; being the flavour of assembly used in lib/&lt;cpu&gt;-mes-&lt;cc-flavour&gt;</span></div><div class="line" id="141702"><span class="nick" style="color:#6d2462"><a href="#141702" label="[14:17:02]">&lt;janneke&gt;</a></span><span class="message">you can double check the value of CC in config.sh</span></div><div class="line" id="142513"><span class="nick" style="color:#80b1d3"><a href="#142513" label="[14:25:13]">&lt;vagrantc&gt;</a></span><span class="message">CC=${CC-&quot;/usr/bin/gcc&quot;}</span></div><div class="line" id="142527"><span class="nick" style="color:#80b1d3"><a href="#142527" label="[14:25:27]">&lt;vagrantc&gt;</a></span><span class="message">which ... doesn't make it obvious to me :)</span></div><div class="line" id="142612"><span class="nick" style="color:#80b1d3"><a href="#142612" label="[14:26:12]">&lt;vagrantc&gt;</a></span><span class="message">but maybe it's already on to the mescc build?</span></div><div class="line" id="142935"><span class="nick" style="color:#80b1d3"><a href="#142935" label="[14:29:35]">&lt;vagrantc&gt;</a></span><span class="message">looks like it's using gcc from grepping through the build log more...</span></div><div class="line" id="143113"><span class="nick" style="color:#6d2462"><a href="#143113" label="[14:31:13]">&lt;janneke&gt;</a></span><span class="message">Yeah, that's not good</span></div><div class="line" id="143121"><span class="nick" style="color:#6d2462"><a href="#143121" label="[14:31:21]">&lt;janneke&gt;</a></span><span class="message">i have: CC=${CC-&quot;/gnu/store/b86cbcp53pndg3b3jl4m2zhy425asknd-profile/bin/tcc&quot;}</span></div><div class="line" id="143141"><span class="nick" style="color:#6d2462"><a href="#143141" label="[14:31:41]">&lt;janneke&gt;</a></span><span class="message">you need a recent `wip' for this</span></div><div class="line" id="143214"><span class="nick" style="color:#80b1d3"><a href="#143214" label="[14:32:14]">&lt;vagrantc&gt;</a></span><span class="message">does it need the full path?</span></div><div class="line" id="143227"><span class="nick" style="color:#80b1d3"><a href="#143227" label="[14:32:27]">&lt;vagrantc&gt;</a></span><span class="message">e.g. /usr/bin/tcc vs. tcc ?</span></div><div class="line" id="143243"><span class="nick" style="color:#6d2462"><a href="#143243" label="[14:32:43]">&lt;janneke&gt;</a></span><span class="message">vagrantc: no, that's what configure puts in after i do</span></div><div class="line" id="143247"><span class="nick" style="color:#6d2462"><a href="#143247" label="[14:32:47]">&lt;janneke&gt;</a></span><span class="message">./configure CC=tcc --with-courage --host=i686-unknown-linux-gnu</span></div><div class="line" id="143306"><span class="nick" style="color:#80b1d3"><a href="#143306" label="[14:33:06]">&lt;vagrantc&gt;</a></span><span class="message">excellent feedback &quot;Applying courage&quot; :)</span></div><div class="line" id="143342"><span class="nick" style="color:#6c3d55"><a href="#143342" label="[14:33:42]">*</a></span><span class="message">vagrantc uses the shortgun approach to export the variable</span></div><div class="line" id="143514"><span class="nick" style="color:#80b1d3"><a href="#143514" label="[14:35:14]">&lt;vagrantc&gt;</a></span><span class="message">janneke: i've got everything except the Mes -&gt; MES patch :)</span></div><div class="line" id="143534"><span class="nick" style="color:#6d2462"><a href="#143534" label="[14:35:34]">&lt;janneke&gt;</a></span><span class="message">vagrantc: good!</span></div><div class="line" id="143718"><span class="nick" style="color:#80b1d3"><a href="#143718" label="[14:37:18]">&lt;vagrantc&gt;</a></span><span class="message">seems to fall back to cc instead</span></div><div class="line" id="143722"><span class="nick" style="color:#6d2462"><a href="#143722" label="[14:37:22]">&lt;janneke&gt;</a></span><span class="message">for me, configure says:</span></div><div class="line" id="143731"><span class="nick" style="color:#6d2462"><a href="#143731" label="[14:37:31]">&lt;janneke&gt;</a></span><span class="message">checking for cc [0]... no  (several times)</span></div><div class="line" id="143732"><span class="nick" style="color:#6d2462"><a href="#143732" label="[14:37:32]">&lt;janneke&gt;</a></span><span class="message">checking for tcc [0]...  0.9.27</span></div><div class="line" id="143807"><span class="nick" style="color:#6d2462"><a href="#143807" label="[14:38:07]">&lt;janneke&gt;</a></span><span class="message">yeah, i feared that much; does adding `--verbose' to configure give some insight?</span></div><div class="line" id="144032"><span class="nick" style="color:#80b1d3"><a href="#144032" label="[14:40:32]">&lt;vagrantc&gt;</a></span><span class="message">maybe i need to install libtcc-dev</span></div><div class="line" id="144351"><span class="nick" style="color:#80b1d3"><a href="#144351" label="[14:43:51]">&lt;vagrantc&gt;</a></span><span class="message">no dice, it still decides to use cc</span></div><div class="line" id="144744"><span class="nick" style="color:#80b1d3"><a href="#144744" label="[14:47:44]">&lt;vagrantc&gt;</a></span><span class="message">checking for cc [0]... command[256]: &quot;/usr/bin/tcc --version&quot; =&gt;  [tcc: error: invalid option -- '--version'</span></div><div class="line" id="144748"><span class="nick" style="color:#80b1d3"><a href="#144748" label="[14:47:48]">&lt;vagrantc&gt;</a></span><span class="message">that looks curious</span></div><div class="line" id="144940"><span class="nick" style="color:#80b1d3"><a href="#144940" label="[14:49:40]">&lt;vagrantc&gt;</a></span><span class="message">and later: checking for cc is Tiny CC....config.c:2:2: error: #error no tinycc</span></div><div class="line" id="144955"><span class="nick" style="color:#80b1d3"><a href="#144955" label="[14:49:55]">&lt;vagrantc&gt;</a></span><span class="message">and checking for cc is GNU C... yes</span></div><div class="line" id="145016"><span class="nick" style="color:#80b1d3"><a href="#145016" label="[14:50:16]">&lt;vagrantc&gt;</a></span><span class="message">it's entirely possible i've failed to pass CC to it...</span></div><div class="line" id="145031"><span class="nick" style="color:#80b1d3"><a href="#145031" label="[14:50:31]">&lt;vagrantc&gt;</a></span><span class="message">still find makefiles a bit odd.</span></div><div class="line" id="145336"><span class="nick" style="color:#80b1d3"><a href="#145336" label="[14:53:36]">&lt;vagrantc&gt;</a></span><span class="message">curious ... now config.sh has: CC=${CC-&quot;/usr/bin/cc&quot;}</span></div><div class="line" id="145350"><span class="nick" style="color:#80b1d3"><a href="#145350" label="[14:53:50]">&lt;vagrantc&gt;</a></span><span class="message">as opposed to gcc</span></div><div class="line" id="145517"><span class="nick" style="color:#6d2462"><a href="#145517" label="[14:55:17]">&lt;janneke&gt;</a></span><span class="message">that's weird</span></div><div class="line" id="145548"><span class="nick" style="color:#6d2462"><a href="#145548" label="[14:55:48]">&lt;janneke&gt;</a></span><span class="message">if someone could devise a great way for people to interactively enter build scripts, that would be nice</span></div><div class="line" id="145656"><span class="nick" style="color:#6d2462"><a href="#145656" label="[14:56:56]">&lt;janneke&gt;</a></span><span class="message">vagrantc: after the `--version' it should also say something like:</span></div><div class="line" id="145725"><span class="nick" style="color:#6d2462"><a href="#145725" label="[14:57:25]">&lt;janneke&gt;</a></span><span class="message">checking for tcc [0]... command[0]: &quot;tcc -v&quot; =&gt; tcc version 0.9.27 (i386 Linux)</span></div><div class="line" id="145745"><span class="nick" style="color:#6d2462"><a href="#145745" label="[14:57:45]">&lt;janneke&gt;</a></span><span class="message">vagrantc: ah...i think i found it</span></div><div class="line" id="145806"><span class="nick" style="color:#6d2462"><a href="#145806" label="[14:58:06]">&lt;janneke&gt;</a></span><span class="message">i see this line just before it finds tcc:</span></div><div class="line" id="145809"><span class="nick" style="color:#6d2462"><a href="#145809" label="[14:58:09]">&lt;janneke&gt;</a></span><span class="message">checking for cc [0]... command[32512]: &quot;cc --version&quot; =&gt;  [/gnu/store/29jhbbg1hf557x8j53f9sxd9imlmf02a-bash-minimal-5.0.7/bin/bash: cc: command not found</span></div><div class="line" id="145810"><span class="nick" style="color:#6d2462"><a href="#145810" label="[14:58:10]">&lt;janneke&gt;</a></span><span class="message"> </span></div><div class="line" id="145829"><span class="nick" style="color:#6d2462"><a href="#145829" label="[14:58:29]">&lt;janneke&gt;</a></span><span class="message">and i am guessing that debian has /usr/bin/cc, which then wins</span></div><div class="line" id="145858"><span class="nick" style="color:#6d2462"><a href="#145858" label="[14:58:58]">&lt;janneke&gt;</a></span><span class="message">we should probably check for tcc first, does that make sense?</span></div><div class="line" id="145920"><span class="nick" style="color:#80b1d3"><a href="#145920" label="[14:59:20]">&lt;vagrantc&gt;</a></span><span class="message">yes</span></div><div class="line" id="145951"><span class="nick" style="color:#6d2462"><a href="#145951" label="[14:59:51]">&lt;janneke&gt;</a></span><span class="message">or actually, check for env var CC first, before attempting `cc' or 'gcc'</span></div><div class="line" id="145959"><span class="nick" style="color:#80b1d3"><a href="#145959" label="[14:59:59]">&lt;vagrantc&gt;</a></span><span class="message">yes, even better :)</span></div><div class="line" id="150031"><span class="nick" style="color:#6d2462"><a href="#150031" label="[15:00:31]">&lt;janneke&gt;</a></span><span class="message">those silly Guix people, they can check for anything they like because its never there anyway</span></div><div class="line" id="150106"><span class="nick" style="color:#80b1d3"><a href="#150106" label="[15:01:06]">&lt;vagrantc&gt;</a></span><span class="message">heh</span></div><div class="line" id="150129"><span class="nick" style="color:#80b1d3"><a href="#150129" label="[15:01:29]">&lt;vagrantc&gt;</a></span><span class="message">yes, this is definitely making me envious of being able to have a more minimal build system</span></div><div class="line" id="150138"><span class="nick" style="color:#80b1d3"><a href="#150138" label="[15:01:38]">&lt;vagrantc&gt;</a></span><span class="message">or minimal base dependencies</span></div><div class="line" id="150225"><span class="nick" style="color:#6c3d55"><a href="#150225" label="[15:02:25]">*</a></span><span class="message">vagrantc tries a quick-and-dirty patch putting tcc higher up in the list...</span></div><div class="line" id="150320"><span class="nick" style="color:#6d2462"><a href="#150320" label="[15:03:20]">&lt;janneke&gt;</a></span><span class="message">good, i was going to say: this needs a bit of attention/time for me to do right</span></div><div class="line" id="150418"><span class="nick" style="color:#6d2462"><a href="#150418" label="[15:04:18]">&lt;janneke&gt;</a></span><span class="message">hmm, changing the order might not be &quot;right&quot; but is certainly &quot;better&quot; and should work</span></div><div class="line" id="150449"><span class="nick" style="color:#80b1d3"><a href="#150449" label="[15:04:49]">&lt;vagrantc&gt;</a></span><span class="message">or is it ...                      (&quot;@CC@&quot; . ,(or (file-name &quot;cc&quot; deps) (file-name &quot;tcc&quot; deps) &quot;&quot;)) ?</span></div><div class="line" id="150517"><span class="nick" style="color:#80b1d3"><a href="#150517" label="[15:05:17]">&lt;vagrantc&gt;</a></span><span class="message">i want to get that hash working :)</span></div><div class="line" id="150707"><span class="nick" style="color:#6d2462"><a href="#150707" label="[15:07:07]">&lt;janneke&gt;</a></span><span class="message">ah yes, surely that!</span></div><div class="line" id="150730"><span class="nick" style="color:#6d2462"><a href="#150730" label="[15:07:30]">&lt;janneke&gt;</a></span><span class="message">this could really do with some code removal and sanitation</span></div><div class="line" id="150755"><span class="nick" style="color:#80b1d3"><a href="#150755" label="[15:07:55]">&lt;vagrantc&gt;</a></span><span class="message">looks like i should rearrange that instead</span></div><div class="line" id="151013"><span class="nick" style="color:#6d2462"><a href="#151013" label="[15:10:13]">&lt;janneke&gt;</a></span><span class="message">i even added &quot;TCC&quot; i see now, that does not make any sense</span></div><div class="line" id="151130"><span class="nick" style="color:#80b1d3"><a href="#151130" label="[15:11:30]">&lt;vagrantc&gt;</a></span><span class="message">hrm. rearranging the @CC@ line didn't work either</span></div><div class="line" id="152711"><span class="nick" style="color:#80b1d3"><a href="#152711" label="[15:27:11]">&lt;vagrantc&gt;</a></span><span class="message">by passing CC=tcc to the build target it get it to fail to build ... which is a form of progress :)</span></div><div class="line" id="152755"><span class="nick" style="color:#80b1d3"><a href="#152755" label="[15:27:55]">&lt;vagrantc&gt;</a></span><span class="message">still embeds the fallback in config.sh ...</span></div><div class="line" id="152814"><span class="nick" style="color:#6c3d55"><a href="#152814" label="[15:28:14]">*</a></span><span class="message">vagrantc throws some more paint around</span></div><div class="line" id="153842"><span class="nick" style="color:#6c3d55"><a href="#153842" label="[15:38:42]">*</a></span><span class="message">vagrantc goes back to just trying the lastest patches with what previously worked :)</span></div><div class="line" id="155045"><span class="nick" style="color:#6d2462"><a href="#155045" label="[15:50:45]">&lt;janneke&gt;</a></span><span class="message">vagrantc: thanks, i will fire up a debian vm and have a look at this mess</span></div><div class="line" id="155103"><span class="nick" style="color:#6d2462"><a href="#155103" label="[15:51:03]">&lt;janneke&gt;</a></span><span class="message">very grateful for you having a go at this, ty</span></div><div class="line" id="155119"><span class="nick" style="color:#80b1d3"><a href="#155119" label="[15:51:19]">&lt;vagrantc&gt;</a></span><span class="message">very grateful to have something to poke at :)</span></div><div class="line" id="160116"><span class="nick">***</span><span class="message notice">ng0_ is now known as ng0</span></div><div class="line" id="160801"><span class="nick" style="color:#80b1d3"><a href="#160801" label="[16:08:01]">&lt;vagrantc&gt;</a></span><span class="message">no regressions for me with the latest wip patches</span></div><div class="line" id="161107"><span class="nick" style="color:#6d2462"><a href="#161107" label="[16:11:07]">&lt;janneke&gt;</a></span><span class="message">\o/</span></div><div class="line" id="161136"><span class="nick" style="color:#6c3d55"><a href="#161136" label="[16:11:36]">*</a></span><span class="message">janneke just got configure to come up with: CC=${CC-&quot;/home/janneke/bin/cc&quot;}</span></div><div class="line" id="161154"><span class="nick" style="color:#6d2462"><a href="#161154" label="[16:11:54]">&lt;janneke&gt;</a></span><span class="message">disregarding my tcc preference</span></div><div class="line" id="161411"><span class="nick" style="color:#80b1d3"><a href="#161411" label="[16:14:11]">&lt;vagrantc&gt;</a></span><span class="message">yay! sort of.</span></div><div class="line" id="161414"><span class="nick" style="color:#80b1d3"><a href="#161414" label="[16:14:14]">&lt;vagrantc&gt;</a></span><span class="message">:)</span></div><div class="line" id="173042"><span class="nick" style="color:#6d2462"><a href="#173042" label="[17:30:42]">&lt;janneke&gt;</a></span><span class="message">vagrantc: `wip' now has a patch with a configure CC fix</span></div><div class="line" id="173136"><span class="nick" style="color:#6d2462"><a href="#173136" label="[17:31:36]">&lt;janneke&gt;</a></span><span class="message">civodul: i wrote some bootstrapping in reproducible-build-summit-2019.md</span></div><div class="line" id="173219"><span class="nick" style="color:#234e69"><a href="#173219" label="[17:32:19]">&lt;civodul&gt;</a></span><span class="message">janneke: awesome, thank you!</span></div><div class="line" id="173301"><span class="nick" style="color:#6d2462"><a href="#173301" label="[17:33:01]">&lt;janneke&gt;</a></span><span class="message">i was hoping if ae_ could chime in; did you mail/ping him before?</span></div><div class="line" id="173353"><span class="nick" style="color:#234e69"><a href="#173353" label="[17:33:53]">&lt;civodul&gt;</a></span><span class="message">i think ae was one of the recipients</span></div><div class="line" id="173403"><span class="nick" style="color:#234e69"><a href="#173403" label="[17:34:03]">&lt;civodul&gt;</a></span><span class="message">also cbaines (hi! :-))</span></div><div class="line" id="173417"><span class="nick" style="color:#234e69"><a href="#173417" label="[17:34:17]">&lt;civodul&gt;</a></span><span class="message">maybe i'll ping again over the week-end</span></div><div class="line" id="173525"><span class="nick" style="color:#6d2462"><a href="#173525" label="[17:35:25]">&lt;janneke&gt;</a></span><span class="message">yeah, it's very much my perspective, then there was this other guix committer, eh vag... but he might be wearing another hat for this report</span></div><div class="line" id="173527"><span class="nick" style="color:#6d2462"><a href="#173527" label="[17:35:27]">&lt;janneke&gt;</a></span><span class="message">;)</span></div><div class="line" id="173538"><span class="nick" style="color:#80b1d3"><a href="#173538" label="[17:35:38]">&lt;vagrantc&gt;</a></span><span class="message">janneke: yay! will take it for a spin.</span></div><div class="line" id="173553"><span class="nick" style="color:#234e69"><a href="#173553" label="[17:35:53]">&lt;civodul&gt;</a></span><span class="message">ah ha! gotcha!</span></div><div class="line" id="173559"><span class="nick" style="color:#234e69"><a href="#173559" label="[17:35:59]">&lt;civodul&gt;</a></span><span class="message">:-)</span></div><div class="line" id="173607"><span class="nick" style="color:#80b1d3"><a href="#173607" label="[17:36:07]">&lt;vagrantc&gt;</a></span><span class="message">i'll look it over :)</span></div><div class="line" id="173629"><span class="nick" style="color:#234e69"><a href="#173629" label="[17:36:29]">&lt;civodul&gt;</a></span><span class="message">cool, thanks!</span></div><div class="line" id="173630"><span class="nick" style="color:#234e69"><a href="#173630" label="[17:36:30]">&lt;civodul&gt;</a></span><span class="message">also, i hope i didn't write anything obviously wrong</span></div><div class="line" id="173644"><span class="nick" style="color:#6d2462"><a href="#173644" label="[17:36:44]">&lt;janneke&gt;</a></span><span class="message">vagrantc: that would be great, (2x)</span></div><div class="line" id="173742"><span class="nick" style="color:#6d2462"><a href="#173742" label="[17:37:42]">&lt;janneke&gt;</a></span><span class="message">i tried to avoid announcing any 9*fb ddc thing, yet have a cliff-hanger of sorts</span></div><div class="line" id="174012"><span class="nick" style="color:#80b1d3"><a href="#174012" label="[17:40:12]">&lt;vagrantc&gt;</a></span><span class="message">ooh, i had crazy-looking ideas :)</span></div><div class="line" id="174405"><span class="nick" style="color:#6d2462"><a href="#174405" label="[17:44:05]">&lt;janneke&gt;</a></span><span class="message">now you know!</span></div><div class="line" id="174605"><span class="nick" style="color:#234e69"><a href="#174605" label="[17:46:05]">&lt;civodul&gt;</a></span><span class="message">didn't you? :-)</span></div><div class="line" id="174618"><span class="nick" style="color:#234e69"><a href="#174618" label="[17:46:18]">&lt;civodul&gt;</a></span><span class="message">janneke: a teaser is fine!</span></div><div class="line" id="175632"><span class="nick" style="color:#80b1d3"><a href="#175632" label="[17:56:32]">&lt;vagrantc&gt;</a></span><span class="message">it seems to recognize CC=tcc now, but it seems like it skips that build and leaps straight ahead into the bootstrap build...</span></div><div class="line" id="180821"><span class="nick" style="color:#80b1d3"><a href="#180821" label="[18:08:21]">&lt;vagrantc&gt;</a></span><span class="message">very quickly does: /&lt;&lt;PKGBUILDDIR&gt;&gt;/scripts/mescc: line 60: /&lt;&lt;PKGBUILDDIR&gt;&gt;/bin/mes: No such file or directory</span></div><div class="line" id="180844"><span class="nick" style="color:#80b1d3"><a href="#180844" label="[18:08:44]">&lt;vagrantc&gt;</a></span><span class="message">ah...</span></div><div class="line" id="180858"><span class="nick" style="color:#80b1d3"><a href="#180858" label="[18:08:58]">&lt;vagrantc&gt;</a></span><span class="message">cp: cannot stat 'bin/mes-mescc': No such file or directory</span></div><div class="line" id="180910"><span class="nick" style="color:#80b1d3"><a href="#180910" label="[18:09:10]">&lt;vagrantc&gt;</a></span><span class="message">it looks like it's trying to bootstrap mes-mescc with mes-mescc...</span></div><div class="line" id="180957"><span class="nick" style="color:#6d2462"><a href="#180957" label="[18:09:57]">&lt;janneke&gt;</a></span><span class="message">ah, hmm -- iwbn if that would also work...but that's a different story; didn't look into that now</span></div><div class="line" id="181044"><span class="nick" style="color:#6c3d55"><a href="#181044" label="[18:10:44]">*</a></span><span class="message">vagrantc tries a conventional gcc build and it seems to be working</span></div><div class="line" id="182029"><span class="nick" style="color:#80b1d3"><a href="#182029" label="[18:20:29]">&lt;vagrantc&gt;</a></span><span class="message">doesn't break the gcc build, at least :)</span></div><div class="line" id="183317"><span class="nick" style="color:#6c3d55"><a href="#183317" label="[18:33:17]">*</a></span><span class="message">janneke cheers, somewhat</span></div><div class="line" id="215723"><span class="nick" style="color:#2e2a4a"><a href="#215723" label="[21:57:23]">&lt;oriansj&gt;</a></span><span class="message">vagrantc: you are probably right</span></div><div class="line" id="220235"><span class="nick" style="color:#2e2a4a"><a href="#220235" label="[22:02:35]">&lt;oriansj&gt;</a></span><span class="message">is something like [ -e /usr/bin/sha256sum ] portable enough for the BSDs?</span></div><div class="line" id="221418"><span class="nick" style="color:#d9d9d9"><a href="#221418" label="[22:14:18]">&lt;ng0&gt;</a></span><span class="message">no</span></div><div class="line" id="221420"><span class="nick" style="color:#d9d9d9"><a href="#221420" label="[22:14:20]">&lt;ng0&gt;</a></span><span class="message">for some</span></div><div class="line" id="221439"><span class="nick" style="color:#d9d9d9"><a href="#221439" label="[22:14:39]">&lt;ng0&gt;</a></span><span class="message">FreeBSD has sha256sum(1), others don't</span></div><div class="line" id="221500"><span class="nick" style="color:#d9d9d9"><a href="#221500" label="[22:15:00]">&lt;ng0&gt;</a></span><span class="message">what do you want to test?</span></div><div class="line" id="222012"><span class="nick" style="color:#389600"><a href="#222012" label="[22:20:12]">&lt;fosslinux&gt;</a></span><span class="message">janneke, vagrantc: I would be interested in helping with aarch64/armv7l, I have 2 pi's which can run both</span></div><div class="line" id="222034"><span class="nick" style="color:#d9d9d9"><a href="#222034" label="[22:20:34]">&lt;ng0&gt;</a></span><span class="message">freebsd 11.0: sha256 $FILE. other versions(?): shasum -a 256. NetBSD: sum -a SHA256 $FILE. I'm not aware how others implement it, but referneces are online</span></div><div class="line" id="222159"><span class="nick" style="color:#2e2a4a"><a href="#222159" label="[22:21:59]">&lt;oriansj&gt;</a></span><span class="message">ng0: essentially do [ -e $PATH ] for all of the tools for doing sha256 sums and just walk down that if elif else list</span></div><div class="line" id="222312"><span class="nick" style="color:#d9d9d9"><a href="#222312" label="[22:23:12]">&lt;ng0&gt;</a></span><span class="message">ah</span></div><div class="line" id="222348"><span class="nick" style="color:#d9d9d9"><a href="#222348" label="[22:23:48]">&lt;ng0&gt;</a></span><span class="message">shasum can also be a perl tool, I'd put that last, or something</span></div><div class="line" id="222357"><span class="nick" style="color:#d9d9d9"><a href="#222357" label="[22:23:57]">&lt;ng0&gt;</a></span><span class="message">at least for me it ships with perl</span></div><div class="line" id="222425"><span class="nick" style="color:#2e2a4a"><a href="#222425" label="[22:24:25]">&lt;oriansj&gt;</a></span><span class="message">ng0: well I still need to know the paths for the BSDs, so that I can start in the right direction</span></div><div class="line" id="222436"><span class="nick" style="color:#d9d9d9"><a href="#222436" label="[22:24:36]">&lt;ng0&gt;</a></span><span class="message"> <a rel="nofollow" href="https://man.openbsd.org/sha256.1">https://man.openbsd.org/sha256.1</a> </span></div><div class="line" id="222509"><span class="nick" style="color:#d9d9d9"><a href="#222509" label="[22:25:09]">&lt;ng0&gt;</a></span><span class="message">beats me. i can only tell you about netbsd right now: /usr/bin/sum</span></div><div class="line" id="222631"><span class="nick" style="color:#d9d9d9"><a href="#222631" label="[22:26:31]">&lt;ng0&gt;</a></span><span class="message">unless OpenBSD diverged too much, they might still have cksum?</span></div><div class="line" id="222639"><span class="nick" style="color:#2e2a4a"><a href="#222639" label="[22:26:39]">&lt;oriansj&gt;</a></span><span class="message">ng0: well hopefully someone on those platforms gets annoyed by it not working and submits a pull request or patch</span></div><div class="line" id="222702"><span class="nick" style="color:#d9d9d9"><a href="#222702" label="[22:27:02]">&lt;ng0&gt;</a></span><span class="message">that's how it usually goes, yes</span></div><div class="line" id="222845"><span class="nick" style="color:#d9d9d9"><a href="#222845" label="[22:28:45]">&lt;ng0&gt;</a></span><span class="message">ah, openbsd still has cksum.</span></div><div class="line" id="222907"><span class="nick" style="color:#d9d9d9"><a href="#222907" label="[22:29:07]">&lt;ng0&gt;</a></span><span class="message">it seems like a wonky bet:</span></div><div class="line" id="222908"><span class="nick" style="color:#2e2a4a"><a href="#222908" label="[22:29:08]">&lt;oriansj&gt;</a></span><span class="message">we probably should also check for the guix sha256sum tool in guile first; janneke/civodul  how to go about detecting that and using it?</span></div><div class="line" id="222910"><span class="nick" style="color:#d9d9d9"><a href="#222910" label="[22:29:10]">&lt;ng0&gt;</a></span><span class="message">The cksum utility is compliant with the IEEE Std 1003.1-2008 (“POSIX.1”) specification.</span></div><div class="line" id="222912"><span class="nick" style="color:#d9d9d9"><a href="#222912" label="[22:29:12]">&lt;ng0&gt;</a></span><span class="message">All the flags are extensions to that specification.</span></div><div class="line" id="223415"><span class="nick" style="color:#2e2a4a"><a href="#223415" label="[22:34:15]">&lt;oriansj&gt;</a></span><span class="message">ok, potential solution patch is up (now to wait for people to complain)</span></div><div class="line" id="225046"><span class="nick" style="color:#6d2462"><a href="#225046" label="[22:50:46]">&lt;janneke&gt;</a></span><span class="message">fosslinux: that's great. aarch64 is still a bit out of reach, but armv7l is supported by mescc-tools and you  could check out the wip-arm and wip-arm2 branches on mes</span></div><div class="line" id="225117"><span class="nick" style="color:#6d2462"><a href="#225117" label="[22:51:17]">&lt;janneke&gt;</a></span><span class="message">if you do, you're in for a bumpy ride, wip-arm* needs some serious development still</span></div><div class="line" id="225213"><span class="nick" style="color:#6d2462"><a href="#225213" label="[22:52:13]">&lt;janneke&gt;</a></span><span class="message">dannym will start to work on mes wip-arm some time soon</span></div><div class="line" id="225246"><span class="nick" style="color:#2e2a4a"><a href="#225246" label="[22:52:46]">&lt;oriansj&gt;</a></span><span class="message">janneke: actually aarch64 is already supported in mescc-tools</span></div><div class="line" id="225314"><span class="nick" style="color:#2e2a4a"><a href="#225314" label="[22:53:14]">&lt;oriansj&gt;</a></span><span class="message">(it was part of the work to help dddddd add aarch64 support to M2-Planet)</span></div><div class="line" id="225433"><span class="nick" style="color:#6d2462"><a href="#225433" label="[22:54:33]">&lt;janneke&gt;</a></span><span class="message">oriansj: ooh, that's just great!</span></div><div class="line" id="225733"><span class="nick" style="color:#2e2a4a"><a href="#225733" label="[22:57:33]">&lt;oriansj&gt;</a></span><span class="message">janneke: also because of the cross-platform work in M2-Planet mes-m2's behavior will be host neutral (I just need to shave the memory usage down a bit)</span></div><div class="line" id="231200"><span class="nick" style="color:#234e69"><a href="#231200" label="[23:12:00]">&lt;civodul&gt;</a></span><span class="message">janneke: great writeup for the r-b report (both the tone &amp; content), thanks a lot!</span></div><div class="line" id="231650"><span class="nick" style="color:#6d2462"><a href="#231650" label="[23:16:50]">&lt;janneke&gt;</a></span><span class="message">oriansj: yes, that's beautiful</span></div><div class="line" id="231748"><span class="nick" style="color:#6d2462"><a href="#231748" label="[23:17:48]">&lt;janneke&gt;</a></span><span class="message">civodul: okay, thanks.  i was mainly wondering what non-mes'y things or people i forgot</span></div><div class="line" id="232651"><span class="nick" style="color:#6c3d55"><a href="#232651" label="[23:26:51]">*</a></span><span class="message">janneke -&gt; zZzz</span></div><br /></div></body></html>