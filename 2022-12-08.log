<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2022-12-08.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000024"><span class="nick" style="color:#389600"><a href="#000024" label="[00:00:24]">&lt;drakonis&gt;</a></span><span class="message">oriansj: slow network?</span></div><div class="line" id="000341"><span class="nick" style="color:#389600"><a href="#000341" label="[00:03:41]">&lt;drakonis&gt;</a></span><span class="message">oriansj: mzig should be minizig or some german pun</span></div><div class="line" id="000618"><span class="nick" style="color:#8dd3c7"><a href="#000618" label="[00:06:18]">&lt;oriansj&gt;</a></span><span class="message">drakonis: yep; my son likes to watch PBSkids and that takes up a big chunk of bandwidth</span></div><div class="line" id="000627"><span class="nick" style="color:#389600"><a href="#000627" label="[00:06:27]">&lt;drakonis&gt;</a></span><span class="message">oic</span></div><div class="line" id="000724"><span class="nick" style="color:#8dd3c7"><a href="#000724" label="[00:07:24]">&lt;oriansj&gt;</a></span><span class="message">drakonis: but I assume whoever does that work will probably name it anything they like and we will probably just be glad someone is ontop of that</span></div><div class="line" id="000738"><span class="nick" style="color:#389600"><a href="#000738" label="[00:07:38]">&lt;drakonis&gt;</a></span><span class="message">aye.</span></div><div class="line" id="000759"><span class="nick" style="color:#389600"><a href="#000759" label="[00:07:59]">&lt;drakonis&gt;</a></span><span class="message">although i think what zig's community is doing is actually quite beneficial for them</span></div><div class="line" id="000822"><span class="nick" style="color:#389600"><a href="#000822" label="[00:08:22]">&lt;drakonis&gt;</a></span><span class="message">plus its probably best to write an alternate implementation that's based off the hypothetical post 1.0 spec</span></div><div class="line" id="001402"><span class="nick" style="color:#8dd3c7"><a href="#001402" label="[00:14:02]">&lt;oriansj&gt;</a></span><span class="message">it would have been better if they just froze the C++ implementation, called it 1.0 and required everything up until 2.0 to be buildable by it</span></div><div class="line" id="001423"><span class="nick" style="color:#389600"><a href="#001423" label="[00:14:23]">&lt;drakonis&gt;</a></span><span class="message">to be fair, its still ways from being complete</span></div><div class="line" id="001546"><span class="nick" style="color:#389600"><a href="#001546" label="[00:15:46]">&lt;drakonis&gt;</a></span><span class="message">its too premature to freeze it</span></div><div class="line" id="001611"><span class="nick" style="color:#389600"><a href="#001611" label="[00:16:11]">&lt;drakonis&gt;</a></span><span class="message">plus it would definitely come back and bit the community back</span></div><div class="line" id="001615"><span class="nick" style="color:#389600"><a href="#001615" label="[00:16:15]">&lt;drakonis&gt;</a></span><span class="message">bite</span></div><div class="line" id="001619"><span class="nick" style="color:#8dd3c7"><a href="#001619" label="[00:16:19]">&lt;oriansj&gt;</a></span><span class="message">but if you can't write basic code it isn't v1.0 and if you can't stand slightly ugly code; then there are other issues.</span></div><div class="line" id="001621"><span class="nick" style="color:#389600"><a href="#001621" label="[00:16:21]">&lt;drakonis&gt;</a></span><span class="message">bite in the ass</span></div><div class="line" id="001647"><span class="nick" style="color:#389600"><a href="#001647" label="[00:16:47]">&lt;drakonis&gt;</a></span><span class="message">there are others, yes.</span></div><div class="line" id="001718"><span class="nick" style="color:#389600"><a href="#001718" label="[00:17:18]">&lt;drakonis&gt;</a></span><span class="message">they're working on these, though you can indeed write basic code with it</span></div><div class="line" id="001805"><span class="nick" style="color:#8dd3c7"><a href="#001805" label="[00:18:05]">&lt;oriansj&gt;</a></span><span class="message">and I can grant you with upgrades it can look even prettier and even run faster</span></div><div class="line" id="001812"><span class="nick" style="color:#389600"><a href="#001812" label="[00:18:12]">&lt;drakonis&gt;</a></span><span class="message">but it's not fully stable yet, there arent any guarantees existing code will build in future versions yet</span></div><div class="line" id="001817"><span class="nick" style="color:#389600"><a href="#001817" label="[00:18:17]">&lt;drakonis&gt;</a></span><span class="message">aye</span></div><div class="line" id="001834"><span class="nick" style="color:#389600"><a href="#001834" label="[00:18:34]">&lt;drakonis&gt;</a></span><span class="message">but that's still some time away</span></div><div class="line" id="001855"><span class="nick" style="color:#8dd3c7"><a href="#001855" label="[00:18:55]">&lt;oriansj&gt;</a></span><span class="message">but unless you want people chasing a list of point releases (or commits) then you need to compromise a little</span></div><div class="line" id="002129"><span class="nick" style="color:#389600"><a href="#002129" label="[00:21:29]">&lt;drakonis&gt;</a></span><span class="message">the worst mistake the community can make is freezing too soon</span></div><div class="line" id="002155"><span class="nick" style="color:#8dd3c7"><a href="#002155" label="[00:21:55]">&lt;oriansj&gt;</a></span><span class="message">or not freezing at all</span></div><div class="line" id="002159"><span class="nick" style="color:#389600"><a href="#002159" label="[00:21:59]">&lt;drakonis&gt;</a></span><span class="message">yes.</span></div><div class="line" id="002209"><span class="nick" style="color:#389600"><a href="#002209" label="[00:22:09]">&lt;drakonis&gt;</a></span><span class="message">too soon is worse though</span></div><div class="line" id="002248"><span class="nick" style="color:#389600"><a href="#002248" label="[00:22:48]">&lt;drakonis&gt;</a></span><span class="message">because it will inevitably signal droves of new users to try it and suffer</span></div><div class="line" id="002407"><span class="nick" style="color:#389600"><a href="#002407" label="[00:24:07]">&lt;drakonis&gt;</a></span><span class="message">the standard library is still a bit thin and not entirely well documented yet</span></div><div class="line" id="002408"><span class="nick" style="color:#8dd3c7"><a href="#002408" label="[00:24:08]">&lt;oriansj&gt;</a></span><span class="message">well there is a big difference between zig developers having to put up with an older version's limitations and the users of the zig language having to put up with an older version's limitations</span></div><div class="line" id="002437"><span class="nick" style="color:#389600"><a href="#002437" label="[00:24:37]">&lt;drakonis&gt;</a></span><span class="message">they release new versions on a semi yearly basis</span></div><div class="line" id="002451"><span class="nick" style="color:#389600"><a href="#002451" label="[00:24:51]">&lt;drakonis&gt;</a></span><span class="message">so it doesn't take too long for new ones to come out</span></div><div class="line" id="002526"><span class="nick" style="color:#389600"><a href="#002526" label="[00:25:26]">&lt;drakonis&gt;</a></span><span class="message"> <a rel="nofollow" href="https://ziglang.org/download/0.10.0/release-notes.html#Roadmap">https://ziglang.org/download/0.10.0/release-notes.html#Roadmap</a> </span></div><div class="line" id="002535"><span class="nick" style="color:#389600"><a href="#002535" label="[00:25:35]">&lt;drakonis&gt;</a></span><span class="message">this is particularly important</span></div><div class="line" id="002555"><span class="nick" style="color:#389600"><a href="#002555" label="[00:25:55]">&lt;drakonis&gt;</a></span><span class="message">language freeze at 1.0</span></div><div class="line" id="002616"><span class="nick" style="color:#389600"><a href="#002616" label="[00:26:16]">&lt;drakonis&gt;</a></span><span class="message">well, they have a plan</span></div><div class="line" id="002652"><span class="nick" style="color:#389600"><a href="#002652" label="[00:26:52]">&lt;drakonis&gt;</a></span><span class="message">i foresee two to three releases before 1.0</span></div><div class="line" id="003016"><span class="nick" style="color:#389600"><a href="#003016" label="[00:30:16]">&lt;drakonis&gt;</a></span><span class="message">anyhow</span></div><div class="line" id="003035"><span class="nick" style="color:#8dd3c7"><a href="#003035" label="[00:30:35]">&lt;oriansj&gt;</a></span><span class="message">I foresee potential issues but I am just hoping we can avoid that</span></div><div class="line" id="003044"><span class="nick" style="color:#389600"><a href="#003044" label="[00:30:44]">&lt;drakonis&gt;</a></span><span class="message">aye</span></div><div class="line" id="003429"><span class="nick" style="color:#389600"><a href="#003429" label="[00:34:29]">&lt;drakonis&gt;</a></span><span class="message">ah, there's going to be a blog post about the stage1 changes</span></div><div class="line" id="004812"><span class="nick" style="color:#2e2a4a"><a href="#004812" label="[00:48:12]">&lt;stikonas&gt;</a></span><span class="message">oriansj: <a rel="nofollow" href="https://github.com/oriansj/M2-Planet/pull/50">https://github.com/oriansj/M2-Planet/pull/50</a> </span></div><div class="line" id="005129"><span class="nick" style="color:#2e2a4a"><a href="#005129" label="[00:51:29]">&lt;stikonas&gt;</a></span><span class="message">and then after that UEFI spawning changes at <a rel="nofollow" href="https://github.com/oriansj/M2libc/pull/27">https://github.com/oriansj/M2libc/pull/27</a> </span></div><div class="line" id="010229"><span class="nick" style="color:#6b8072"><a href="#010229" label="[01:02:29]">&lt;pabs3&gt;</a></span><span class="message">an update on the zig situation: <a rel="nofollow" href="https://0x0.st/odaI.png">https://0x0.st/odaI.png</a> </span></div><div class="line" id="010249"><span class="nick" style="color:#6b8072"><a href="#010249" label="[01:02:49]">&lt;pabs3&gt;</a></span><span class="message">(NickH is the maintainer of the in-progress Debian zig package)</span></div><div class="line" id="010324"><span class="nick" style="color:#6b8072"><a href="#010324" label="[01:03:24]">&lt;pabs3&gt;</a></span><span class="message">ah, mzig already mentioned above</span></div><div class="line" id="010440"><span class="nick" style="color:#2e2a4a"><a href="#010440" label="[01:04:40]">&lt;stikonas&gt;</a></span><span class="message">still it looks like they are not going to work on alternative implementation</span></div><div class="line" id="010806"><span class="nick" style="color:#8dd3c7"><a href="#010806" label="[01:08:06]">&lt;oriansj&gt;</a></span><span class="message">sounds about right; less work for them</span></div><div class="line" id="044703"><span class="nick" style="color:#8dd3c7"><a href="#044703" label="[04:47:03]">&lt;oriansj&gt;</a></span><span class="message">finally watched the video.</span></div><div class="line" id="044813"><span class="nick" style="color:#8dd3c7"><a href="#044813" label="[04:48:13]">&lt;oriansj&gt;</a></span><span class="message">So they value bootstrapping but not if they have to do the work. I think that kinda is a polite way of saying they aren't going to help us but good luck.</span></div><div class="line" id="054447"><span class="nick" style="color:#80b1d3"><a href="#054447" label="[05:44:47]">&lt;theruran&gt;</a></span><span class="message">ha</span></div><div class="line" id="072734"><span class="nick" style="color:#6d2462"><a href="#072734" label="[07:27:34]">&lt;Hagfish&gt;</a></span><span class="message">i don't know if this article has been discussed before, but i just found it linked from a recent Vitalik blog post:</span></div><div class="line" id="072737"><span class="nick" style="color:#6d2462"><a href="#072737" label="[07:27:37]">&lt;Hagfish&gt;</a></span><span class="message"> <a rel="nofollow" href="https://theprepared.org/features-feed/ise-jingu-and-the-pyramid-of-enabling-technologies">https://theprepared.org/features-feed/ise-jingu-and-the-pyramid-of-enabling-technologies</a> </span></div><div class="line" id="072747"><span class="nick" style="color:#6d2462"><a href="#072747" label="[07:27:47]">&lt;Hagfish&gt;</a></span><span class="message">&quot;The building techniques used on Jingu may seem low-tech, but even something as simple as wooden post-and-beam construction sits atop a large pyramid of enabling technologies. ...</span></div><div class="line" id="072800"><span class="nick" style="color:#6d2462"><a href="#072800" label="[07:28:00]">&lt;Hagfish&gt;</a></span><span class="message">But the most important technology at Jingu is social - it’s the transfer of skills and techniques from one generation to the next, ensuring the temples and artifacts can continue to be reproduced accurately.&quot;</span></div><div class="line" id="072916"><span class="nick" style="color:#6d2462"><a href="#072916" label="[07:29:16]">&lt;Hagfish&gt;</a></span><span class="message">i'd like to imagine that the decisions and values being made and discussed in this chatroom will live on, in some form, for another 1000 years</span></div><div class="line" id="110422"><span class="nick" style="color:#234e69"><a href="#110422" label="[11:04:22]">&lt;Irvise_&gt;</a></span><span class="message">Hi, I have one question regarding TCC. Is there an IRC room to discuss it or can it be done here? It relates to boostrapping.</span></div><div class="line" id="114348"><span class="nick" style="color:#6c3d55"><a href="#114348" label="[11:43:48]">&lt;stikonas[m]&gt;</a></span><span class="message">Irvise: ask here</span></div><div class="line" id="114413"><span class="nick" style="color:#234e69"><a href="#114413" label="[11:44:13]">&lt;Irvise_&gt;</a></span><span class="message">stikonas: thanks.</span></div><div class="line" id="114445"><span class="nick" style="color:#6c3d55"><a href="#114445" label="[11:44:45]">&lt;stikonas[m]&gt;</a></span><span class="message">No guarantees that I can answer but maybe somebody can</span></div><div class="line" id="114502"><span class="nick" style="color:#234e69"><a href="#114502" label="[11:45:02]">&lt;Irvise_&gt;</a></span><span class="message">It is just a quick thing. There is a very small Scheme implementation called Otus Lisp. It uses alloca instead of malloc so that they don't actually have to free memory explicitly.</span></div><div class="line" id="114526"><span class="nick" style="color:#234e69"><a href="#114526" label="[11:45:26]">&lt;Irvise_&gt;</a></span><span class="message">That is all fine and dandy and it can be compiled with TCC in x86 and most likely in arm* too.</span></div><div class="line" id="114544"><span class="nick" style="color:#234e69"><a href="#114544" label="[11:45:44]">&lt;Irvise_&gt;</a></span><span class="message">The problem is that TCC does not implement alloca in RISC-V.</span></div><div class="line" id="114652"><span class="nick" style="color:#234e69"><a href="#114652" label="[11:46:52]">&lt;Irvise_&gt;</a></span><span class="message">From what I have seen, it is not too complex to implement, but it should be done in asm. Is this something that a TCC developper would be willing to take a look at?</span></div><div class="line" id="114716"><span class="nick" style="color:#234e69"><a href="#114716" label="[11:47:16]">&lt;Irvise_&gt;</a></span><span class="message">Btw, I am running my first live-bootstrap build.</span></div><div class="line" id="114752"><span class="nick" style="color:#6c3d55"><a href="#114752" label="[11:47:52]">&lt;stikonas[m]&gt;</a></span><span class="message">Hard to tell whether tcc developer would implement, I guess they would accept a patch though</span></div><div class="line" id="114758"><span class="nick" style="color:#234e69"><a href="#114758" label="[11:47:58]">&lt;Irvise_&gt;</a></span><span class="message">(It seems, sadly, that Otus Lisp does require a binary to be compiled... So it is not fully bootstrappable...)</span></div><div class="line" id="114825"><span class="nick" style="color:#6c3d55"><a href="#114825" label="[11:48:25]">&lt;stikonas[m]&gt;</a></span><span class="message">But do you need yo use tcc to build it?</span></div><div class="line" id="114834"><span class="nick" style="color:#6c3d55"><a href="#114834" label="[11:48:34]">&lt;stikonas[m]&gt;</a></span><span class="message">GCC should be good enough</span></div><div class="line" id="114909"><span class="nick" style="color:#234e69"><a href="#114909" label="[11:49:09]">&lt;Irvise_&gt;</a></span><span class="message">I am in the final stages to choose a Scheme implementation for the GNAT bootstrap. Final candidates are Chibi, Ol and TR7. With Ol having that major issue.</span></div><div class="line" id="114946"><span class="nick" style="color:#234e69"><a href="#114946" label="[11:49:46]">&lt;Irvise_&gt;</a></span><span class="message">I would like it to be compiled as soon as possible in the chain. I saw that GCC 4 is now being compiled before doing the &quot;full&quot; GCC4.7.</span></div><div class="line" id="115006"><span class="nick" style="color:#234e69"><a href="#115006" label="[11:50:06]">&lt;Irvise_&gt;</a></span><span class="message">Quite a few things have changed since the last time I took a look at the live-bootstrap chain :)</span></div><div class="line" id="115050"><span class="nick" style="color:#6c3d55"><a href="#115050" label="[11:50:50]">&lt;stikonas[m]&gt;</a></span><span class="message">That is because 1. we don't need C++ until much later. 2. Stable tcc can't build GCC 4.7.4</span></div><div class="line" id="115110"><span class="nick" style="color:#6c3d55"><a href="#115110" label="[11:51:10]">&lt;stikonas[m]&gt;</a></span><span class="message">Stable tcc is quite old anyway, it has no risc-v</span></div><div class="line" id="115157"><span class="nick" style="color:#234e69"><a href="#115157" label="[11:51:57]">&lt;Irvise_&gt;</a></span><span class="message">Yup, I am using the mob branch. It works quite fine in RISC-V :) Though there are some issues and it does not seem to support 32bit RISC-V.</span></div><div class="line" id="115214"><span class="nick" style="color:#6c3d55"><a href="#115214" label="[11:52:14]">&lt;stikonas[m]&gt;</a></span><span class="message">That's a bit surprising</span></div><div class="line" id="115218"><span class="nick" style="color:#234e69"><a href="#115218" label="[11:52:18]">&lt;Irvise_&gt;</a></span><span class="message">Though I heard that they wanted to make a stable release from the mob branch.</span></div><div class="line" id="115232"><span class="nick" style="color:#6c3d55"><a href="#115232" label="[11:52:32]">&lt;stikonas[m]&gt;</a></span><span class="message">32-bit risc-v is really similar to 64 bit</span></div><div class="line" id="115257"><span class="nick" style="color:#6c3d55"><a href="#115257" label="[11:52:57]">&lt;stikonas[m]&gt;</a></span><span class="message">Far more than x86 vs x86_64</span></div><div class="line" id="115316"><span class="nick" style="color:#234e69"><a href="#115316" label="[11:53:16]">&lt;Irvise_&gt;</a></span><span class="message">There may be a flag that allows it to target 32bit. But the files are all marked riscv-64.</span></div><div class="line" id="115603"><span class="nick" style="color:#8dd3c7"><a href="#115603" label="[11:56:03]">&lt;oriansj&gt;</a></span><span class="message">there is also a chance RISC-V (32bit) might not get enough support to get off the ground as RISC-V (64bit) seems to be the one getting all the attention from developers lately</span></div><div class="line" id="115732"><span class="nick" style="color:#234e69"><a href="#115732" label="[11:57:32]">&lt;Irvise_&gt;</a></span><span class="message">Yes... Even the Linux world does not really care about 32bit riscv... Only things like buildroot can generate images for 32bit Linux. All other major distros already target 64bit...</span></div><div class="line" id="115743"><span class="nick" style="color:#8dd3c7"><a href="#115743" label="[11:57:43]">&lt;oriansj&gt;</a></span><span class="message">Irvise_: could the binary be compiled from another scheme?</span></div><div class="line" id="115843"><span class="nick" style="color:#234e69"><a href="#115843" label="[11:58:43]">&lt;Irvise_&gt;</a></span><span class="message">oriansj: I started a conversation with the developer a couple of days ago. We will see. It is serialised FASL format, so not your normal raw binary, but still...</span></div><div class="line" id="120018"><span class="nick" style="color:#8dd3c7"><a href="#120018" label="[12:00:18]">&lt;oriansj&gt;</a></span><span class="message">thank you for starting that conversation, we need less language bootstrapping nightmares</span></div><div class="line" id="120255"><span class="nick" style="color:#6c3d55"><a href="#120255" label="[12:02:55]">&lt;stikonas[m]&gt;</a></span><span class="message">Indeed. Still, I'm not convinced that we need gnat or Ol early in bootstrap chain. One can of course make it buildable early but that does not mean that we'll build it early in live-bootstrap</span></div><div class="line" id="121301"><span class="nick" style="color:#234e69"><a href="#121301" label="[12:13:01]">&lt;Irvise_&gt;</a></span><span class="message">stikonas: I want that to be a possiblity, not an obligation :)</span></div><div class="line" id="121403"><span class="nick" style="color:#234e69"><a href="#121403" label="[12:14:03]">&lt;Irvise_&gt;</a></span><span class="message">The reason is that GNAT has always needed GNAT. The newer the GNAT we have to compile, the worse it gets, as it uses newer language features. So if we could build GCC 4.0 or GCC 4.7 that would be great. And we could use the live-bootstrap environment/chain to do that.</span></div><div class="line" id="121418"><span class="nick" style="color:#234e69"><a href="#121418" label="[12:14:18]">&lt;Irvise_&gt;</a></span><span class="message">I know that is not your goal, but I want to make that possible for us.</span></div><div class="line" id="121452"><span class="nick" style="color:#8dd3c7"><a href="#121452" label="[12:14:52]">&lt;oriansj&gt;</a></span><span class="message">Irvise_: there are many possiblitie we can create, some are just easiest done in guix</span></div><div class="line" id="121541"><span class="nick" style="color:#234e69"><a href="#121541" label="[12:15:41]">&lt;Irvise_&gt;</a></span><span class="message">Btw, I also helped Easy-ISLisp be compilable with TCC and made ncurses optional, so theoretically, that could also be used very early in the chain, even if that is not the case.</span></div><div class="line" id="121610"><span class="nick" style="color:#8dd3c7"><a href="#121610" label="[12:16:10]">&lt;oriansj&gt;</a></span><span class="message">Irvise_: neat</span></div><div class="line" id="121619"><span class="nick" style="color:#234e69"><a href="#121619" label="[12:16:19]">&lt;Irvise_&gt;</a></span><span class="message">oriansj: I understand, but we would like to try and if we cannot or if it is just too much, then we can always fall-back.</span></div><div class="line" id="121649"><span class="nick" style="color:#234e69"><a href="#121649" label="[12:16:49]">&lt;Irvise_&gt;</a></span><span class="message">Also, Easy-ISLisp runs on risc-v too compiled with TCC/mob.</span></div><div class="line" id="122003"><span class="nick" style="color:#8dd3c7"><a href="#122003" label="[12:20:03]">&lt;oriansj&gt;</a></span><span class="message">Irvise_: proposals with working code and no blobs work best but ulimately stikonas and fossy decide what does or does note show up in live-bootstrap</span></div><div class="line" id="122042"><span class="nick" style="color:#8dd3c7"><a href="#122042" label="[12:20:42]">&lt;oriansj&gt;</a></span><span class="message">as they are responsible for keeping it working</span></div><div class="line" id="122221"><span class="nick" style="color:#8dd3c7"><a href="#122221" label="[12:22:21]">&lt;oriansj&gt;</a></span><span class="message">stikonas: your M2libc and M2-Planet patches have finally been reviewed and merged (spawn took me a bit)</span></div><div class="line" id="122329"><span class="nick" style="color:#234e69"><a href="#122329" label="[12:23:29]">&lt;Irvise_&gt;</a></span><span class="message">Sure, I will not try to get it in unless it is deemed worthy or benefitial. Also, the project has not really even started, so it is years into the future :)</span></div><div class="line" id="122445"><span class="nick" style="color:#8dd3c7"><a href="#122445" label="[12:24:45]">&lt;oriansj&gt;</a></span><span class="message">Irvise_: depends upon how interesting and fun others find it. It might even take you far less than you previously thought</span></div><div class="line" id="122532"><span class="nick" style="color:#8dd3c7"><a href="#122532" label="[12:25:32]">&lt;oriansj&gt;</a></span><span class="message">I originally thought hex0 to gcc  would take a decade and we did it in 5 years.</span></div><div class="line" id="122600"><span class="nick" style="color:#8dd3c7"><a href="#122600" label="[12:26:00]">&lt;oriansj&gt;</a></span><span class="message">guile was done way faster than I could have imagined</span></div><div class="line" id="122824"><span class="nick" style="color:#8dd3c7"><a href="#122824" label="[12:28:24]">&lt;oriansj&gt;</a></span><span class="message">and with the amazing progress by stikonas and rickmasters what looked like what could take the rest of my life might actually be achieved in the next couple years</span></div><div class="line" id="122938"><span class="nick" style="color:#8dd3c7"><a href="#122938" label="[12:29:38]">&lt;oriansj&gt;</a></span><span class="message">then we have the adventure of bootstrapping hardware and then reality ;-p</span></div><div class="line" id="130039"><span class="nick" style="color:#234e69"><a href="#130039" label="[13:00:39]">&lt;Irvise_&gt;</a></span><span class="message">Yes, we still have not promoted the idea of a bootstrapping compiler. I want to wait before we have the bases figured out and then we can hope that other people may want to join :)</span></div><div class="line" id="130106"><span class="nick" style="color:#234e69"><a href="#130106" label="[13:01:06]">&lt;Irvise_&gt;</a></span><span class="message">Also, you all are quite commited and prolific, I do tend to check on progress and you are really hammering it :D</span></div><div class="line" id="132407"><span class="nick" style="color:#234e69"><a href="#132407" label="[13:24:07]">&lt;Irvise_&gt;</a></span><span class="message">Btw, my trial to run live-bootstrap failed with ca-certificates: <a rel="nofollow" href="https://paste.debian.net/1263287/">https://paste.debian.net/1263287/</a> </span></div><div class="line" id="132421"><span class="nick" style="color:#234e69"><a href="#132421" label="[13:24:21]">&lt;Irvise_&gt;</a></span><span class="message">A checksum failed...</span></div><div class="line" id="132506"><span class="nick" style="color:#234e69"><a href="#132506" label="[13:25:06]">&lt;Irvise_&gt;</a></span><span class="message">A couple of lines before there is: SHA256 of old file: 0</span></div><div class="line" id="132506"><span class="nick" style="color:#234e69"><a href="#132506" label="[13:25:06]">&lt;Irvise_&gt;</a></span><span class="message">SHA256 of new file: 34a54d5191775c1bd37be6cfd3f09e831e072555dc3a2e51f4a2c4b0f8ada5cc</span></div><div class="line" id="132511"><span class="nick" style="color:#234e69"><a href="#132511" label="[13:25:11]">&lt;Irvise_&gt;</a></span><span class="message">Is that expected?</span></div><div class="line" id="135526"><span class="nick" style="color:#6c3d55"><a href="#135526" label="[13:55:26]">&lt;stikonas[m]&gt;</a></span><span class="message">That's not expected</span></div><div class="line" id="135551"><span class="nick" style="color:#6c3d55"><a href="#135551" label="[13:55:51]">&lt;stikonas[m]&gt;</a></span><span class="message">I'll see in the evening if I can reproduce it</span></div><div class="line" id="135617"><span class="nick" style="color:#6c3d55"><a href="#135617" label="[13:56:17]">&lt;stikonas[m]&gt;</a></span><span class="message">Something is not reproducible</span></div><div class="line" id="135658"><span class="nick" style="color:#6c3d55"><a href="#135658" label="[13:56:58]">&lt;stikonas[m]&gt;</a></span><span class="message">The question is whether it is due to your system, some date non-reproducibility or something else</span></div><div class="line" id="135756"><span class="nick" style="color:#6c3d55"><a href="#135756" label="[13:57:56]">&lt;stikonas[m]&gt;</a></span><span class="message">Though for sure live-bootstrap will break hard in 2038</span></div><div class="line" id="141231"><span class="nick" style="color:#234e69"><a href="#141231" label="[14:12:31]">&lt;Irvise_&gt;</a></span><span class="message">I just did a git clone and took the vmlinux binary out of Debian-32bit. I am on x86_64</span></div><div class="line" id="141313"><span class="nick" style="color:#234e69"><a href="#141313" label="[14:13:13]">&lt;Irvise_&gt;</a></span><span class="message">I used the ./rootfs.py --qemu approach.</span></div><div class="line" id="145905"><span class="nick" style="color:#d9d9d9"><a href="#145905" label="[14:59:05]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: I started a build right after the report from Irvise_ and I have reproduced the exact same failure on ca-certificates-3.78</span></div><div class="line" id="152057"><span class="nick" style="color:#d9d9d9"><a href="#152057" label="[15:20:57]">&lt;rickmasters&gt;</a></span><span class="message">given the recent rework on checksums this might be a regression. I'm building against recent commits to see if I can find a regression.</span></div><div class="line" id="153942"><span class="nick" style="color:#6c3d55"><a href="#153942" label="[15:39:42]">&lt;stikonas[m]&gt;</a></span><span class="message">I think at some point I tried to manually run live-bootstrap with future date to catch up some of those issues</span></div><div class="line" id="153954"><span class="nick" style="color:#6c3d55"><a href="#153954" label="[15:39:54]">&lt;stikonas[m]&gt;</a></span><span class="message">But it's not automated...</span></div><div class="line" id="154009"><span class="nick" style="color:#6c3d55"><a href="#154009" label="[15:40:09]">&lt;stikonas[m]&gt;</a></span><span class="message">Us there qemu option to change date?</span></div><div class="line" id="163500"><span class="nick" style="color:#d9d9d9"><a href="#163500" label="[16:35:00]">&lt;rickmasters&gt;</a></span><span class="message">stikonas[m]: Are you referring to the year 2038 problem or the ca-certificates?</span></div><div class="line" id="163526"><span class="nick" style="color:#d9d9d9"><a href="#163526" label="[16:35:26]">&lt;rickmasters&gt;</a></span><span class="message">qemu option to specify date is apparently -rtc &lt;date&gt; <a rel="nofollow" href="https://www.qemu.org/docs/master/system/invocation.html">https://www.qemu.org/docs/master/system/invocation.html</a> </span></div><div class="line" id="163630"><span class="nick" style="color:#d9d9d9"><a href="#163630" label="[16:36:30]">&lt;rickmasters&gt;</a></span><span class="message">maybe its -rtc base=&lt;datetime&gt;</span></div><div class="line" id="163732"><span class="nick" style="color:#6c3d55"><a href="#163732" label="[16:37:32]">&lt;stikonas[m]&gt;</a></span><span class="message">rickmasters: both</span></div><div class="line" id="163758"><span class="nick" style="color:#6c3d55"><a href="#163758" label="[16:37:58]">&lt;stikonas[m]&gt;</a></span><span class="message">Sometimes it's useful to test run a year later</span></div><div class="line" id="163817"><span class="nick" style="color:#6c3d55"><a href="#163817" label="[16:38:17]">&lt;stikonas[m]&gt;</a></span><span class="message">Some stuff likes to include e.g. build year</span></div><div class="line" id="163826"><span class="nick" style="color:#6c3d55"><a href="#163826" label="[16:38:26]">&lt;stikonas[m]&gt;</a></span><span class="message">Especially manpages</span></div><div class="line" id="163836"><span class="nick" style="color:#d9d9d9"><a href="#163836" label="[16:38:36]">&lt;rickmasters&gt;</a></span><span class="message">So you think the ca-certificates issue is related to the current date?</span></div><div class="line" id="163856"><span class="nick" style="color:#d9d9d9"><a href="#163856" label="[16:38:56]">&lt;rickmasters&gt;</a></span><span class="message">Like some certs expired or something like that?</span></div><div class="line" id="164312"><span class="nick" style="color:#d9d9d9"><a href="#164312" label="[16:43:12]">&lt;rickmasters&gt;</a></span><span class="message">Interesting: there are two certs not valid after &quot;Thu Dec 08 11:10:28 2022&quot; in /usr/src/ca-certificates-3.78/build/nss-3.78/certdata.txt</span></div><div class="line" id="164507"><span class="nick" style="color:#d9d9d9"><a href="#164507" label="[16:45:07]">&lt;rickmasters&gt;</a></span><span class="message">stikonas[m]: looks like two certs expired 4 hours ago if that's UTC</span></div><div class="line" id="164613"><span class="nick" style="color:#d9d9d9"><a href="#164613" label="[16:46:13]">&lt;rickmasters&gt;</a></span><span class="message">The next ones are in march</span></div><div class="line" id="173433"><span class="nick" style="color:#6c3d55"><a href="#173433" label="[17:34:33]">&lt;stikonas[m]&gt;</a></span><span class="message">OK, then it might be due to date...</span></div><div class="line" id="173447"><span class="nick" style="color:#6c3d55"><a href="#173447" label="[17:34:47]">&lt;stikonas[m]&gt;</a></span><span class="message">Can't do much about certificates expiring....</span></div><div class="line" id="173607"><span class="nick" style="color:#6c3d55"><a href="#173607" label="[17:36:07]">&lt;stikonas[m]&gt;</a></span><span class="message">We might need to ignore checksum on that package then...</span></div><div class="line" id="191343"><span class="nick" style="color:#234e69"><a href="#191343" label="[19:13:43]">&lt;Irvise_&gt;</a></span><span class="message">Oh, so did I really hit a bug where some certs expired?</span></div><div class="line" id="192957"><span class="nick" style="color:#d9d9d9"><a href="#192957" label="[19:29:57]">&lt;rickmasters&gt;</a></span><span class="message">Irvise_: yes, that's what it looks like</span></div><div class="line" id="200938"><span class="nick" style="color:#2e2a4a"><a href="#200938" label="[20:09:38]">&lt;stikonas&gt;</a></span><span class="message">as for what goes into live-bootstrap, the idea was to build new gcc and linux there. We've got GCC covered and now rickmasters is working to bootstrap the Linux kernel. Which mostly means getting to C only GCC and Linux as quickly as possible as any extra package might be causing us various issues before we boot into linux</span></div><div class="line" id="201206"><span class="nick" style="color:#2e2a4a"><a href="#201206" label="[20:12:06]">&lt;stikonas&gt;</a></span><span class="message">and if we really need early GCC for bootstrapping GNAT (which I agree might make bootstrapping GNAT easier) then it might be easier to build older GCC on the new Linux system</span></div><div class="line" id="204846"><span class="nick" style="color:#234e69"><a href="#204846" label="[20:48:46]">&lt;Irvise_&gt;</a></span><span class="message">stikonas: regarding GNAT. GNAT has always needed GNAT. No older GCC is able to compile GNAT... The story of GNAT is very convoluted... I know this sounds crazy, but GNAT already required GNAT when it was first added to the GCC tree. Binaries were shipped to allow third-parties to compile/use it.</span></div><div class="line" id="204954"><span class="nick" style="color:#2e2a4a"><a href="#204954" label="[20:49:54]">&lt;stikonas&gt;</a></span><span class="message">yes, this I understand. I was saying if older GNAT is easier to bootstrap, i.e. it might be using simpler ada constructs...</span></div><div class="line" id="210111"><span class="nick" style="color:#234e69"><a href="#210111" label="[21:01:11]">&lt;Irvise_&gt;</a></span><span class="message">stikonas: most likely. We are going to try with GCC 4.7, if not, 4.0. If not, even older. You can guess why we target those versions first :)</span></div><div class="line" id="220719"><span class="nick" style="color:#389600"><a href="#220719" label="[22:07:19]">&lt;drakonis&gt;</a></span><span class="message"> <a rel="nofollow" href="https://ziglang.org/news/goodbye-cpp/">https://ziglang.org/news/goodbye-cpp/</a>  ah here we go.</span></div><div class="line" id="221005"><span class="nick" style="color:#2e2a4a"><a href="#221005" label="[22:10:05]">&lt;stikonas&gt;</a></span><span class="message">&quot;This means that new Zig language features had to be implemented twice&quot;. That's just not true... M2-Planet has been gaining many new features and we don't have to update cc_* compiler</span></div><div class="line" id="221455"><span class="nick" style="color:#bc80bd"><a href="#221455" label="[22:14:55]">&lt;muurkha&gt;</a></span><span class="message">it's only true if you want to use them in the compiler</span></div><div class="line" id="221544"><span class="nick" style="color:#3c5b35"><a href="#221544" label="[22:15:44]">&lt;nimaje&gt;</a></span><span class="message">they could freeze their stage0 to some subset and maybe update that from time to time</span></div><div class="line" id="221555"><span class="nick" style="color:#bc80bd"><a href="#221555" label="[22:15:55]">&lt;muurkha&gt;</a></span><span class="message">yeah</span></div><div class="line" id="221612"><span class="nick" style="color:#389600"><a href="#221612" label="[22:16:12]">&lt;drakonis&gt;</a></span><span class="message">isnt m2-planet written almost entirely in C?</span></div><div class="line" id="221644"><span class="nick" style="color:#2e2a4a"><a href="#221644" label="[22:16:44]">&lt;stikonas&gt;</a></span><span class="message">drakonis: m2-planet is written in fairly restricted subset of C, but it support far more, somewhat closer to C89</span></div><div class="line" id="221714"><span class="nick" style="color:#2e2a4a"><a href="#221714" label="[22:17:14]">&lt;stikonas&gt;</a></span><span class="message">but there are some differences from C (at least for now)</span></div><div class="line" id="221729"><span class="nick" style="color:#2e2a4a"><a href="#221729" label="[22:17:29]">&lt;stikonas&gt;</a></span><span class="message">i.e. pointer arithmetic does not work</span></div><div class="line" id="221741"><span class="nick" style="color:#2e2a4a"><a href="#221741" label="[22:17:41]">&lt;stikonas&gt;</a></span><span class="message">so pointer + 1 adds 1 byte to it rather than sizeof(pointer)</span></div><div class="line" id="221822"><span class="nick" style="color:#2e2a4a"><a href="#221822" label="[22:18:22]">&lt;stikonas&gt;</a></span><span class="message">which is probably the biggest imcompatibility, the others are mostly the case of missing features</span></div><br /></div></body></html>