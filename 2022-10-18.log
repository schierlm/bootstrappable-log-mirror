<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2022-10-18.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="001546"><span class="nick" style="color:#8dd3c7"><a href="#001546" label="[00:15:46]">&lt;stikonas&gt;</a></span><span class="message">rickmasters: so pdpmake might be buildable but would really need quite a bit of patching and even building some libraries from gnu make tarball</span></div><div class="line" id="001706"><span class="nick" style="color:#8dd3c7"><a href="#001706" label="[00:17:06]">&lt;stikonas&gt;</a></span><span class="message">so I don't think I'll be looking at it in the near future</span></div><div class="line" id="001722"><span class="nick" style="color:#8dd3c7"><a href="#001722" label="[00:17:22]">&lt;stikonas&gt;</a></span><span class="message">but with some hacks it fails in linking stage like this <a rel="nofollow" href="https://paste.debian.net/1257416/">https://paste.debian.net/1257416/</a> </span></div><div class="line" id="001736"><span class="nick" style="color:#8dd3c7"><a href="#001736" label="[00:17:36]">&lt;stikonas&gt;</a></span><span class="message">which doesn't sound unsolvable...</span></div><div class="line" id="001903"><span class="nick" style="color:#8dd3c7"><a href="#001903" label="[00:19:03]">&lt;stikonas&gt;</a></span><span class="message">but it's definitely more painful to build than GNU make</span></div><div class="line" id="001927"><span class="nick" style="color:#8dd3c7"><a href="#001927" label="[00:19:27]">&lt;stikonas&gt;</a></span><span class="message">so it's only worth if builder-hex0 can run it</span></div><div class="line" id="001944"><span class="nick" style="color:#8dd3c7"><a href="#001944" label="[00:19:44]">&lt;stikonas&gt;</a></span><span class="message">which we probably can test by manually building a static version of it and injecting into builder-hex0</span></div><div class="line" id="002021"><span class="nick" style="color:#2e2a4a"><a href="#002021" label="[00:20:21]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: i've already spent a bit of time figuring out GNU make so I'm pretty confident I can make it work on builder-hex0</span></div><div class="line" id="002033"><span class="nick" style="color:#8dd3c7"><a href="#002033" label="[00:20:33]">&lt;stikonas&gt;</a></span><span class="message">yeah, I think let's go that way then</span></div><div class="line" id="002053"><span class="nick" style="color:#8dd3c7"><a href="#002053" label="[00:20:53]">&lt;stikonas&gt;</a></span><span class="message">so we would haveto patch gnu make?</span></div><div class="line" id="002222"><span class="nick" style="color:#2e2a4a"><a href="#002222" label="[00:22:22]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: probably. the biggest issue with make is that it is several different implementations mixed together with ifdefs.</span></div><div class="line" id="002318"><span class="nick" style="color:#8dd3c7"><a href="#002318" label="[00:23:18]">&lt;stikonas&gt;</a></span><span class="message">&quot;portability&quot;</span></div><div class="line" id="002319"><span class="nick" style="color:#2e2a4a"><a href="#002319" label="[00:23:19]">&lt;rickmasters&gt;</a></span><span class="message">I mean, it supports linux, windows, DOS, VMS, and amiga</span></div><div class="line" id="002326"><span class="nick" style="color:#2e2a4a"><a href="#002326" label="[00:23:26]">&lt;rickmasters&gt;</a></span><span class="message">its crazy!</span></div><div class="line" id="002427"><span class="nick" style="color:#2e2a4a"><a href="#002427" label="[00:24:27]">&lt;rickmasters&gt;</a></span><span class="message">but I don't think DOS or amiga supports pipes or fork so it can be dumbed down, its just a bit painful to detangle</span></div><div class="line" id="002533"><span class="nick" style="color:#8dd3c7"><a href="#002533" label="[00:25:33]">&lt;stikonas&gt;</a></span><span class="message">maybe then we'll have to move patch before make?</span></div><div class="line" id="002615"><span class="nick" style="color:#8dd3c7"><a href="#002615" label="[00:26:15]">&lt;stikonas&gt;</a></span><span class="message">patch right now uses make for building</span></div><div class="line" id="002621"><span class="nick" style="color:#8dd3c7"><a href="#002621" label="[00:26:21]">&lt;stikonas&gt;</a></span><span class="message">but we can revert to kaem script</span></div><div class="line" id="002634"><span class="nick" style="color:#6b8072"><a href="#002634" label="[00:26:34]">&lt;oriansj&gt;</a></span><span class="message">or leverage the mini-patch rickmasters made and enhance it to the level required and just add it to mescc-tools-extras</span></div><div class="line" id="002837"><span class="nick" style="color:#2e2a4a"><a href="#002837" label="[00:28:37]">&lt;rickmasters&gt;</a></span><span class="message">perhaps. It seems you guys value starting with an official package and then patching whereas I'm find with just going with a modified fork</span></div><div class="line" id="002854"><span class="nick" style="color:#2e2a4a"><a href="#002854" label="[00:28:54]">&lt;rickmasters&gt;</a></span><span class="message">but I'll patch if thats the preference</span></div><div class="line" id="002914"><span class="nick" style="color:#8dd3c7"><a href="#002914" label="[00:29:14]">&lt;stikonas&gt;</a></span><span class="message">it depends, we started live-bootstrap with submodules</span></div><div class="line" id="002934"><span class="nick" style="color:#8dd3c7"><a href="#002934" label="[00:29:34]">&lt;stikonas&gt;</a></span><span class="message">and then oriansj wrote untar and ungz, so we switch to packages for everything after mes</span></div><div class="line" id="003031"><span class="nick" style="color:#8dd3c7"><a href="#003031" label="[00:30:31]">&lt;stikonas&gt;</a></span><span class="message">but if you make a fork, create a tag and tarball, I guess we can take it too</span></div><div class="line" id="003145"><span class="nick" style="color:#8dd3c7"><a href="#003145" label="[00:31:45]">&lt;stikonas&gt;</a></span><span class="message">I guess official packages are easier in terms of reviews, people probaby can trust them a bit more than random stuff</span></div><div class="line" id="003216"><span class="nick" style="color:#8dd3c7"><a href="#003216" label="[00:32:16]">&lt;stikonas&gt;</a></span><span class="message">but if we have a clear diff from official package, then it should be fine too</span></div><div class="line" id="003251"><span class="nick" style="color:#2e2a4a"><a href="#003251" label="[00:32:51]">&lt;rickmasters&gt;</a></span><span class="message">It doesn't matter much to me. I'm fine with patching but I think building patch earlier would make sense because we do kinda need it already</span></div><div class="line" id="003500"><span class="nick" style="color:#2e2a4a"><a href="#003500" label="[00:35:00]">&lt;rickmasters&gt;</a></span><span class="message">Then again, I have no idea how much code and build cruft patch uses. If its GNU, its probably a million lines of code with autocrap, I mean autoconf and all that fun stuff</span></div><div class="line" id="003618"><span class="nick" style="color:#2e2a4a"><a href="#003618" label="[00:36:18]">&lt;rickmasters&gt;</a></span><span class="message">sorry, I probably shouldn't be so negative. there is a lot of value in those tools</span></div><div class="line" id="004016"><span class="nick" style="color:#80b1d3"><a href="#004016" label="[00:40:16]">&lt;stikonas[m]&gt;</a></span><span class="message">rickmasters: we used to have a kaem script to build patch</span></div><div class="line" id="004044"><span class="nick" style="color:#80b1d3"><a href="#004044" label="[00:40:44]">&lt;stikonas[m]&gt;</a></span><span class="message">It can be easily resurrected from got history</span></div><div class="line" id="004116"><span class="nick" style="color:#80b1d3"><a href="#004116" label="[00:41:16]">&lt;stikonas[m]&gt;</a></span><span class="message">(Right now it's hand written makefile)</span></div><div class="line" id="004512"><span class="nick" style="color:#2e2a4a"><a href="#004512" label="[00:45:12]">&lt;rickmasters&gt;</a></span><span class="message">on second thought, i'm patching mes and tcc but I can't use patch for those because we'd need tcc (at least) to build patch.</span></div><div class="line" id="004602"><span class="nick" style="color:#2e2a4a"><a href="#004602" label="[00:46:02]">&lt;rickmasters&gt;</a></span><span class="message">and I don't know how much make will need to change, so we can wait to see how much patch will help and whether it makes sense down the road</span></div><div class="line" id="005224"><span class="nick" style="color:#80b1d3"><a href="#005224" label="[00:52:24]">&lt;stikonas[m]&gt;</a></span><span class="message">Sure, let me know later if patch helps and I'll do the change</span></div><div class="line" id="005600"><span class="nick" style="color:#2e2a4a"><a href="#005600" label="[00:56:00]">&lt;rickmasters&gt;</a></span><span class="message">ok</span></div><div class="line" id="114221"><span class="nick" style="color:#6d2462"><a href="#114221" label="[11:42:21]">&lt;fossy&gt;</a></span><span class="message">hmm, i think we will build python shared rather than statically. it makes things quite a lot easier, what with pythons shared modules, particuarly in intermediete versions where other options are sketchy</span></div><div class="line" id="114322"><span class="nick" style="color:#6d2462"><a href="#114322" label="[11:43:22]">&lt;fossy&gt;</a></span><span class="message">rickmasters: glad to here the progress. i did explore this for a little while (early linux under live-bootstrap).</span></div><div class="line" id="114454"><span class="nick" style="color:#6d2462"><a href="#114454" label="[11:44:54]">&lt;fossy&gt;</a></span><span class="message">i'm *personally* not a particular fan of linux 2.4 due to its complexity and (ab)use of gcc/binutils isms</span></div><div class="line" id="114633"><span class="nick" style="color:#6d2462"><a href="#114633" label="[11:46:33]">&lt;fossy&gt;</a></span><span class="message">tilck's codebase does look simpler, but, it still uses a lot of gcc/gas-isms</span></div><div class="line" id="114835"><span class="nick" style="color:#6d2462"><a href="#114835" label="[11:48:35]">&lt;fossy&gt;</a></span><span class="message">at any rate tcc is a bit of a strange (even approaching cursed in some cases) compiler, so kernels in that stage are never going to be trivial</span></div><div class="line" id="115131"><span class="nick" style="color:#6d2462"><a href="#115131" label="[11:51:31]">&lt;fossy&gt;</a></span><span class="message">oh, it was fiwix, <a rel="nofollow" href="https://github.com/mikaku/Fiwix">https://github.com/mikaku/Fiwix</a>  that I thought looked rather promising. it didn't appear to have as many gcc/gas-isms, it has ext2, vfs, linux abi compatibility to a strong extent, pipes, multitasking</span></div><div class="line" id="115344"><span class="nick" style="color:#6d2462"><a href="#115344" label="[11:53:44]">&lt;fossy&gt;</a></span><span class="message">and the incredibly helpful idea/ata device driver. which makes bootstraps so much easier to manage</span></div><div class="line" id="115350"><span class="nick" style="color:#6d2462"><a href="#115350" label="[11:53:50]">&lt;fossy&gt;</a></span><span class="message">(no need to fit everything into 4G)</span></div><div class="line" id="115357"><span class="nick" style="color:#6d2462"><a href="#115357" label="[11:53:57]">&lt;fossy&gt;</a></span><span class="message">ide/ata device driver*</span></div><div class="line" id="115502"><span class="nick" style="color:#6d2462"><a href="#115502" label="[11:55:02]">&lt;fossy&gt;</a></span><span class="message">i am absolutely NOT a kernel dev tho, so i would appreciate your thoughts on fiwix, rickmasters :)</span></div><div class="line" id="120245"><span class="nick" style="color:#234e69"><a href="#120245" label="[12:02:45]">&lt;Hagfish&gt;</a></span><span class="message">wow, that's a good find</span></div><div class="line" id="120303"><span class="nick" style="color:#234e69"><a href="#120303" label="[12:03:03]">&lt;Hagfish&gt;</a></span><span class="message">yeah, i'd be interested to hear some expert opinions on it too</span></div><div class="line" id="120353"><span class="nick" style="color:#234e69"><a href="#120353" label="[12:03:53]">&lt;Hagfish&gt;</a></span><span class="message">and it's MIT licensed</span></div><div class="line" id="120443"><span class="nick" style="color:#234e69"><a href="#120443" label="[12:04:43]">&lt;Hagfish&gt;</a></span><span class="message">&quot;You can contact me at jordi@fibranet.cat.&quot;</span></div><div class="line" id="120452"><span class="nick" style="color:#234e69"><a href="#120452" label="[12:04:52]">&lt;Hagfish&gt;</a></span><span class="message">perhaps that's one way to get an expert opinion :)</span></div><div class="line" id="121217"><span class="nick" style="color:#80b1d3"><a href="#121217" label="[12:12:17]">&lt;stikonas[m]&gt;</a></span><span class="message">fossy: I guess then we build newer GCC, shared musl and the python</span></div><div class="line" id="121545"><span class="nick" style="color:#80b1d3"><a href="#121545" label="[12:15:45]">&lt;stikonas[m]&gt;</a></span><span class="message">Because nothing before python needs shared libs...</span></div><div class="line" id="121609"><span class="nick" style="color:#80b1d3"><a href="#121609" label="[12:16:09]">&lt;stikonas[m]&gt;</a></span><span class="message">And then we drop lots of shared linking patches to GCC 4.7.4</span></div><div class="line" id="130423"><span class="nick" style="color:#6d2462"><a href="#130423" label="[13:04:23]">&lt;fossy&gt;</a></span><span class="message">stikonas[m]: yeah, i was just chucking python on the end now anyways, its not particualrly useful yet</span></div><div class="line" id="130426"><span class="nick" style="color:#6d2462"><a href="#130426" label="[13:04:26]">&lt;fossy&gt;</a></span><span class="message">needed for glibc tho</span></div><div class="line" id="130433"><span class="nick" style="color:#6d2462"><a href="#130433" label="[13:04:33]">&lt;fossy&gt;</a></span><span class="message">if we go over to glibc</span></div><div class="line" id="130446"><span class="nick" style="color:#6d2462"><a href="#130446" label="[13:04:46]">&lt;fossy&gt;</a></span><span class="message">pretty sure it's needed for newest gcc pregened too?</span></div><div class="line" id="130450"><span class="nick" style="color:#6d2462"><a href="#130450" label="[13:04:50]">&lt;fossy&gt;</a></span><span class="message">either way usefult o have</span></div><div class="line" id="131243"><span class="nick" style="color:#2e2a4a"><a href="#131243" label="[13:12:43]">&lt;rickmasters&gt;</a></span><span class="message">fossy: fiwix looks really promising</span></div><div class="line" id="131826"><span class="nick" style="color:#2e2a4a"><a href="#131826" label="[13:18:26]">&lt;rickmasters&gt;</a></span><span class="message">fossy: the linker script might be a challenge for tcc but other than that it looks great. It's small enough to understand and has the syscalls we need.</span></div><div class="line" id="131953"><span class="nick" style="color:#2e2a4a"><a href="#131953" label="[13:19:53]">&lt;rickmasters&gt;</a></span><span class="message">I probably should have spent more time going through <a rel="nofollow" href="https://wiki.osdev.org/Projects">https://wiki.osdev.org/Projects</a>,  its on that list. But there are so many...</span></div><div class="line" id="133257"><span class="nick" style="color:#2e2a4a"><a href="#133257" label="[13:32:57]">&lt;rickmasters&gt;</a></span><span class="message">wow, fiwix compiles with -std c89</span></div><div class="line" id="133458"><span class="nick" style="color:#234e69"><a href="#133458" label="[13:34:58]">&lt;Hagfish&gt;</a></span><span class="message">it definitely seems like the developer of that project shares the same sense of aesthetics as we do</span></div><div class="line" id="134602"><span class="nick" style="color:#2e2a4a"><a href="#134602" label="[13:46:02]">&lt;rickmasters&gt;</a></span><span class="message">all of the C files compile with tcc-0.9.27 without error...</span></div><div class="line" id="134626"><span class="nick" style="color:#6d2462"><a href="#134626" label="[13:46:26]">&lt;fossy&gt;</a></span><span class="message">really?? just like that?</span></div><div class="line" id="134638"><span class="nick" style="color:#6d2462"><a href="#134638" label="[13:46:38]">&lt;fossy&gt;</a></span><span class="message">that's rather suprising..</span></div><div class="line" id="134723"><span class="nick" style="color:#2e2a4a"><a href="#134723" label="[13:47:23]">&lt;rickmasters&gt;</a></span><span class="message">yeah, without any changes to the command line options</span></div><div class="line" id="134802"><span class="nick" style="color:#2e2a4a"><a href="#134802" label="[13:48:02]">&lt;rickmasters&gt;</a></span><span class="message">tcc-0.9.26 is another story</span></div><div class="line" id="135216"><span class="nick" style="color:#2e2a4a"><a href="#135216" label="[13:52:16]">&lt;rickmasters&gt;</a></span><span class="message">well, the commands ran without error but I need to check that it actually did something...</span></div><div class="line" id="141015"><span class="nick" style="color:#2e2a4a"><a href="#141015" label="[14:10:15]">&lt;rickmasters&gt;</a></span><span class="message">so tcc 0.9.27 is producing object files but a few C files in the kernel directory were skipped because the assembly files in that directory failed to compile.</span></div><div class="line" id="141258"><span class="nick" style="color:#2e2a4a"><a href="#141258" label="[14:12:58]">&lt;rickmasters&gt;</a></span><span class="message">its looks like a minor problem with some assembly. i'm trying to skip those files for now...</span></div><div class="line" id="141517"><span class="nick" style="color:#2e2a4a"><a href="#141517" label="[14:15:17]">&lt;rickmasters&gt;</a></span><span class="message">fossy: anyway, it looks really promising and the new leading candidate to move forward. thanks a lot for pointing it out.</span></div><div class="line" id="143145"><span class="nick" style="color:#6d2462"><a href="#143145" label="[14:31:45]">&lt;fossy&gt;</a></span><span class="message">rickmasters: that's exciting to hear. let me know if there's anything i might be able to help with. i know tcc's specialties reasonably well but not so much kernel architecture :D</span></div><div class="line" id="143737"><span class="nick" style="color:#2e2a4a"><a href="#143737" label="[14:37:37]">&lt;rickmasters&gt;</a></span><span class="message">fossy: ok, I'll let you know if I get stuck</span></div><div class="line" id="155245"><span class="nick" style="color:#6c3d55"><a href="#155245" label="[15:52:45]">&lt;janneke&gt;</a></span><span class="message">with m2-planet 1.10.0 (haven't checked later version yet) on foo.h:</span></div><div class="line" id="155249"><span class="nick" style="color:#6c3d55"><a href="#155249" label="[15:52:49]">&lt;janneke&gt;</a></span><span class="message">#if !__M2__</span></div><div class="line" id="155250"><span class="nick" style="color:#6c3d55"><a href="#155250" label="[15:52:50]">&lt;janneke&gt;</a></span><span class="message">#define EOF -1</span></div><div class="line" id="155250"><span class="nick" style="color:#6c3d55"><a href="#155250" label="[15:52:50]">&lt;janneke&gt;</a></span><span class="message">#endif</span></div><div class="line" id="155305"><span class="nick" style="color:#6c3d55"><a href="#155305" label="[15:53:05]">&lt;janneke&gt;</a></span><span class="message">i get</span></div><div class="line" id="155311"><span class="nick" style="color:#6c3d55"><a href="#155311" label="[15:53:11]">&lt;janneke&gt;</a></span><span class="message">$ M2-Planet -f foo.h</span></div><div class="line" id="155311"><span class="nick" style="color:#6c3d55"><a href="#155311" label="[15:53:11]">&lt;janneke&gt;</a></span><span class="message">#define got something it can't handle</span></div><div class="line" id="155311"><span class="nick" style="color:#6c3d55"><a href="#155311" label="[15:53:11]">&lt;janneke&gt;</a></span><span class="message">[1]15:52:29 janneke@drakenpad:~/src/mes/fix [env]</span></div><div class="line" id="155336"><span class="nick">***</span><span class="message notice">ChanServ sets mode: -o janneke</span></div><div class="line" id="155400"><span class="nick" style="color:#6c3d55"><a href="#155400" label="[15:54:00]">&lt;janneke&gt;</a></span><span class="message">ideas?</span></div><div class="line" id="162209"><span class="nick" style="color:#2e2a4a"><a href="#162209" label="[16:22:09]">&lt;rickmasters&gt;</a></span><span class="message">doesn't seem to like the underscores</span></div><div class="line" id="162218"><span class="nick" style="color:#2e2a4a"><a href="#162218" label="[16:22:18]">&lt;rickmasters&gt;</a></span><span class="message">remove those and it seems to work</span></div><div class="line" id="171157"><span class="nick" style="color:#6c3d55"><a href="#171157" label="[17:11:57]">&lt;janneke&gt;</a></span><span class="message">rickmasters: now that's weird!</span></div><div class="line" id="171219"><span class="nick" style="color:#6c3d55"><a href="#171219" label="[17:12:19]">&lt;janneke&gt;</a></span><span class="message">of course, 'M2' is never defined</span></div><div class="line" id="171353"><span class="nick" style="color:#6c3d55"><a href="#171353" label="[17:13:53]">&lt;janneke&gt;</a></span><span class="message">it's not the underscores, this also works &quot;fine&quot;:</span></div><div class="line" id="171355"><span class="nick" style="color:#6c3d55"><a href="#171355" label="[17:13:55]">&lt;janneke&gt;</a></span><span class="message">#if !____</span></div><div class="line" id="171355"><span class="nick" style="color:#6c3d55"><a href="#171355" label="[17:13:55]">&lt;janneke&gt;</a></span><span class="message">#define EOF -1</span></div><div class="line" id="171355"><span class="nick" style="color:#6c3d55"><a href="#171355" label="[17:13:55]">&lt;janneke&gt;</a></span><span class="message">#endif</span></div><div class="line" id="171818"><span class="nick" style="color:#2e2a4a"><a href="#171818" label="[17:18:18]">&lt;rickmasters&gt;</a></span><span class="message">janneke: it just seems related to the #if because the define works by itself</span></div><div class="line" id="172432"><span class="nick" style="color:#6c3d55"><a href="#172432" label="[17:24:32]">&lt;janneke&gt;</a></span><span class="message">rickmasters: dunno, it's weird</span></div><div class="line" id="172434"><span class="nick" style="color:#6c3d55"><a href="#172434" label="[17:24:34]">&lt;janneke&gt;</a></span><span class="message">this works:</span></div><div class="line" id="172439"><span class="nick" style="color:#6c3d55"><a href="#172439" label="[17:24:39]">&lt;janneke&gt;</a></span><span class="message">#define EOF 2</span></div><div class="line" id="172440"><span class="nick" style="color:#6c3d55"><a href="#172440" label="[17:24:40]">&lt;janneke&gt;</a></span><span class="message">int i = EOF;</span></div><div class="line" id="172456"><span class="nick" style="color:#6c3d55"><a href="#172456" label="[17:24:56]">&lt;janneke&gt;</a></span><span class="message">this:</span></div><div class="line" id="172457"><span class="nick" style="color:#6c3d55"><a href="#172457" label="[17:24:57]">&lt;janneke&gt;</a></span><span class="message">#define EOF -1</span></div><div class="line" id="172458"><span class="nick" style="color:#6c3d55"><a href="#172458" label="[17:24:58]">&lt;janneke&gt;</a></span><span class="message">int i = EOF;</span></div><div class="line" id="172459"><span class="nick" style="color:#6c3d55"><a href="#172459" label="[17:24:59]">&lt;janneke&gt;</a></span><span class="message">gives:</span></div><div class="line" id="172507"><span class="nick" style="color:#6c3d55"><a href="#172507" label="[17:25:07]">&lt;janneke&gt;</a></span><span class="message">$ bin/M2-Planet -f bar.h</span></div><div class="line" id="172507"><span class="nick" style="color:#6c3d55"><a href="#172507" label="[17:25:07]">&lt;janneke&gt;</a></span><span class="message">bar.h:1:Received - in program</span></div><div class="line" id="172507"><span class="nick" style="color:#6c3d55"><a href="#172507" label="[17:25:07]">&lt;janneke&gt;</a></span><span class="message">[1]17:24:44 janneke@drakenpad:~/src/m2-planet [env]</span></div><div class="line" id="172819"><span class="nick" style="color:#2e2a4a"><a href="#172819" label="[17:28:19]">&lt;rickmasters&gt;</a></span><span class="message">so does just int i = -1;</span></div><div class="line" id="172833"><span class="nick" style="color:#2e2a4a"><a href="#172833" label="[17:28:33]">&lt;rickmasters&gt;</a></span><span class="message">perhaps M2-Planet doesn't support negative literals</span></div><div class="line" id="173030"><span class="nick" style="color:#6c3d55"><a href="#173030" label="[17:30:30]">&lt;janneke&gt;</a></span><span class="message">possibly</span></div><div class="line" id="173135"><span class="nick" style="color:#d9d9d9"><a href="#173135" label="[17:31:35]">*</a></span><span class="message">janneke tried 0 - 1, and (0 - 1); neither works :-(</span></div><div class="line" id="173138"><span class="nick" style="color:#2e2a4a"><a href="#173138" label="[17:31:38]">&lt;rickmasters&gt;</a></span><span class="message">it seems to inside a function, but not globals</span></div><div class="line" id="173232"><span class="nick" style="color:#bc80bd"><a href="#173232" label="[17:32:32]">&lt;muurkha&gt;</a></span><span class="message">I guess ~1 + 1 probably doesn't work either, does it?</span></div><div class="line" id="174518"><span class="nick" style="color:#2e2a4a"><a href="#174518" label="[17:45:18]">&lt;rickmasters&gt;</a></span><span class="message">janneke: actually it does support negative literals, just not inside and #if that does not succeed. probably a bug</span></div><div class="line" id="174735"><span class="nick" style="color:#2e2a4a"><a href="#174735" label="[17:47:35]">&lt;rickmasters&gt;</a></span><span class="message">janneke: it a little weirder: you can define a negative literal outside an #if but, separately, you can't set a global variable with a negative literal</span></div><div class="line" id="174809"><span class="nick" style="color:#6c3d55"><a href="#174809" label="[17:48:09]">&lt;janneke&gt;</a></span><span class="message">interesting</span></div><div class="line" id="174933"><span class="nick" style="color:#2e2a4a"><a href="#174933" label="[17:49:33]">&lt;rickmasters&gt;</a></span><span class="message">more precise: you cannot define a negative literal in an failing #if/#endif and you you can't set a global variable with a negative literal</span></div><div class="line" id="180324"><span class="nick" style="color:#bc80bd"><a href="#180324" label="[18:03:24]">&lt;muurkha&gt;</a></span><span class="message">heh</span></div><div class="line" id="191751"><span class="nick" style="color:#3c5b35"><a href="#191751" label="[19:17:51]">&lt;clemens3&gt;</a></span><span class="message">I get a build error for mes  using guile 3.0.7</span></div><div class="line" id="191816"><span class="nick" style="color:#3c5b35"><a href="#191816" label="[19:18:16]">&lt;clemens3&gt;</a></span><span class="message">  GUILEC     module/mescc/compile.scm</span></div><div class="line" id="191818"><span class="nick" style="color:#3c5b35"><a href="#191818" label="[19:18:18]">&lt;clemens3&gt;</a></span><span class="message">make: *** [GNUmakefile:95: build] Error 1</span></div><div class="line" id="191822"><span class="nick" style="color:#3c5b35"><a href="#191822" label="[19:18:22]">&lt;clemens3&gt;</a></span><span class="message">in case anybody interested</span></div><br /></div></body></html>