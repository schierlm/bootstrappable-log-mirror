<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2021-01-10.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000023"><span class="nick" style="color:#389600"><a href="#000023" label="[00:00:23]">&lt;ullbeking&gt;</a></span><span class="message">OriansJ: there should be some cheaper ones coming on the market soon-ish, i think</span></div><div class="line" id="002810"><span class="nick" style="color:#2e2a4a"><a href="#002810" label="[00:28:10]">&lt;stikonas&gt;</a></span><span class="message">fossy: I mostly have gzip (was testing on my normal system for now). Mostly works but for now I need to pre-patch one file</span></div><div class="line" id="002826"><span class="nick" style="color:#2e2a4a"><a href="#002826" label="[00:28:26]">&lt;stikonas&gt;</a></span><span class="message">(or alternatively patch needs to be bootstrapped)...</span></div><div class="line" id="003744"><span class="nick" style="color:#6b8072"><a href="#003744" label="[00:37:44]">&lt;yt_&gt;</a></span><span class="message">janneke: global array works <a rel="nofollow" href="https://paste.debian.net/1180392/">https://paste.debian.net/1180392/</a> </span></div><div class="line" id="003832"><span class="nick" style="color:#6b8072"><a href="#003832" label="[00:38:32]">&lt;yt_&gt;</a></span><span class="message">code is here until I get a chance to clean it up and make a PR <a rel="nofollow" href="https://github.com/snnw/M2-Planet/commit/2af46c1efc413f70dabb4d607ba14893b20385a5">https://github.com/snnw/M2-Planet/commit/2af46c1efc413f70dabb4d607ba14893b20385a5</a> </span></div><div class="line" id="003912"><span class="nick" style="color:#6b8072"><a href="#003912" label="[00:39:12]">&lt;yt_&gt;</a></span><span class="message">janneke: I had to adapt your test case a bit because it only compiles in --bootstrap-mode, while this feature is going into non-bootstrap mode</span></div><div class="line" id="003951"><span class="nick" style="color:#6b8072"><a href="#003951" label="[00:39:51]">&lt;yt_&gt;</a></span><span class="message">if you want to test it as is though, you can disable the bootstrap_error check in the M2-Planet source</span></div><div class="line" id="004003"><span class="nick" style="color:#389600"><a href="#004003" label="[00:40:03]">&lt;ullbeking&gt;</a></span><span class="message">currently tending to household chores, biab</span></div><div class="line" id="004028"><span class="nick" style="color:#6b8072"><a href="#004028" label="[00:40:28]">&lt;yt_&gt;</a></span><span class="message">and that's it from me for today, good night!</span></div><div class="line" id="004308"><span class="nick" style="color:#80b1d3"><a href="#004308" label="[00:43:08]">&lt;OriansJ&gt;</a></span><span class="message">ullbeking: having to deal with my overly active 10 Month old son here; really slows down development some days</span></div><div class="line" id="004447"><span class="nick" style="color:#80b1d3"><a href="#004447" label="[00:44:47]">&lt;OriansJ&gt;</a></span><span class="message">but life work living never comes easy.</span></div><div class="line" id="004805"><span class="nick" style="color:#389600"><a href="#004805" label="[00:48:05]">&lt;ullbeking&gt;</a></span><span class="message">goodnight yt_ !</span></div><div class="line" id="004816"><span class="nick" style="color:#389600"><a href="#004816" label="[00:48:16]">&lt;ullbeking&gt;</a></span><span class="message">OriansJ: where are you located?</span></div><div class="line" id="004836"><span class="nick" style="color:#80b1d3"><a href="#004836" label="[00:48:36]">&lt;OriansJ&gt;</a></span><span class="message">ullbeking: Michigan</span></div><div class="line" id="004838"><span class="nick" style="color:#80b1d3"><a href="#004838" label="[00:48:38]">&lt;OriansJ&gt;</a></span><span class="message">you?</span></div><div class="line" id="004846"><span class="nick" style="color:#389600"><a href="#004846" label="[00:48:46]">&lt;ullbeking&gt;</a></span><span class="message">London, UK</span></div><div class="line" id="004918"><span class="nick" style="color:#389600"><a href="#004918" label="[00:49:18]">&lt;ullbeking&gt;</a></span><span class="message">I remember Michigan fondly because I saw the most beautiful sunset of my life there</span></div><div class="line" id="005027"><span class="nick" style="color:#80b1d3"><a href="#005027" label="[00:50:27]">&lt;OriansJ&gt;</a></span><span class="message">ullbeking: The UK is where I met a musician who wrote a song for me and included in their album</span></div><div class="line" id="005049"><span class="nick" style="color:#389600"><a href="#005049" label="[00:50:49]">&lt;ullbeking&gt;</a></span><span class="message">OriansJ: whoa!!  is it online?  which musician?</span></div><div class="line" id="005054"><span class="nick" style="color:#389600"><a href="#005054" label="[00:50:54]">&lt;ullbeking&gt;</a></span><span class="message">i love music</span></div><div class="line" id="005109"><span class="nick" style="color:#80b1d3"><a href="#005109" label="[00:51:09]">&lt;OriansJ&gt;</a></span><span class="message">let me look</span></div><div class="line" id="005220"><span class="nick" style="color:#80b1d3"><a href="#005220" label="[00:52:20]">&lt;OriansJ&gt;</a></span><span class="message">yep: <a rel="nofollow" href="https://www.youtube.com/watch?v=6tfId0RTTng">https://www.youtube.com/watch?v=6tfId0RTTng</a> </span></div><div class="line" id="005537"><span class="nick" style="color:#2e2a4a"><a href="#005537" label="[00:55:37]">&lt;stikonas&gt;</a></span><span class="message">fossy: is your tcc configured to find crt1.o, etc or do I need to pass some command line args to it?</span></div><div class="line" id="005658"><span class="nick" style="color:#80b1d3"><a href="#005658" label="[00:56:58]">&lt;OriansJ&gt;</a></span><span class="message">ullbeking: I was the drunk guy in the song and dealing with the death of my fiance in a car crash; while burying myself in contract work and drinking.</span></div><div class="line" id="010130"><span class="nick" style="color:#2e2a4a"><a href="#010130" label="[01:01:30]">&lt;stikonas&gt;</a></span><span class="message">ok, sed and gzip are now done</span></div><div class="line" id="010357"><span class="nick" style="color:#80b1d3"><a href="#010357" label="[01:03:57]">&lt;OriansJ&gt;</a></span><span class="message">yt_: I updated mescc-tools-seed; could you update the AArch64 arch when you get a chance.</span></div><div class="line" id="012724"><span class="nick" style="color:#6d2462"><a href="#012724" label="[01:27:24]">&lt;fossy&gt;</a></span><span class="message">stikonas: yes it'c ofnigured to find crt*</span></div><div class="line" id="012736"><span class="nick" style="color:#6d2462"><a href="#012736" label="[01:27:36]">&lt;fossy&gt;</a></span><span class="message">lol when recompiling the libc i ran into an issue with too many objects</span></div><div class="line" id="012744"><span class="nick" style="color:#6d2462"><a href="#012744" label="[01:27:44]">&lt;fossy&gt;</a></span><span class="message">so i had to create some unified source files lmao</span></div><div class="line" id="012810"><span class="nick" style="color:#6d2462"><a href="#012810" label="[01:28:10]">&lt;fossy&gt;</a></span><span class="message">stikonas: how much patching needs to be done? is it possibel to be done using a simple search and replace?</span></div><div class="line" id="012841"><span class="nick" style="color:#6d2462"><a href="#012841" label="[01:28:41]">&lt;fossy&gt;</a></span><span class="message">(i'm thinking of making a very simple M2-Planet program that searches for a string and replaces it wtih another, no regex or anything, just to bootstrap here)</span></div><div class="line" id="013034"><span class="nick" style="color:#6d2462"><a href="#013034" label="[01:30:34]">&lt;fossy&gt;</a></span><span class="message">now, while i wait for that to buiild again</span></div><div class="line" id="014059"><span class="nick" style="color:#2e2a4a"><a href="#014059" label="[01:40:59]">&lt;stikonas&gt;</a></span><span class="message">fossy: I've dealt with patching already</span></div><div class="line" id="014107"><span class="nick" style="color:#2e2a4a"><a href="#014107" label="[01:41:07]">&lt;stikonas&gt;</a></span><span class="message">fossy: that's why I did sed and then gzip</span></div><div class="line" id="014125"><span class="nick" style="color:#2e2a4a"><a href="#014125" label="[01:41:25]">&lt;stikonas&gt;</a></span><span class="message">this worked: sed -i 165,174d util.c</span></div><div class="line" id="014200"><span class="nick" style="color:#2e2a4a"><a href="#014200" label="[01:42:00]">&lt;stikonas&gt;</a></span><span class="message">and sed was easy, it just worked</span></div><div class="line" id="014203"><span class="nick" style="color:#389600"><a href="#014203" label="[01:42:03]">&lt;ullbeking&gt;</a></span><span class="message">OriansJ: i just put the song on now, and then i'll go to bed with my wife</span></div><div class="line" id="014225"><span class="nick" style="color:#2e2a4a"><a href="#014225" label="[01:42:25]">&lt;stikonas&gt;</a></span><span class="message">fossy: so once you push tcc, I'll try to integrate it with live-bootstrap</span></div><div class="line" id="015204"><span class="nick" style="color:#2e2a4a"><a href="#015204" label="[01:52:04]">&lt;stikonas&gt;</a></span><span class="message">fossy: do you need to do those string replacements for tcc?</span></div><div class="line" id="015211"><span class="nick" style="color:#2e2a4a"><a href="#015211" label="[01:52:11]">&lt;stikonas&gt;</a></span><span class="message">if not, then you can just use sed</span></div><div class="line" id="021256"><span class="nick" style="color:#6d2462"><a href="#021256" label="[02:12:56]">&lt;fossy&gt;</a></span><span class="message">stikonas: there are no string replacements required for tcc; so, we don't need anything liek what i outlined</span></div><div class="line" id="021331"><span class="nick" style="color:#6d2462"><a href="#021331" label="[02:13:31]">&lt;fossy&gt;</a></span><span class="message">stikonas: how about we integrate sed and gzip once i push tcc, but soonish we put tar in between?</span></div><div class="line" id="021335"><span class="nick" style="color:#6d2462"><a href="#021335" label="[02:13:35]">&lt;fossy&gt;</a></span><span class="message">so sed -&gt; tar -&gt; gzip</span></div><div class="line" id="021341"><span class="nick" style="color:#6d2462"><a href="#021341" label="[02:13:41]">&lt;fossy&gt;</a></span><span class="message">so that we we can distribute gzip as a .tar</span></div><div class="line" id="021348"><span class="nick" style="color:#6d2462"><a href="#021348" label="[02:13:48]">&lt;fossy&gt;</a></span><span class="message">and then everythin after gzip as a .tar.gz</span></div><div class="line" id="021522"><span class="nick" style="color:#2e2a4a"><a href="#021522" label="[02:15:22]">&lt;stikonas&gt;</a></span><span class="message">yeah, sed-&gt;tar-&gt;gzip would be nicer</span></div><div class="line" id="021526"><span class="nick" style="color:#2e2a4a"><a href="#021526" label="[02:15:26]">&lt;stikonas&gt;</a></span><span class="message">it's just that I haven't done tar yet</span></div><div class="line" id="021533"><span class="nick" style="color:#2e2a4a"><a href="#021533" label="[02:15:33]">&lt;stikonas&gt;</a></span><span class="message">well, you can look at tar :)</span></div><div class="line" id="021542"><span class="nick" style="color:#2e2a4a"><a href="#021542" label="[02:15:42]">&lt;stikonas&gt;</a></span><span class="message">I can push sed and gzip once I test it</span></div><div class="line" id="021641"><span class="nick" style="color:#2e2a4a"><a href="#021641" label="[02:16:41]">&lt;stikonas&gt;</a></span><span class="message">for now it builds on my main system using kaem and tcc. Hopefully it still works when isolated in qemu</span></div><div class="line" id="021818"><span class="nick" style="color:#6d2462"><a href="#021818" label="[02:18:18]">&lt;fossy&gt;</a></span><span class="message">yeah i will look at tar 1ce i finish tcc</span></div><div class="line" id="021828"><span class="nick" style="color:#6d2462"><a href="#021828" label="[02:18:28]">&lt;fossy&gt;</a></span><span class="message">ONE_SOURCE=1 is so nice</span></div><div class="line" id="021835"><span class="nick" style="color:#6d2462"><a href="#021835" label="[02:18:35]">&lt;fossy&gt;</a></span><span class="message">reduced number of commands signfiicantly</span></div><div class="line" id="021835"><span class="nick" style="color:#2e2a4a"><a href="#021835" label="[02:18:35]">&lt;stikonas&gt;</a></span><span class="message">for tcc?</span></div><div class="line" id="021903"><span class="nick" style="color:#2e2a4a"><a href="#021903" label="[02:19:03]">&lt;stikonas&gt;</a></span><span class="message">so you do catm into one file and then -DONE_SOURCE=1?</span></div><div class="line" id="024931"><span class="nick" style="color:#6d2462"><a href="#024931" label="[02:49:31]">&lt;fossy&gt;</a></span><span class="message">stikonas: not even, tcc has ONE_SOURCE=1 inbuilt, where it #includes everything</span></div><div class="line" id="024943"><span class="nick" style="color:#6d2462"><a href="#024943" label="[02:49:43]">&lt;fossy&gt;</a></span><span class="message">so you just have to compile tcc.c instead of everything</span></div><div class="line" id="025832"><span class="nick" style="color:#2e2a4a"><a href="#025832" label="[02:58:32]">&lt;stikonas&gt;</a></span><span class="message">oh ok...</span></div><div class="line" id="025853"><span class="nick" style="color:#2e2a4a"><a href="#025853" label="[02:58:53]">&lt;stikonas&gt;</a></span><span class="message">yeah, I can see it in the source...</span></div><div class="line" id="025953"><span class="nick" style="color:#2e2a4a"><a href="#025953" label="[02:59:53]">&lt;stikonas&gt;</a></span><span class="message">fossy: by the way, I think I'm done with diffutils too</span></div><div class="line" id="030005"><span class="nick" style="color:#2e2a4a"><a href="#030005" label="[03:00:05]">&lt;stikonas&gt;</a></span><span class="message">at least cmp and diff, but that should be enough</span></div><div class="line" id="030032"><span class="nick" style="color:#2e2a4a"><a href="#030032" label="[03:00:32]">&lt;stikonas&gt;</a></span><span class="message">anyway, I'm going to bed soon</span></div><div class="line" id="030051"><span class="nick" style="color:#2e2a4a"><a href="#030051" label="[03:00:51]">&lt;stikonas&gt;</a></span><span class="message">so will look at your tcc stuff tomorrow</span></div><div class="line" id="030648"><span class="nick" style="color:#389600"><a href="#030648" label="[03:06:48]">&lt;ullbeking&gt;</a></span><span class="message">i've just been browsing tcc, and whoa it's a groovy project!!</span></div><div class="line" id="030700"><span class="nick" style="color:#389600"><a href="#030700" label="[03:07:00]">&lt;ullbeking&gt;</a></span><span class="message">i wonder if there's a c++ equivalent</span></div><div class="line" id="030716"><span class="nick" style="color:#2e2a4a"><a href="#030716" label="[03:07:16]">&lt;stikonas&gt;</a></span><span class="message">probably no, c++ is much more complex language...</span></div><div class="line" id="032143"><span class="nick" style="color:#6d2462"><a href="#032143" label="[03:21:43]">&lt;fossy&gt;</a></span><span class="message">stikonas[m]: pushed</span></div><div class="line" id="032319"><span class="nick" style="color:#234e69"><a href="#032319" label="[03:23:19]">&lt;stikonas[m]&gt;</a></span><span class="message">OK, I'll check in the morning</span></div><div class="line" id="032322"><span class="nick" style="color:#234e69"><a href="#032322" label="[03:23:22]">&lt;stikonas[m]&gt;</a></span><span class="message">Thanks</span></div><div class="line" id="032447"><span class="nick" style="color:#234e69"><a href="#032447" label="[03:24:47]">&lt;stikonas[m]&gt;</a></span><span class="message">fossy, you can also update mescc-tools-seed instead if checking out revision if mescc-tools</span></div><div class="line" id="035841"><span class="nick" style="color:#6d2462"><a href="#035841" label="[03:58:41]">&lt;fossy&gt;</a></span><span class="message">stikonas[m]: oh yes</span></div><div class="line" id="040627"><span class="nick" style="color:#80b1d3"><a href="#040627" label="[04:06:27]">&lt;OriansJ&gt;</a></span><span class="message">as I did update both M2-Planet and mescc-tools in  mescc-tools-seed (just need yt to update the AArch64 bit)</span></div><div class="line" id="041402"><span class="nick" style="color:#6d2462"><a href="#041402" label="[04:14:02]">&lt;fossy&gt;</a></span><span class="message">stikonas[m]: no, not currently possible, M2-Planet --bootstrap-mode breaks everything badly (mescc-tools-extra works when --bootstrap-mode is added but blynn-compilier is very broken)</span></div><div class="line" id="041532"><span class="nick" style="color:#80b1d3"><a href="#041532" label="[04:15:32]">&lt;OriansJ&gt;</a></span><span class="message">I guess I am going to have to fix that if I broke it</span></div><div class="line" id="044131"><span class="nick" style="color:#80b1d3"><a href="#044131" label="[04:41:31]">&lt;OriansJ&gt;</a></span><span class="message">but first it looks like M2-Planet #if is behaving wrong</span></div><div class="line" id="045716"><span class="nick" style="color:#80b1d3"><a href="#045716" label="[04:57:16]">&lt;OriansJ&gt;</a></span><span class="message">well I made a fix and it is currently running ./bin/crossly precisely.hs generated/precisely.c (which will be a few minutes before it is done assuming everything is working again)</span></div><div class="line" id="051337"><span class="nick" style="color:#6c3d55"><a href="#051337" label="[05:13:37]">&lt;malina&gt;</a></span><span class="message">sorry, OriansJ but would u mind if I ask a 'quick' offtopic Question?</span></div><div class="line" id="051419"><span class="nick" style="color:#6c3d55"><a href="#051419" label="[05:14:19]">&lt;malina&gt;</a></span><span class="message">I mean it's relevant to hashsumming and what we are doign but not directly.</span></div><div class="line" id="051444"><span class="nick" style="color:#6c3d55"><a href="#051444" label="[05:14:44]">&lt;malina&gt;</a></span><span class="message">(else, I can ask tomorrow sometime when or if people are not busy).</span></div><div class="line" id="051754"><span class="nick" style="color:#389600"><a href="#051754" label="[05:17:54]">&lt;ullbeking&gt;</a></span><span class="message">HOLY MOLY</span></div><div class="line" id="051836"><span class="nick" style="color:#389600"><a href="#051836" label="[05:18:36]">&lt;ullbeking&gt;</a></span><span class="message">i just discovered the Forth subproject ( <a rel="nofollow" href="https://bootstrapping.miraheze.org/wiki/Forth">https://bootstrapping.miraheze.org/wiki/Forth</a>  ) and this looks amazing!</span></div><div class="line" id="052548"><span class="nick" style="color:#80b1d3"><a href="#052548" label="[05:25:48]">&lt;OriansJ&gt;</a></span><span class="message">malina: what is your checksumming question?</span></div><div class="line" id="052652"><span class="nick" style="color:#6c3d55"><a href="#052652" label="[05:26:52]">&lt;malina&gt;</a></span><span class="message">OriansJ, I think  iam figuring it out. It wa sjust erm I have from LFS 2 bootscript tar.xz which contain the same files, (with b2sums verification), but the archives were givign different sums. I haven't seen it before.</span></div><div class="line" id="052907"><span class="nick" style="color:#6c3d55"><a href="#052907" label="[05:29:07]">&lt;malina&gt;</a></span><span class="message">I suspect though it is probably somehting to do with me in a pseudo broken state atm. due to not done a proper rebuild . I just wondered if you guys would know how to do an analysis or what is most likely the cause. (both handle fine and open fine but one is 150ish bytes larger so obviously will have diff checksum). I guess I just got a bit like WTH as it is from same source, same name , same content,</span></div><div class="line" id="053114"><span class="nick" style="color:#80b1d3"><a href="#053114" label="[05:31:14]">&lt;OriansJ&gt;</a></span><span class="message">malina: servers can serve anything they want; that is why trusted checksums from a trusted source is a critical step (ideally seperate from the server which could be hijacked and showing you the wrong checksum)</span></div><div class="line" id="053120"><span class="nick" style="color:#6c3d55"><a href="#053120" label="[05:31:20]">&lt;malina&gt;</a></span><span class="message">so was 10 mns ago wondering if it would most likely be tar or xz or so which might be borked.</span></div><div class="line" id="053201"><span class="nick" style="color:#80b1d3"><a href="#053201" label="[05:32:01]">&lt;OriansJ&gt;</a></span><span class="message">unlikely unless built with a borked C compiler</span></div><div class="line" id="053204"><span class="nick" style="color:#6c3d55"><a href="#053204" label="[05:32:04]">&lt;malina&gt;</a></span><span class="message">yes, it's luckily a 'small ' package with onyl a few source files bootscripts for lfs), I was just helping thm change to b2sums instead of md5sums. I doubt it is nefarious, which is why I wanted ot ask you in here, since you guys are fairly use</span></div><div class="line" id="053211"><span class="nick" style="color:#6c3d55"><a href="#053211" label="[05:32:11]">&lt;malina&gt;</a></span><span class="message">ye, I htink it is</span></div><div class="line" id="053242"><span class="nick" style="color:#6c3d55"><a href="#053242" label="[05:32:42]">&lt;malina&gt;</a></span><span class="message">that OriansJ . I had a perfectly working system until some weeks ago when I started messing around , and even used icc for stuff and I think I somehow have introduced something really shite  lol :/</span></div><div class="line" id="053329"><span class="nick" style="color:#6c3d55"><a href="#053329" label="[05:33:29]">&lt;malina&gt;</a></span><span class="message">right. thanks. tomorrow I will compare the contents , size, and byte for byte and make sure it's just a broken _whatever_</span></div><div class="line" id="053331"><span class="nick" style="color:#80b1d3"><a href="#053331" label="[05:33:31]">&lt;OriansJ&gt;</a></span><span class="message">there is a big reason why guix includes --roll-back</span></div><div class="line" id="053351"><span class="nick" style="color:#6c3d55"><a href="#053351" label="[05:33:51]">&lt;malina&gt;</a></span><span class="message">ye, i am a gimp and just made a /recovery/</span></div><div class="line" id="053445"><span class="nick" style="color:#80b1d3"><a href="#053445" label="[05:34:45]">&lt;OriansJ&gt;</a></span><span class="message">also there are whitespace attacks thanks to unicode; So having sin take a look wouldn't be a bad idea if you are paranoid of potential attacks.</span></div><div class="line" id="053450"><span class="nick" style="color:#6c3d55"><a href="#053450" label="[05:34:50]">&lt;malina&gt;</a></span><span class="message">with my old packages of the 200 I had built o s and just reinstalled :D about 20 times, but I been doing this insanity for 4 years now and have built 10000 packages or os, it's a good way for me to stay on top of hings. I did have a perfect system though and was silly to not maybe</span></div><div class="line" id="053518"><span class="nick" style="color:#6c3d55"><a href="#053518" label="[05:35:18]">&lt;malina&gt;</a></span><span class="message">yes, OriansJ , I was htinking if maybe a trained eye could indeed ocnfirm my own notions. I can send them by all means to someone</span></div><div class="line" id="053701"><span class="nick" style="color:#6c3d55"><a href="#053701" label="[05:37:01]">&lt;malina&gt;</a></span><span class="message">I am 99% sure it's just a weird broken system, because the md5sums don't match.. or anythign, HAD that happeend, THEN I would be paranoid. and since b2sums are claiming the contents were the same, then it's probabl an appended broken encoding byte. (indeed I get sometimes a broken encoding here in irc client) . I just am susprised the package format still unpacks, and why does eveyrhitng else work/sum nicely. ANyway, sorry for the</span></div><div class="line" id="053701"><span class="nick" style="color:#6c3d55"><a href="#053701" label="[05:37:01]">&lt;malina&gt;</a></span><span class="message">noise/.distracton/OT</span></div><div class="line" id="053714"><span class="nick" style="color:#80b1d3"><a href="#053714" label="[05:37:14]">&lt;OriansJ&gt;</a></span><span class="message">don't trust your eyes but what you can know for certain. <a rel="nofollow" href="https://github.com/oriansj/stage0/blob/master/High_level_prototypes/sin.c">https://github.com/oriansj/stage0/blob/master/High_level_prototypes/sin.c</a> </span></div><div class="line" id="054206"><span class="nick" style="color:#6c3d55"><a href="#054206" label="[05:42:06]">&lt;malina&gt;</a></span><span class="message">in all the past 4 years , I haven't come across things directly suspicious, except of course the fact external binaries or things like google being able to install root owned binaries in system, work on silent pathicng, and add drm stuff to kernel so it's easier to 'call' home ecnrypted, but beyond these things, its' not something.. literally it just all the sums were FINE except that one package. however, I now realise, it's</span></div><div class="line" id="054233"><span class="nick" style="color:#6c3d55"><a href="#054233" label="[05:42:33]">&lt;malina&gt;</a></span><span class="message">autogenerted from xsl and that IS definitely broke atm.</span></div><div class="line" id="054236"><span class="nick" style="color:#d9d9d9"><a href="#054236" label="[05:42:36]">*</a></span><span class="message">malina smacks head</span></div><div class="line" id="054633"><span class="nick" style="color:#6c3d55"><a href="#054633" label="[05:46:33]">&lt;malina&gt;</a></span><span class="message">(ya, every file is same). my bad. although seeing a recent fix in iconv in glibc, I recall when packaging npm a while back, it segfaulted on a png. I kept that file because it wasn't &quot;usual&quot;. that was indeed somethign iffy, and npm is closed source. piggybacked from arch, which also had a backdoor in cairodock in 2013. not sure if that was upstream or their user hwo did though. right. night night.</span></div><div class="line" id="082111"><span class="nick" style="color:#bc80bd"><a href="#082111" label="[08:21:11]">&lt;siraben&gt;</a></span><span class="message">OriansJ: is that a reimplementation of stage0 in C?</span></div><div class="line" id="082127"><span class="nick" style="color:#bc80bd"><a href="#082127" label="[08:21:27]">&lt;siraben&gt;</a></span><span class="message">where can I find the 357 byte seed rendered in C?</span></div><div class="line" id="084909"><span class="nick" style="color:#3c5b35"><a href="#084909" label="[08:49:09]">&lt;gforce_d11977&gt;</a></span><span class="message">siraben: <a rel="nofollow" href="https://github.com/bittorf/GNU-mes-documentation-attempt/tree/main/step00">https://github.com/bittorf/GNU-mes-documentation-attempt/tree/main/step00</a> </span></div><div class="line" id="084914"><span class="nick" style="color:#3c5b35"><a href="#084914" label="[08:49:14]">&lt;gforce_d11977&gt;</a></span><span class="message">8-)</span></div><div class="line" id="085002"><span class="nick" style="color:#bc80bd"><a href="#085002" label="[08:50:02]">&lt;siraben&gt;</a></span><span class="message">gforce_d11977: thanks</span></div><div class="line" id="094525"><span class="nick" style="color:#6d2462"><a href="#094525" label="[09:45:25]">&lt;fossy&gt;</a></span><span class="message">stikonas[m]: tcc 0.9.27 is also up</span></div><div class="line" id="102850"><span class="nick" style="color:#3c5b35"><a href="#102850" label="[10:28:50]">&lt;gforce_d11977&gt;</a></span><span class="message">fossy: can you please try and report if method-2 is working for you?</span></div><div class="line" id="102855"><span class="nick" style="color:#3c5b35"><a href="#102855" label="[10:28:55]">&lt;gforce_d11977&gt;</a></span><span class="message">fossy: <a rel="nofollow" href="https://github.com/bittorf/GNU-mes-documentation-attempt">https://github.com/bittorf/GNU-mes-documentation-attempt</a> </span></div><div class="line" id="103353"><span class="nick" style="color:#234e69"><a href="#103353" label="[10:33:53]">&lt;stikonas[m]&gt;</a></span><span class="message">fossy: thanks, I'll take a look soonish</span></div><div class="line" id="103803"><span class="nick" style="color:#234e69"><a href="#103803" label="[10:38:03]">&lt;stikonas[m]&gt;</a></span><span class="message">In the meantime you can merge my old pr</span></div><div class="line" id="104719"><span class="nick" style="color:#2e2a4a"><a href="#104719" label="[10:47:19]">&lt;stikonas&gt;</a></span><span class="message">fossy: mescc-tools rename broke live-bootstrap</span></div><div class="line" id="104738"><span class="nick" style="color:#2e2a4a"><a href="#104738" label="[10:47:38]">&lt;stikonas&gt;</a></span><span class="message">Unable to open for reading file: ../mescc-tools/functions/numerate_number.c</span></div><div class="line" id="104825"><span class="nick" style="color:#2e2a4a"><a href="#104825" label="[10:48:25]">&lt;stikonas&gt;</a></span><span class="message">oh, I need submodule --init</span></div><div class="line" id="104827"><span class="nick" style="color:#2e2a4a"><a href="#104827" label="[10:48:27]">&lt;stikonas&gt;</a></span><span class="message">ignore that...</span></div><div class="line" id="105008"><span class="nick" style="color:#af8d2f"><a href="#105008" label="[10:50:08]">&lt;rain1&gt;</a></span><span class="message">i always forget that submodule stuff!</span></div><div class="line" id="105016"><span class="nick" style="color:#af8d2f"><a href="#105016" label="[10:50:16]">&lt;rain1&gt;</a></span><span class="message">i wonder why git pull doesn't just do it by default</span></div><div class="line" id="105207"><span class="nick" style="color:#2e2a4a"><a href="#105207" label="[10:52:07]">&lt;stikonas&gt;</a></span><span class="message">I think there is pull --recursive</span></div><div class="line" id="105231"><span class="nick" style="color:#2e2a4a"><a href="#105231" label="[10:52:31]">&lt;stikonas&gt;</a></span><span class="message">but yeah, I would have liked it automatically too</span></div><div class="line" id="110641"><span class="nick" style="color:#6d2462"><a href="#110641" label="[11:06:41]">&lt;fossy&gt;</a></span><span class="message">stikonas: yeah same tbh</span></div><div class="line" id="110646"><span class="nick" style="color:#6d2462"><a href="#110646" label="[11:06:46]">&lt;fossy&gt;</a></span><span class="message">i'll look into git hooks at some point</span></div><div class="line" id="110900"><span class="nick" style="color:#6d2462"><a href="#110900" label="[11:09:00]">&lt;fossy&gt;</a></span><span class="message">stikonas: any idea why your precisely PR is conflicting files</span></div><div class="line" id="110903"><span class="nick" style="color:#6d2462"><a href="#110903" label="[11:09:03]">&lt;fossy&gt;</a></span><span class="message">idgit</span></div><div class="line" id="112602"><span class="nick" style="color:#6d2462"><a href="#112602" label="[11:26:02]">&lt;fossy&gt;</a></span><span class="message">ok, mergedish</span></div><div class="line" id="112613"><span class="nick" style="color:#6d2462"><a href="#112613" label="[11:26:13]">&lt;fossy&gt;</a></span><span class="message">read: i fked it up then fixed it</span></div><div class="line" id="112631"><span class="nick" style="color:#6d2462"><a href="#112631" label="[11:26:31]">&lt;fossy&gt;</a></span><span class="message">gforce_d11977: i tried it</span></div><div class="line" id="112639"><span class="nick" style="color:#6d2462"><a href="#112639" label="[11:26:39]">&lt;fossy&gt;</a></span><span class="message">i get this</span></div><div class="line" id="112641"><span class="nick" style="color:#6d2462"><a href="#112641" label="[11:26:41]">&lt;fossy&gt;</a></span><span class="message">/init: ./init.user: line 457: ls: not found</span></div><div class="line" id="112805"><span class="nick" style="color:#6d2462"><a href="#112805" label="[11:28:05]">&lt;fossy&gt;</a></span><span class="message">after mes-m2</span></div><div class="line" id="112912"><span class="nick" style="color:#3c5b35"><a href="#112912" label="[11:29:12]">&lt;gforce_d11977&gt;</a></span><span class="message">fossy: thank you! thats ok, this part is just not implemented yet</span></div><div class="line" id="113007"><span class="nick" style="color:#2e2a4a"><a href="#113007" label="[11:30:07]">&lt;stikonas&gt;</a></span><span class="message">oh yeah, submodule conflict</span></div><div class="line" id="113021"><span class="nick" style="color:#2e2a4a"><a href="#113021" label="[11:30:21]">&lt;stikonas&gt;</a></span><span class="message">fossy: although, there are now even further updates to go.sh</span></div><div class="line" id="113028"><span class="nick" style="color:#2e2a4a"><a href="#113028" label="[11:30:28]">&lt;stikonas&gt;</a></span><span class="message">probably worth merging them too...</span></div><div class="line" id="114356"><span class="nick" style="color:#bc80bd"><a href="#114356" label="[11:43:56]">&lt;siraben&gt;</a></span><span class="message">OriansJ: for some reason the newer mescc-tools-seed is causing the blynn-compiler build to time out</span></div><div class="line" id="114403"><span class="nick" style="color:#bc80bd"><a href="#114403" label="[11:44:03]">&lt;siraben&gt;</a></span><span class="message">I will increase the timeout to 30 min</span></div><div class="line" id="114414"><span class="nick" style="color:#bc80bd"><a href="#114414" label="[11:44:14]">&lt;siraben&gt;</a></span><span class="message">but that's getting quite long, up from when it used to be under 20</span></div><div class="line" id="115232"><span class="nick" style="color:#2e2a4a"><a href="#115232" label="[11:52:32]">&lt;stikonas&gt;</a></span><span class="message">fossy: something is still bad with that blynn-compiler merge</span></div><div class="line" id="115313"><span class="nick" style="color:#6d2462"><a href="#115313" label="[11:53:13]">&lt;fossy&gt;</a></span><span class="message">stikonas: oh</span></div><div class="line" id="115314"><span class="nick" style="color:#2e2a4a"><a href="#115314" label="[11:53:14]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/commits/master/sysa/blynn-compiler.kaem">https://github.com/fosslinux/live-bootstrap/commits/master/sysa/blynn-compiler.kaem</a> </span></div><div class="line" id="115319"><span class="nick" style="color:#2e2a4a"><a href="#115319" label="[11:53:19]">&lt;stikonas&gt;</a></span><span class="message">I don't see any changes</span></div><div class="line" id="115329"><span class="nick" style="color:#2e2a4a"><a href="#115329" label="[11:53:29]">&lt;stikonas&gt;</a></span><span class="message">maybe I'll make a new PR...</span></div><div class="line" id="115341"><span class="nick" style="color:#2e2a4a"><a href="#115341" label="[11:53:41]">&lt;stikonas&gt;</a></span><span class="message">because we need to grab OriansJ's fixes too...</span></div><div class="line" id="115356"><span class="nick" style="color:#6d2462"><a href="#115356" label="[11:53:56]">&lt;fossy&gt;</a></span><span class="message">what do we need the fixes for?</span></div><div class="line" id="115401"><span class="nick" style="color:#2e2a4a"><a href="#115401" label="[11:54:01]">&lt;stikonas&gt;</a></span><span class="message">bootstrap mode?</span></div><div class="line" id="115401"><span class="nick" style="color:#6d2462"><a href="#115401" label="[11:54:01]">&lt;fossy&gt;</a></span><span class="message">yeah just do that and then ill merge that</span></div><div class="line" id="115408"><span class="nick" style="color:#6d2462"><a href="#115408" label="[11:54:08]">&lt;fossy&gt;</a></span><span class="message">i haven't enabled that yet</span></div><div class="line" id="115412"><span class="nick" style="color:#2e2a4a"><a href="#115412" label="[11:54:12]">&lt;stikonas&gt;</a></span><span class="message">oh ok...</span></div><div class="line" id="115413"><span class="nick" style="color:#6d2462"><a href="#115413" label="[11:54:13]">&lt;fossy&gt;</a></span><span class="message">it also breaks mescc-tools-extra</span></div><div class="line" id="115417"><span class="nick" style="color:#2e2a4a"><a href="#115417" label="[11:54:17]">&lt;stikonas&gt;</a></span><span class="message">then we don't need that yet</span></div><div class="line" id="115419"><span class="nick" style="color:#6d2462"><a href="#115419" label="[11:54:19]">&lt;fossy&gt;</a></span><span class="message">yeah</span></div><div class="line" id="115431"><span class="nick" style="color:#2e2a4a"><a href="#115431" label="[11:54:31]">&lt;stikonas&gt;</a></span><span class="message">I still don't understand what happened with current merge</span></div><div class="line" id="115449"><span class="nick" style="color:#6d2462"><a href="#115449" label="[11:54:49]">&lt;fossy&gt;</a></span><span class="message">me neither :|</span></div><div class="line" id="115511"><span class="nick" style="color:#2e2a4a"><a href="#115511" label="[11:55:11]">&lt;stikonas&gt;</a></span><span class="message">somehow your merge commit removes all my changes</span></div><div class="line" id="115523"><span class="nick" style="color:#6d2462"><a href="#115523" label="[11:55:23]">&lt;fossy&gt;</a></span><span class="message">which makes 0 sense</span></div><div class="line" id="115529"><span class="nick" style="color:#2e2a4a"><a href="#115529" label="[11:55:29]">&lt;stikonas&gt;</a></span><span class="message">actually, simples thing is to cherry pick that commit</span></div><div class="line" id="115532"><span class="nick" style="color:#6d2462"><a href="#115532" label="[11:55:32]">&lt;fossy&gt;</a></span><span class="message">ok i just cherry-picked it onyo master</span></div><div class="line" id="115533"><span class="nick" style="color:#2e2a4a"><a href="#115533" label="[11:55:33]">&lt;stikonas&gt;</a></span><span class="message">that is already in the tree</span></div><div class="line" id="115534"><span class="nick" style="color:#6d2462"><a href="#115534" label="[11:55:34]">&lt;fossy&gt;</a></span><span class="message">lmao</span></div><div class="line" id="115534"><span class="nick" style="color:#2e2a4a"><a href="#115534" label="[11:55:34]">&lt;stikonas&gt;</a></span><span class="message">yeah</span></div><div class="line" id="115536"><span class="nick" style="color:#6d2462"><a href="#115536" label="[11:55:36]">&lt;fossy&gt;</a></span><span class="message">same though</span></div><div class="line" id="115745"><span class="nick" style="color:#2e2a4a"><a href="#115745" label="[11:57:45]">&lt;stikonas&gt;</a></span><span class="message">fossy: where do you want to store tarballs? For now I download them with wget into tarballs folder</span></div><div class="line" id="115801"><span class="nick" style="color:#2e2a4a"><a href="#115801" label="[11:58:01]">&lt;stikonas&gt;</a></span><span class="message">and I guess we don't need to commit them into repo</span></div><div class="line" id="115810"><span class="nick" style="color:#2e2a4a"><a href="#115810" label="[11:58:10]">&lt;stikonas&gt;</a></span><span class="message">to avoid blowing repo size</span></div><div class="line" id="120355"><span class="nick" style="color:#6d2462"><a href="#120355" label="[12:03:55]">&lt;fossy&gt;</a></span><span class="message">stikonas: probably git lfs</span></div><div class="line" id="120501"><span class="nick" style="color:#2e2a4a"><a href="#120501" label="[12:05:01]">&lt;stikonas&gt;</a></span><span class="message">argh, sed.c failed to compiled inside qemu :(</span></div><div class="line" id="120507"><span class="nick" style="color:#2e2a4a"><a href="#120507" label="[12:05:07]">&lt;stikonas&gt;</a></span><span class="message">need to investigate</span></div><div class="line" id="125758"><span class="nick" style="color:#80b1d3"><a href="#125758" label="[12:57:58]">&lt;OriansJ&gt;</a></span><span class="message">siraben: the problem is CONSTANT CELL_SIZE needs to be moved below #define CELL_SIZE as it appears the M2-Planet built M2-Planet isn't doing the correct thing for some reason that Ineed to figure out. The timeout shouldn't need to be increased</span></div><div class="line" id="130355"><span class="nick" style="color:#80b1d3"><a href="#130355" label="[13:03:55]">&lt;OriansJ&gt;</a></span><span class="message">but I'll verify the work around for blynn-compiler first and then try to figure it out.</span></div><div class="line" id="130550"><span class="nick" style="color:#bc80bd"><a href="#130550" label="[13:05:50]">&lt;siraben&gt;</a></span><span class="message">OriansJ: Thanks, then i'll update the PR accordingly</span></div><div class="line" id="131103"><span class="nick" style="color:#80b1d3"><a href="#131103" label="[13:11:03]">&lt;OriansJ&gt;</a></span><span class="message">gforce_d11977: hex0 in shell would be:  sed 's/[;#].*$//g' $input_file | xxd -r -p &gt; $output_file</span></div><div class="line" id="131759"><span class="nick" style="color:#80b1d3"><a href="#131759" label="[13:17:59]">&lt;OriansJ&gt;</a></span><span class="message">although siraben if it looks like an M2-Planet regression you might want to use mescc-tools-seed commit 0e6d8d6d3f261b550af1768b767f66b30fd07854 as it has the fixes janneke needed and was working last week</span></div><div class="line" id="132827"><span class="nick" style="color:#80b1d3"><a href="#132827" label="[13:28:27]">&lt;OriansJ&gt;</a></span><span class="message">Why is it my luck every time I start working on macros does everything always sideways?</span></div><div class="line" id="132855"><span class="nick" style="color:#80b1d3"><a href="#132855" label="[13:28:55]">&lt;OriansJ&gt;</a></span><span class="message">^always^always goes^</span></div><div class="line" id="133323"><span class="nick" style="color:#3c5b35"><a href="#133323" label="[13:33:23]">&lt;gforce_d11977&gt;</a></span><span class="message">OriansJ: i will add this as a hint, but will do not want to use 'sed' or 'xxd' in the early stages (no external commands, only shell builtins)</span></div><div class="line" id="133349"><span class="nick" style="color:#80b1d3"><a href="#133349" label="[13:33:49]">&lt;OriansJ&gt;</a></span><span class="message">gforce_d11977: fair</span></div><div class="line" id="133623"><span class="nick" style="color:#80b1d3"><a href="#133623" label="[13:36:23]">&lt;OriansJ&gt;</a></span><span class="message">haven't heard from markjenkinsznc in a bit; hope he had a good holiday</span></div><div class="line" id="134426"><span class="nick" style="color:#3c5b35"><a href="#134426" label="[13:44:26]">&lt;gforce_d11977&gt;</a></span><span class="message">OriansJ: <a rel="nofollow" href="https://github.com/bittorf/GNU-mes-documentation-attempt/commit/95947c56a4fa1387edb8f0166e7cd76bee1a0bd2">https://github.com/bittorf/GNU-mes-documentation-attempt/commit/95947c56a4fa1387edb8f0166e7cd76bee1a0bd2</a> </span></div><div class="line" id="134457"><span class="nick" style="color:#3c5b35"><a href="#134457" label="[13:44:57]">&lt;gforce_d11977&gt;</a></span><span class="message">OriansJ: but now i have to do some real work 8-) see you later guys</span></div><div class="line" id="135558"><span class="nick" style="color:#6b8072"><a href="#135558" label="[13:55:58]">&lt;yt_&gt;</a></span><span class="message">OriansJ: the CELL_SIZE problem sounds like something I caused :-(</span></div><div class="line" id="135741"><span class="nick" style="color:#80b1d3"><a href="#135741" label="[13:57:41]">&lt;OriansJ&gt;</a></span><span class="message">yt_: honestly I am starting to think the word macro is cursed; because everytime it shows up in my projects, things always go sideways for reasons I can't explain</span></div><div class="line" id="135928"><span class="nick" style="color:#6b8072"><a href="#135928" label="[13:59:28]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I like to think it's a reason we can't explain *yet*</span></div><div class="line" id="140114"><span class="nick" style="color:#80b1d3"><a href="#140114" label="[14:01:14]">&lt;OriansJ&gt;</a></span><span class="message">FORTH -&gt; works fine; adds FORTH macros -&gt; nothing works right. mes-m2 -&gt;works fine; adds basic define macros -&gt; everything is &gt;.&lt;; M2-Planet -&gt; works fine; adds basic C macros -&gt; everything breaks</span></div><div class="line" id="140247"><span class="nick" style="color:#80b1d3"><a href="#140247" label="[14:02:47]">&lt;OriansJ&gt;</a></span><span class="message">I'm honestly tempted to break your macro work into a seperate program call it M2-Saturn or something</span></div><div class="line" id="140359"><span class="nick" style="color:#80b1d3"><a href="#140359" label="[14:03:59]">&lt;OriansJ&gt;</a></span><span class="message">With the goal of making it a standalone C preprocessor capable of being leveraged by anyone who doesn't want to have to deal with C macros in their C compiler</span></div><div class="line" id="140553"><span class="nick" style="color:#6b8072"><a href="#140553" label="[14:05:53]">&lt;yt_&gt;</a></span><span class="message">OriansJ: that's fair enough.  I thought I could get away with not rebuilding the lexer, which is why I made it part of M2-Planet</span></div><div class="line" id="140632"><span class="nick" style="color:#80b1d3"><a href="#140632" label="[14:06:32]">&lt;OriansJ&gt;</a></span><span class="message">plus it'll give much more freedom to make changes without worrying about impact on M2-planet</span></div><div class="line" id="140801"><span class="nick" style="color:#3c5b35"><a href="#140801" label="[14:08:01]">&lt;gforce_d11977&gt;</a></span><span class="message">i have an interesting crash running mes-m2 (see vid at the very end: <a rel="nofollow" href="https://asciinema.org/a/ic9BCv49f5z9wegrVQ0CLZ1IF">https://asciinema.org/a/ic9BCv49f5z9wegrVQ0CLZ1IF</a>) </span></div><div class="line" id="140858"><span class="nick" style="color:#389600"><a href="#140858" label="[14:08:58]">&lt;xentrac&gt;</a></span><span class="message">well, yes, macro systems are difficult to get right</span></div><div class="line" id="140943"><span class="nick" style="color:#389600"><a href="#140943" label="[14:09:43]">&lt;xentrac&gt;</a></span><span class="message">macro systems are programming on nightmare mode ;)</span></div><div class="line" id="141050"><span class="nick" style="color:#bc80bd"><a href="#141050" label="[14:10:50]">&lt;siraben&gt;</a></span><span class="message">OriansJ: macros can be hard to get right, it's really substitution like in lambda calculus but finnicky</span></div><div class="line" id="141112"><span class="nick" style="color:#bc80bd"><a href="#141112" label="[14:11:12]">&lt;siraben&gt;</a></span><span class="message">having a separate macro expander would be great</span></div><div class="line" id="141805"><span class="nick" style="color:#80b1d3"><a href="#141805" label="[14:18:05]">&lt;OriansJ&gt;</a></span><span class="message">M2-Mesoplanet</span></div><div class="line" id="141838"><span class="nick" style="color:#3c5b35"><a href="#141838" label="[14:18:38]">&lt;gforce_d11977&gt;</a></span><span class="message">OriansJ: M2-Pluto 8-)))</span></div><div class="line" id="141850"><span class="nick" style="color:#80b1d3"><a href="#141850" label="[14:18:50]">&lt;OriansJ&gt;</a></span><span class="message">Macro Expander Saving Our m2-PLANET</span></div><div class="line" id="141911"><span class="nick" style="color:#3c5b35"><a href="#141911" label="[14:19:11]">&lt;gforce_d11977&gt;</a></span><span class="message">OriansJ: go for it!</span></div><div class="line" id="142118"><span class="nick" style="color:#80b1d3"><a href="#142118" label="[14:21:18]">&lt;OriansJ&gt;</a></span><span class="message">yt you'll get full push access to it as it is your baby</span></div><div class="line" id="142207"><span class="nick" style="color:#80b1d3"><a href="#142207" label="[14:22:07]">&lt;OriansJ&gt;</a></span><span class="message">invite sent</span></div><div class="line" id="142438"><span class="nick" style="color:#6b8072"><a href="#142438" label="[14:24:38]">&lt;yt_&gt;</a></span><span class="message">OriansJ: thanks. the usual delay before I can contribute to the new repository applies, I'm afraid</span></div><div class="line" id="142510"><span class="nick" style="color:#389600"><a href="#142510" label="[14:25:10]">&lt;xentrac&gt;</a></span><span class="message">siraben: how many years did it take to get a correct explanation of when you need α-renaming to correctly do β-reduction?</span></div><div class="line" id="142555"><span class="nick" style="color:#389600"><a href="#142555" label="[14:25:55]">&lt;xentrac&gt;</a></span><span class="message">I have this crazy idea that it was like 15 years or something!</span></div><div class="line" id="142557"><span class="nick" style="color:#6b8072"><a href="#142557" label="[14:25:57]">&lt;yt_&gt;</a></span><span class="message">OriansJ: would it be possible to bump M2-Planet in mescc-tools-seed just one commit further?  I'm worried we've landed on a commit where --bootstrap-mode is known to be broken</span></div><div class="line" id="142615"><span class="nick" style="color:#bc80bd"><a href="#142615" label="[14:26:15]">&lt;siraben&gt;</a></span><span class="message">xentrac: I don't do α-renaming when I implement lambda-calculus, usually I create closures or convert to de Bruijn indices</span></div><div class="line" id="142651"><span class="nick" style="color:#bc80bd"><a href="#142651" label="[14:26:51]">&lt;siraben&gt;</a></span><span class="message">Hmm, I forget when I actually understood that but Types and Programming Languages explains it clearly.</span></div><div class="line" id="142701"><span class="nick" style="color:#80b1d3"><a href="#142701" label="[14:27:01]">&lt;OriansJ&gt;</a></span><span class="message">yt_: you mean 2af46c1?</span></div><div class="line" id="142856"><span class="nick" style="color:#6b8072"><a href="#142856" label="[14:28:56]">&lt;yt_&gt;</a></span><span class="message">a8551f2f in M2-Planet, I think</span></div><div class="line" id="143033"><span class="nick" style="color:#389600"><a href="#143033" label="[14:30:33]">&lt;xentrac&gt;</a></span><span class="message">sure, but historically de Bruijn indices came even later than correct α-renaming, didn't they?</span></div><div class="line" id="143115"><span class="nick" style="color:#6b8072"><a href="#143115" label="[14:31:15]">&lt;yt_&gt;</a></span><span class="message">(as in, a8551f2f makes --bootstrap-mode sane again in the presence of #define and // lines)</span></div><div class="line" id="143120"><span class="nick" style="color:#80b1d3"><a href="#143120" label="[14:31:20]">&lt;OriansJ&gt;</a></span><span class="message">yt_: that would be one commit back</span></div><div class="line" id="143137"><span class="nick" style="color:#389600"><a href="#143137" label="[14:31:37]">&lt;xentrac&gt;</a></span><span class="message">(you can reasonably think of creating closures as a form of α-renaming; it's just that the thing you're renaming *to* isn't made of text)</span></div><div class="line" id="143137"><span class="nick" style="color:#af8d2f"><a href="#143137" label="[14:31:37]">&lt;rain1&gt;</a></span><span class="message">yes</span></div><div class="line" id="143147"><span class="nick" style="color:#80b1d3"><a href="#143147" label="[14:31:47]">&lt;OriansJ&gt;</a></span><span class="message">mescc-tools-seed is on 09acd62</span></div><div class="line" id="143201"><span class="nick" style="color:#af8d2f"><a href="#143201" label="[14:32:01]">&lt;rain1&gt;</a></span><span class="message">and barendrecht convention of making every name completely unique</span></div><div class="line" id="143321"><span class="nick" style="color:#af8d2f"><a href="#143321" label="[14:33:21]">&lt;rain1&gt;</a></span><span class="message">and there is the higher order approach where you just make the hard parts someone elses problem</span></div><div class="line" id="143446"><span class="nick" style="color:#6b8072"><a href="#143446" label="[14:34:46]">&lt;yt_&gt;</a></span><span class="message">OriansJ: master in M2-Planet is 09acd62 yes.  the submodule hash in mescc-tools-seed for M2-Planet seems to be 6f2cebc which is one commit behind a8551f2</span></div><div class="line" id="143623"><span class="nick" style="color:#80b1d3"><a href="#143623" label="[14:36:23]">&lt;OriansJ&gt;</a></span><span class="message">yt_: I'll give it a whack</span></div><div class="line" id="143646"><span class="nick" style="color:#6b8072"><a href="#143646" label="[14:36:46]">&lt;yt_&gt;</a></span><span class="message">OriansJ: thanks!</span></div><div class="line" id="144231"><span class="nick" style="color:#80b1d3"><a href="#144231" label="[14:42:31]">&lt;OriansJ&gt;</a></span><span class="message">looks like I have to do a minor mes-m2 revert but oh well</span></div><div class="line" id="144242"><span class="nick" style="color:#bc80bd"><a href="#144242" label="[14:42:42]">&lt;siraben&gt;</a></span><span class="message">rain1: xentrac: you may be interested in how blynn-compiler works, it's through a semantic translation of lambda calculus described by Oleg Kiselyov in 2019</span></div><div class="line" id="144311"><span class="nick" style="color:#bc80bd"><a href="#144311" label="[14:43:11]">&lt;siraben&gt;</a></span><span class="message">Actually quite efficient, Ben Lynn did a benchmark and his compiler produced programs that outperformed Miranda's (an older dialect of Haskell)</span></div><div class="line" id="144328"><span class="nick" style="color:#bc80bd"><a href="#144328" label="[14:43:28]">&lt;siraben&gt;</a></span><span class="message">They both compile to combinators, but Miranda's translation is more inefficient</span></div><div class="line" id="144359"><span class="nick" style="color:#bc80bd"><a href="#144359" label="[14:43:59]">&lt;siraben&gt;</a></span><span class="message">Paper: <a rel="nofollow" href="https://okmij.org/ftp/tagless-final/ski.pdf">https://okmij.org/ftp/tagless-final/ski.pdf</a> </span></div><div class="line" id="144407"><span class="nick" style="color:#389600"><a href="#144407" label="[14:44:07]">&lt;xentrac&gt;</a></span><span class="message">I don't think it's accurate to describe Miranda as an older dialect of Haskell</span></div><div class="line" id="144419"><span class="nick" style="color:#389600"><a href="#144419" label="[14:44:19]">&lt;xentrac&gt;</a></span><span class="message">it's sort of like describing the λ-calculus as an older dialect of Miranda</span></div><div class="line" id="144433"><span class="nick" style="color:#bc80bd"><a href="#144433" label="[14:44:33]">&lt;siraben&gt;</a></span><span class="message">Oops yeah, predecessor</span></div><div class="line" id="144525"><span class="nick" style="color:#389600"><a href="#144525" label="[14:45:25]">&lt;xentrac&gt;</a></span><span class="message">Oleg's server is ECONNREFUSED, but is this the spineless tagless paper?</span></div><div class="line" id="144544"><span class="nick" style="color:#389600"><a href="#144544" label="[14:45:44]">&lt;xentrac&gt;</a></span><span class="message">no, you said 2019</span></div><div class="line" id="144712"><span class="nick" style="color:#389600"><a href="#144712" label="[14:47:12]">&lt;xentrac&gt;</a></span><span class="message">got it from <a rel="nofollow" href="https://web.archive.org/web/20201023204623/https://okmij.org/ftp/tagless-final/ski.pdf">https://web.archive.org/web/20201023204623/https://okmij.org/ftp/tagless-final/ski.pdf</a> </span></div><div class="line" id="144831"><span class="nick" style="color:#389600"><a href="#144831" label="[14:48:31]">&lt;xentrac&gt;</a></span><span class="message">this is lovely, thanks :)</span></div><div class="line" id="144914"><span class="nick" style="color:#389600"><a href="#144914" label="[14:49:14]">&lt;xentrac&gt;</a></span><span class="message">I've done compiling to SKI-combinators myself when I was reading Peyton Jones's book</span></div><div class="line" id="145011"><span class="nick" style="color:#389600"><a href="#145011" label="[14:50:11]">&lt;xentrac&gt;</a></span><span class="message"> <a rel="nofollow" href="http://canonical.org/~kragen/sw/sk.html">http://canonical.org/~kragen/sw/sk.html</a> </span></div><div class="line" id="145125"><span class="nick" style="color:#80b1d3"><a href="#145125" label="[14:51:25]">&lt;OriansJ&gt;</a></span><span class="message">yt_: commit is up; please double check and fix the AArch64 please</span></div><div class="line" id="145151"><span class="nick" style="color:#80b1d3"><a href="#145151" label="[14:51:51]">&lt;OriansJ&gt;</a></span><span class="message">siraben: Hopefully this gets things working for you (Sorry for the breakage)</span></div><div class="line" id="145359"><span class="nick" style="color:#389600"><a href="#145359" label="[14:53:59]">&lt;xentrac&gt;</a></span><span class="message">I think I need to sleep before I can understand this paper.  Oleg is a high-information-content guy even when I'm at my best</span></div><div class="line" id="150122"><span class="nick" style="color:#6b8072"><a href="#150122" label="[15:01:22]">&lt;yt_&gt;</a></span><span class="message">OriansJ: bootstraps fine on AArch64, I'll have the changes up in a second</span></div><div class="line" id="150254"><span class="nick" style="color:#6b8072"><a href="#150254" label="[15:02:54]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I guess now mes-m2 has to switch to non-bootstrap mode to get rid of the hack</span></div><div class="line" id="151031"><span class="nick" style="color:#80b1d3"><a href="#151031" label="[15:10:31]">&lt;OriansJ&gt;</a></span><span class="message">yt_: the hack involves // /* and // */ to hide a #if block from M2-Planet</span></div><div class="line" id="151227"><span class="nick" style="color:#6b8072"><a href="#151227" label="[15:12:27]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I mean, if you use M2-Planet in non-bootstrap mode now, #if __MESC__ works without the hack</span></div><div class="line" id="151411"><span class="nick" style="color:#80b1d3"><a href="#151411" label="[15:14:11]">&lt;OriansJ&gt;</a></span><span class="message">yt_: that is correct; but until M2libc is done and able to provide a proper FILE type; --bootstrap-mode is kinda stuck on for mes-m2</span></div><div class="line" id="151616"><span class="nick" style="color:#6b8072"><a href="#151616" label="[15:16:16]">&lt;yt_&gt;</a></span><span class="message">OriansJ: that makes sense</span></div><div class="line" id="151651"><span class="nick" style="color:#80b1d3"><a href="#151651" label="[15:16:51]">&lt;OriansJ&gt;</a></span><span class="message">Just alot of balls in the air right now</span></div><div class="line" id="153540"><span class="nick" style="color:#80b1d3"><a href="#153540" label="[15:35:40]">&lt;OriansJ&gt;</a></span><span class="message">and I got it into a sorta working state <a rel="nofollow" href="https://github.com/oriansj/M2-Mesoplanet">https://github.com/oriansj/M2-Mesoplanet</a>  (still have a bit to strip out)</span></div><div class="line" id="153630"><span class="nick" style="color:#8dd3c7"><a href="#153630" label="[15:36:30]">&lt;deesix&gt;</a></span><span class="message">It seems to me that the --bootstrap-mode thing is starting to be used for too many things and meaning nothing (as in it means too many things). I though it was just for M2-Planet test1000...</span></div><div class="line" id="153751"><span class="nick" style="color:#80b1d3"><a href="#153751" label="[15:37:51]">&lt;OriansJ&gt;</a></span><span class="message">deesix: well that is entirely my fault</span></div><div class="line" id="153811"><span class="nick" style="color:#80b1d3"><a href="#153811" label="[15:38:11]">&lt;OriansJ&gt;</a></span><span class="message">we wouldn't need it for anything but test1000 if I had M2libc operational</span></div><div class="line" id="153954"><span class="nick" style="color:#80b1d3"><a href="#153954" label="[15:39:54]">&lt;OriansJ&gt;</a></span><span class="message">I just haven't taken the time to work on M2libc in a couple days and am just falling behind on getting it up to speed</span></div><div class="line" id="154213"><span class="nick" style="color:#80b1d3"><a href="#154213" label="[15:42:13]">&lt;OriansJ&gt;</a></span><span class="message">once I get yt's mescc-tools-seed updates for AArch64; that will be off my plate for a couple days. I'll just backburner mes-m2 being broken for a little bit and try to get M2libc &quot;done enough&quot;</span></div><div class="line" id="154216"><span class="nick" style="color:#8dd3c7"><a href="#154216" label="[15:42:16]">&lt;deesix&gt;</a></span><span class="message">One step at a time, too many balls in the air indeed.</span></div><div class="line" id="154338"><span class="nick" style="color:#80b1d3"><a href="#154338" label="[15:43:38]">&lt;OriansJ&gt;</a></span><span class="message">well writing a scheme, A C compiler, a C library, supporting all of their bootstraps and raising a child has never been considered easy work.</span></div><div class="line" id="154414"><span class="nick" style="color:#80b1d3"><a href="#154414" label="[15:44:14]">&lt;OriansJ&gt;</a></span><span class="message">oh and a Haskell compiler</span></div><div class="line" id="154421"><span class="nick" style="color:#80b1d3"><a href="#154421" label="[15:44:21]">&lt;OriansJ&gt;</a></span><span class="message">and a shell</span></div><div class="line" id="154652"><span class="nick" style="color:#3c5b35"><a href="#154652" label="[15:46:52]">&lt;gforce_d11977&gt;</a></span><span class="message">OriansJ: raising a child alone is hard enough 8-)</span></div><div class="line" id="154929"><span class="nick" style="color:#80b1d3"><a href="#154929" label="[15:49:29]">&lt;OriansJ&gt;</a></span><span class="message">and he is a 10month old who is openning combination locks</span></div><div class="line" id="155024"><span class="nick" style="color:#6b8072"><a href="#155024" label="[15:50:24]">&lt;yt_&gt;</a></span><span class="message">OriansJ: AArch64 changes are up: <a rel="nofollow" href="https://github.com/oriansj/mescc-tools-seed/pull/24">https://github.com/oriansj/mescc-tools-seed/pull/24</a> </span></div><div class="line" id="155036"><span class="nick" style="color:#6b8072"><a href="#155036" label="[15:50:36]">&lt;yt_&gt;</a></span><span class="message">sorry for the delay, I kept distracting myself XD</span></div><div class="line" id="155205"><span class="nick" style="color:#80b1d3"><a href="#155205" label="[15:52:05]">&lt;OriansJ&gt;</a></span><span class="message">yt_: it is ok, my son is constantly pulling at my attention ^_^</span></div><div class="line" id="155255"><span class="nick" style="color:#80b1d3"><a href="#155255" label="[15:52:55]">&lt;OriansJ&gt;</a></span><span class="message">thank you yt_</span></div><div class="line" id="155357"><span class="nick" style="color:#6b8072"><a href="#155357" label="[15:53:57]">&lt;yt_&gt;</a></span><span class="message">OriansJ: no problem</span></div><div class="line" id="155553"><span class="nick" style="color:#6b8072"><a href="#155553" label="[15:55:53]">&lt;yt_&gt;</a></span><span class="message">OriansJ: so I'm trying to write a test which needs to compile in non-bootstrap mode, for the global array change. would it already make sense to add M2libc in its current form as a submodule of M2-Planet, so tests can start depending on it?</span></div><div class="line" id="155801"><span class="nick" style="color:#80b1d3"><a href="#155801" label="[15:58:01]">&lt;OriansJ&gt;</a></span><span class="message">yt_: well my goal is to get AMD64 and armv7l working today; then I can make it a submodule in M2-Planet and start migrating the tests over to it</span></div><div class="line" id="155837"><span class="nick" style="color:#80b1d3"><a href="#155837" label="[15:58:37]">&lt;OriansJ&gt;</a></span><span class="message">I was hoping you'd help get the AArch64 bit working and I'd deal with the knight bits later</span></div><div class="line" id="155847"><span class="nick" style="color:#6b8072"><a href="#155847" label="[15:58:47]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I can definitely help with moving tests over</span></div><div class="line" id="155922"><span class="nick" style="color:#80b1d3"><a href="#155922" label="[15:59:22]">&lt;OriansJ&gt;</a></span><span class="message">well we could just let AArch64 be broken in M2libc for a little bit I guess.</span></div><div class="line" id="160251"><span class="nick" style="color:#6b8072"><a href="#160251" label="[16:02:51]">&lt;yt_&gt;</a></span><span class="message">OriansJ: sure, I can carry fixes locally for a bit, then upstream them when I can</span></div><div class="line" id="160417"><span class="nick" style="color:#80b1d3"><a href="#160417" label="[16:04:17]">&lt;OriansJ&gt;</a></span><span class="message">yt_: ok I've pushed M2libc as a submodule to M2-Planet with x86 &quot;working&quot;</span></div><div class="line" id="160506"><span class="nick" style="color:#80b1d3"><a href="#160506" label="[16:05:06]">&lt;OriansJ&gt;</a></span><span class="message">You can update the x86 tests to no longer need --bootstrap-mode (except test1000 which will need it)</span></div><div class="line" id="160526"><span class="nick" style="color:#80b1d3"><a href="#160526" label="[16:05:26]">&lt;OriansJ&gt;</a></span><span class="message">while I work on getting AMD64 working, then armv7l</span></div><div class="line" id="164211"><span class="nick" style="color:#80b1d3"><a href="#164211" label="[16:42:11]">&lt;OriansJ&gt;</a></span><span class="message">oh yt_ you might need to know: M2-Planet --architecture amd64 -f /Linux/unistd.h -f stdlib.c -f x86/Linux/fcntl.h -f stdio.c -f foo.c -o foo.M1 --debug &amp;&amp; blood-elf -f foo.M1 -o foo-footer.M1 &amp;&amp; M1 --architecture x86 --little-endian -f x86/x86_defs.M1 -f x86/libc-full.M1 -f foo.M1 -f foo-footer.M1 -o foo.hex2 &amp;&amp; hex2 --architecture x86 --little-endian --base-address 0x10000 -f x86/ELF-i386-debug.hex2 -f foo.hex2 -o foo</span></div><div class="line" id="164243"><span class="nick" style="color:#80b1d3"><a href="#164243" label="[16:42:43]">&lt;OriansJ&gt;</a></span><span class="message">the important changed bit is  x86/libc-full.M1</span></div><div class="line" id="164411"><span class="nick" style="color:#6b8072"><a href="#164411" label="[16:44:11]">&lt;yt_&gt;</a></span><span class="message">OriansJ: thanks, I'm starting with the simpler tests first, it'll be a while until I need libc-full.M1 I guess</span></div><div class="line" id="164428"><span class="nick" style="color:#2e2a4a"><a href="#164428" label="[16:44:28]">&lt;markjenkinsznc&gt;</a></span><span class="message">Thanks OriansJ, things haven't been going super, but maybe by Feb I'll be able to hobby code again</span></div><div class="line" id="164436"><span class="nick" style="color:#80b1d3"><a href="#164436" label="[16:44:36]">&lt;OriansJ&gt;</a></span><span class="message">which replaces libc-core.M1 for those tests that need to deal with STDIN, STDOUT, or STDERR (it just adds a single call to the C function __init_io</span></div><div class="line" id="164528"><span class="nick" style="color:#6b8072"><a href="#164528" label="[16:45:28]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I see, that makes sense</span></div><div class="line" id="164712"><span class="nick" style="color:#80b1d3"><a href="#164712" label="[16:47:12]">&lt;OriansJ&gt;</a></span><span class="message">markjenkinsznc: well we worry with COVID and all going around. And I hope things get better for you</span></div><div class="line" id="164905"><span class="nick" style="color:#80b1d3"><a href="#164905" label="[16:49:05]">&lt;OriansJ&gt;</a></span><span class="message">yt_: we can pull libc-full.M1 when I figure out how to add initialized structs to M2-Planet to remove the need for that function</span></div><div class="line" id="164949"><span class="nick" style="color:#2e2a4a"><a href="#164949" label="[16:49:49]">&lt;markjenkinsznc&gt;</a></span><span class="message">I'll waste no time when the province of Manitoba offers me Moderna or Pfizer's vaccine</span></div><div class="line" id="165036"><span class="nick" style="color:#2e2a4a"><a href="#165036" label="[16:50:36]">&lt;markjenkinsznc&gt;</a></span><span class="message">Waste no time thinking about them I mean</span></div><div class="line" id="165254"><span class="nick" style="color:#2e2a4a"><a href="#165254" label="[16:52:54]">&lt;markjenkinsznc&gt;</a></span><span class="message">Blessed to be working from home with a solid job during all this and living in a wealthy country that has contracts more more vaccines than people</span></div><div class="line" id="165256"><span class="nick" style="color:#80b1d3"><a href="#165256" label="[16:52:56]">&lt;OriansJ&gt;</a></span><span class="message">good. Lost 2 coworkers to COVID last year; don't want to lose any friends to it.</span></div><div class="line" id="165607"><span class="nick" style="color:#8dd3c7"><a href="#165607" label="[16:56:07]">&lt;deesix&gt;</a></span><span class="message">I guess the changes for the tests have to wait until the dust settles.</span></div><div class="line" id="165655"><span class="nick" style="color:#80b1d3"><a href="#165655" label="[16:56:55]">&lt;OriansJ&gt;</a></span><span class="message">deesix: see too many things going on at the same time</span></div><div class="line" id="165803"><span class="nick" style="color:#8dd3c7"><a href="#165803" label="[16:58:03]">&lt;deesix&gt;</a></span><span class="message">The sha thing ate my time yesterday, sadly without satisfying results. The unification would be helpful for the M2libc introduction.</span></div><div class="line" id="170526"><span class="nick" style="color:#6b8072"><a href="#170526" label="[17:05:26]">&lt;mihi&gt;</a></span><span class="message">congrats fossy et al. for live-bootstrap project. I ran commit 1ebbd69c79a4a6e4a156e3238ad80757ee0fa16c of it (in a chroot instead of a VM), and apart from /after/bin not being in $PATH it ran through and built everything. However, I'm unable to (inside chroot) compile a hello world with resulting tcc binary, complaining about undefined symbol '__fixdfdi'. Anything special I need to link or #define to make it work?</span></div><div class="line" id="170649"><span class="nick" style="color:#6b8072"><a href="#170649" label="[17:06:49]">&lt;mihi&gt;</a></span><span class="message">same result with compiling 'int main() {}'</span></div><div class="line" id="171127"><span class="nick" style="color:#af8d2f"><a href="#171127" label="[17:11:27]">&lt;rain1&gt;</a></span><span class="message">Cool to do the bootstrap inside qemu with minimal tools</span></div><div class="line" id="171502"><span class="nick" style="color:#6b8072"><a href="#171502" label="[17:15:02]">&lt;yt_&gt;</a></span><span class="message">deesix, OriansJ: if you want I can help review the parallelised tests changes</span></div><div class="line" id="171514"><span class="nick" style="color:#6b8072"><a href="#171514" label="[17:15:14]">&lt;yt_&gt;</a></span><span class="message">seeing I've got my hands dirty in updating tests anyway</span></div><div class="line" id="171708"><span class="nick" style="color:#3c5b35"><a href="#171708" label="[17:17:08]">&lt;gforce_d11977&gt;</a></span><span class="message">mihi: fossy: i still could not start a live-bootstrap - what are the indented commands to get it running? (after clone --recursive ...)</span></div><div class="line" id="171826"><span class="nick" style="color:#6b8072"><a href="#171826" label="[17:18:26]">&lt;yt_&gt;</a></span><span class="message">OriansJ: guess who just ran face first into the __init_io thing XD</span></div><div class="line" id="171901"><span class="nick" style="color:#80b1d3"><a href="#171901" label="[17:19:01]">&lt;OriansJ&gt;</a></span><span class="message">you did ^_^</span></div><div class="line" id="171908"><span class="nick" style="color:#6b8072"><a href="#171908" label="[17:19:08]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I did XD</span></div><div class="line" id="171952"><span class="nick" style="color:#6b8072"><a href="#171952" label="[17:19:52]">&lt;yt_&gt;</a></span><span class="message">OriansJ: but good new is, I've got M2-Planet test0008 passing with M2libc (and no --bootstrap-mode) on AArch64</span></div><div class="line" id="172014"><span class="nick" style="color:#80b1d3"><a href="#172014" label="[17:20:14]">&lt;OriansJ&gt;</a></span><span class="message">nice</span></div><div class="line" id="172026"><span class="nick" style="color:#6b8072"><a href="#172026" label="[17:20:26]">&lt;mihi&gt;</a></span><span class="message">gforce_d11977, In rootfs.sh I replaced the QEMU &quot;line&quot; by 'PATH=/after/bin:$PATH chroot . /init'</span></div><div class="line" id="172057"><span class="nick" style="color:#6b8072"><a href="#172057" label="[17:20:57]">&lt;mihi&gt;</a></span><span class="message">then I ran the thing and waited some time :)</span></div><div class="line" id="172101"><span class="nick" style="color:#80b1d3"><a href="#172101" label="[17:21:01]">&lt;OriansJ&gt;</a></span><span class="message">good because I just got AMD64 kinda operational</span></div><div class="line" id="172103"><span class="nick" style="color:#3c5b35"><a href="#172103" label="[17:21:03]">&lt;gforce_d11977&gt;</a></span><span class="message">mihi: ok, will try...</span></div><div class="line" id="172144"><span class="nick" style="color:#6b8072"><a href="#172144" label="[17:21:44]">&lt;mihi&gt;</a></span><span class="message">gforce_d11977, you may want to remove the umount too so that the results are not lost</span></div><div class="line" id="172245"><span class="nick" style="color:#80b1d3"><a href="#172245" label="[17:22:45]">&lt;OriansJ&gt;</a></span><span class="message">and when you are ready yt_ M2-Planet's submodule for M2libc has been updated for you when you are ready to do that work too.</span></div><div class="line" id="172255"><span class="nick" style="color:#80b1d3"><a href="#172255" label="[17:22:55]">&lt;OriansJ&gt;</a></span><span class="message">Now to get to work on armv7l</span></div><div class="line" id="172445"><span class="nick" style="color:#6b8072"><a href="#172445" label="[17:24:45]">&lt;yt_&gt;</a></span><span class="message">OriansJ: would you mind testing the x86/amd64 changes once I send the PR?  I can test on AArch64 and then make equivalent changes to the test files for x86 and AMD64, but there is always a chance I miss something</span></div><div class="line" id="172537"><span class="nick" style="color:#80b1d3"><a href="#172537" label="[17:25:37]">&lt;OriansJ&gt;</a></span><span class="message">siraben, pder: later today when M2-Planet tests have cleared out any major bugs in M2libc, I'll be able to remove the copy/paste libc-core.M1 and co from blynn-compiler and add M2libc as a submodule</span></div><div class="line" id="172558"><span class="nick" style="color:#6b8072"><a href="#172558" label="[17:25:58]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I mean, I can test that it all compiles, but I can't check that the resulting binary is working</span></div><div class="line" id="172608"><span class="nick" style="color:#80b1d3"><a href="#172608" label="[17:26:08]">&lt;OriansJ&gt;</a></span><span class="message">yt_: I always test before pushing</span></div><div class="line" id="172627"><span class="nick" style="color:#80b1d3"><a href="#172627" label="[17:26:27]">&lt;OriansJ&gt;</a></span><span class="message">So if there are problems I'll take a look</span></div><div class="line" id="172638"><span class="nick" style="color:#6b8072"><a href="#172638" label="[17:26:38]">&lt;yt_&gt;</a></span><span class="message">OriansJ: great, thanks</span></div><div class="line" id="172643"><span class="nick" style="color:#bc80bd"><a href="#172643" label="[17:26:43]">&lt;siraben&gt;</a></span><span class="message">OriansJ: sounds good to me, thanks</span></div><div class="line" id="172821"><span class="nick" style="color:#80b1d3"><a href="#172821" label="[17:28:21]">&lt;OriansJ&gt;</a></span><span class="message">hopefully we can clear out all problems I caused blynn-compiler today</span></div><div class="line" id="173216"><span class="nick" style="color:#8dd3c7"><a href="#173216" label="[17:32:16]">&lt;deesix&gt;</a></span><span class="message">yt_, thanks. The first draft was fine in x86 and AMD64 but we haven't testted it on AArch64. That's one thing you can check if you want, let me link it to you. But I think that, as a moving target as they're now... applying the changes would stress everyone's workflow.</span></div><div class="line" id="173304"><span class="nick" style="color:#80b1d3"><a href="#173304" label="[17:33:04]">&lt;OriansJ&gt;</a></span><span class="message">well right now I am here figuring out how to do armv7l right</span></div><div class="line" id="173837"><span class="nick" style="color:#d9d9d9"><a href="#173837" label="[17:38:37]">*</a></span><span class="message">yt_ hides, knows nothing about armv7l XD</span></div><div class="line" id="174923"><span class="nick" style="color:#389600"><a href="#174923" label="[17:49:23]">&lt;ullbeking&gt;</a></span><span class="message">good evening all</span></div><div class="line" id="174928"><span class="nick" style="color:#389600"><a href="#174928" label="[17:49:28]">&lt;ullbeking&gt;</a></span><span class="message">just popping in to say hi</span></div><div class="line" id="174937"><span class="nick" style="color:#389600"><a href="#174937" label="[17:49:37]">&lt;ullbeking&gt;</a></span><span class="message">then i'm off to play with my daughter</span></div><div class="line" id="175050"><span class="nick" style="color:#8dd3c7"><a href="#175050" label="[17:50:50]">&lt;deesix&gt;</a></span><span class="message">o/</span></div><div class="line" id="175055"><span class="nick" style="color:#80b1d3"><a href="#175055" label="[17:50:55]">&lt;OriansJ&gt;</a></span><span class="message">yt_: well I just need to do a little testing on my armv7l system and we should be off and to the races</span></div><div class="line" id="175236"><span class="nick" style="color:#6b8072"><a href="#175236" label="[17:52:36]">&lt;yt_&gt;</a></span><span class="message">OriansJ: awesome!  I've got the first few changes to the M2-Planet tests up <a rel="nofollow" href="https://github.com/oriansj/M2-Planet/pull/13">https://github.com/oriansj/M2-Planet/pull/13</a> </span></div><div class="line" id="175306"><span class="nick" style="color:#6b8072"><a href="#175306" label="[17:53:06]">&lt;yt_&gt;</a></span><span class="message">I've left out the updates to test0008/hello-aarch64.sh because they need the missing pieces in AArch64 M2libc</span></div><div class="line" id="175427"><span class="nick" style="color:#80b1d3"><a href="#175427" label="[17:54:27]">&lt;OriansJ&gt;</a></span><span class="message">yt_: I'll try to figure those pieces out</span></div><div class="line" id="175504"><span class="nick" style="color:#80b1d3"><a href="#175504" label="[17:55:04]">&lt;OriansJ&gt;</a></span><span class="message">ooh that is not good</span></div><div class="line" id="175520"><span class="nick" style="color:#80b1d3"><a href="#175520" label="[17:55:20]">&lt;OriansJ&gt;</a></span><span class="message">test/test0008/hello-amd64.sh segment fault</span></div><div class="line" id="175606"><span class="nick" style="color:#6b8072"><a href="#175606" label="[17:56:06]">&lt;yt_&gt;</a></span><span class="message">OriansJ: oh! I forgot to do libc-core -&gt; libc-full for amd64</span></div><div class="line" id="175714"><span class="nick" style="color:#80b1d3"><a href="#175714" label="[17:57:14]">&lt;OriansJ&gt;</a></span><span class="message">feel free to fix it up</span></div><div class="line" id="175755"><span class="nick" style="color:#6b8072"><a href="#175755" label="[17:57:55]">&lt;yt_&gt;</a></span><span class="message">OriansJ: on it</span></div><div class="line" id="175801"><span class="nick" style="color:#80b1d3"><a href="#175801" label="[17:58:01]">&lt;OriansJ&gt;</a></span><span class="message">I can do git reset HEAD~1 and remerge</span></div><div class="line" id="180127"><span class="nick" style="color:#6b8072"><a href="#180127" label="[18:01:27]">&lt;yt_&gt;</a></span><span class="message">OriansJ: should be fixed now</span></div><div class="line" id="180521"><span class="nick" style="color:#80b1d3"><a href="#180521" label="[18:05:21]">&lt;OriansJ&gt;</a></span><span class="message">in the middle of getting AArch64 probably working (can't actually test  so just being careful)</span></div><div class="line" id="180545"><span class="nick" style="color:#bc80bd"><a href="#180545" label="[18:05:45]">&lt;siraben&gt;</a></span><span class="message">Maybe this is how we bootstrap Rust <a rel="nofollow" href="https://github.com/Rust-GCC/gccrs">https://github.com/Rust-GCC/gccrs</a> </span></div><div class="line" id="180547"><span class="nick" style="color:#bc80bd"><a href="#180547" label="[18:05:47]">&lt;siraben&gt;</a></span><span class="message">GCC → rustc directly</span></div><div class="line" id="180916"><span class="nick" style="color:#af8d2f"><a href="#180916" label="[18:09:16]">&lt;rain1&gt;</a></span><span class="message">woah</span></div><div class="line" id="180929"><span class="nick" style="color:#80b1d3"><a href="#180929" label="[18:09:29]">&lt;qyliss&gt;</a></span><span class="message">wow</span></div><div class="line" id="180933"><span class="nick" style="color:#80b1d3"><a href="#180933" label="[18:09:33]">&lt;qyliss&gt;</a></span><span class="message">I wonder what stage it's at</span></div><div class="line" id="180938"><span class="nick" style="color:#af8d2f"><a href="#180938" label="[18:09:38]">&lt;rain1&gt;</a></span><span class="message">that other rust bootstrap just got ditched</span></div><div class="line" id="180949"><span class="nick" style="color:#af8d2f"><a href="#180949" label="[18:09:49]">&lt;rain1&gt;</a></span><span class="message">mrustc</span></div><div class="line" id="181116"><span class="nick" style="color:#80b1d3"><a href="#181116" label="[18:11:16]">&lt;qyliss&gt;</a></span><span class="message">ditched by whom?</span></div><div class="line" id="181234"><span class="nick" style="color:#af8d2f"><a href="#181234" label="[18:12:34]">&lt;rain1&gt;</a></span><span class="message">ah i misread, i thought guix switched to using that</span></div><div class="line" id="181413"><span class="nick" style="color:#6d2462"><a href="#181413" label="[18:14:13]">&lt;civodul&gt;</a></span><span class="message">Guix uses mrustc indeed: <a rel="nofollow" href="https://guix.gnu.org/en/blog/2018/bootstrapping-rust/">https://guix.gnu.org/en/blog/2018/bootstrapping-rust/</a> </span></div><div class="line" id="181424"><span class="nick" style="color:#6d2462"><a href="#181424" label="[18:14:24]">&lt;civodul&gt;</a></span><span class="message">using GCC would be sweet</span></div><div class="line" id="181520"><span class="nick" style="color:#80b1d3"><a href="#181520" label="[18:15:20]">&lt;OriansJ&gt;</a></span><span class="message">assuming it can be bootstrapped not depending on Rust</span></div><div class="line" id="181711"><span class="nick" style="color:#80b1d3"><a href="#181711" label="[18:17:11]">&lt;OriansJ&gt;</a></span><span class="message">yt_: test passes great now</span></div><div class="line" id="181806"><span class="nick" style="color:#80b1d3"><a href="#181806" label="[18:18:06]">&lt;OriansJ&gt;</a></span><span class="message">I've updated M2libc with a blind AArch64 version of write and read, and had M2-Planet update that submodule. could you please test to see how badly I screwed up?</span></div><div class="line" id="181810"><span class="nick" style="color:#3c5b35"><a href="#181810" label="[18:18:10]">&lt;gforce_d11977&gt;</a></span><span class="message">mihi: fossy: running live-bootstrap in a chroot @0ee601747109de3f310876b6d856a199fb85b4d8 worked here also including tcc... (around 45 minutes here)</span></div><div class="line" id="182335"><span class="nick" style="color:#2e2a4a"><a href="#182335" label="[18:23:35]">&lt;stikonas&gt;</a></span><span class="message">live-bootstrap in chroot always fails for me...</span></div><div class="line" id="182346"><span class="nick" style="color:#2e2a4a"><a href="#182346" label="[18:23:46]">&lt;stikonas&gt;</a></span><span class="message">somehow things like cp are not found in PATH...</span></div><div class="line" id="182402"><span class="nick" style="color:#2e2a4a"><a href="#182402" label="[18:24:02]">&lt;stikonas&gt;</a></span><span class="message">also chmod is missing, so somehow it's ignored when in qemu</span></div><div class="line" id="182538"><span class="nick" style="color:#80b1d3"><a href="#182538" label="[18:25:38]">&lt;OriansJ&gt;</a></span><span class="message">yt_: so did I screw up AArch64's read and write too badly?</span></div><div class="line" id="182612"><span class="nick" style="color:#6b8072"><a href="#182612" label="[18:26:12]">&lt;yt_&gt;</a></span><span class="message">OriansJ: sorry, was afk. will have a look now</span></div><div class="line" id="182819"><span class="nick" style="color:#2e2a4a"><a href="#182819" label="[18:28:19]">&lt;stikonas&gt;</a></span><span class="message">rain1: siraben: I also used mrustc to bootstrap rust...</span></div><div class="line" id="182824"><span class="nick" style="color:#2e2a4a"><a href="#182824" label="[18:28:24]">&lt;stikonas&gt;</a></span><span class="message">I have Gentoo overlay for that...</span></div><div class="line" id="182842"><span class="nick" style="color:#2e2a4a"><a href="#182842" label="[18:28:42]">&lt;stikonas&gt;</a></span><span class="message">it works, but if of course slow...</span></div><div class="line" id="182853"><span class="nick" style="color:#80b1d3"><a href="#182853" label="[18:28:53]">&lt;OriansJ&gt;</a></span><span class="message">yt_: Thank you</span></div><div class="line" id="182951"><span class="nick" style="color:#6b8072"><a href="#182951" label="[18:29:51]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I believe AArch64 is still missing a libc-full.M1</span></div><div class="line" id="183024"><span class="nick" style="color:#80b1d3"><a href="#183024" label="[18:30:24]">&lt;OriansJ&gt;</a></span><span class="message">knew I was forgetting something</span></div><div class="line" id="183024"><span class="nick" style="color:#6b8072"><a href="#183024" label="[18:30:24]">&lt;yt_&gt;</a></span><span class="message">let me push my test0008 changes for AArch64 so you can see if it compiles at least</span></div><div class="line" id="183111"><span class="nick" style="color:#80b1d3"><a href="#183111" label="[18:31:11]">&lt;OriansJ&gt;</a></span><span class="message">I am currently trying to fix fgets because clearly I did something wrong</span></div><div class="line" id="183113"><span class="nick" style="color:#bc80bd"><a href="#183113" label="[18:31:13]">&lt;siraben&gt;</a></span><span class="message">stikonas: Oh, that's great!</span></div><div class="line" id="183207"><span class="nick" style="color:#2e2a4a"><a href="#183207" label="[18:32:07]">&lt;stikonas&gt;</a></span><span class="message">siraben: there are some problems outside guix though. mrustc-&gt;1.19 is hard on modern systems (except for guix), mrustc-&gt;1.29 worked for me on amd64 but not on arm64 (so on arm64 I just cross-compiled)</span></div><div class="line" id="183236"><span class="nick" style="color:#2e2a4a"><a href="#183236" label="[18:32:36]">&lt;stikonas&gt;</a></span><span class="message">(1.19 needs old openssl)</span></div><div class="line" id="183705"><span class="nick" style="color:#6b8072"><a href="#183705" label="[18:37:05]">&lt;yt_&gt;</a></span><span class="message">OriansJ: AArch64 test update is here: <a rel="nofollow" href="https://github.com/snnw/M2-Planet/commit/81ea5bc9c89bcf3faf4aa9a7627ce72889d517e1">https://github.com/snnw/M2-Planet/commit/81ea5bc9c89bcf3faf4aa9a7627ce72889d517e1</a> </span></div><div class="line" id="184116"><span class="nick" style="color:#80b1d3"><a href="#184116" label="[18:41:16]">&lt;OriansJ&gt;</a></span><span class="message">yt_: I made a stabing guess at what libc-full.M1 for AArch64 needs (probably wrong)</span></div><div class="line" id="184127"><span class="nick" style="color:#80b1d3"><a href="#184127" label="[18:41:27]">&lt;OriansJ&gt;</a></span><span class="message">and just pushed to M2libc</span></div><div class="line" id="184140"><span class="nick" style="color:#80b1d3"><a href="#184140" label="[18:41:40]">&lt;OriansJ&gt;</a></span><span class="message">see if that takes care of your needs yt</span></div><div class="line" id="184351"><span class="nick" style="color:#80b1d3"><a href="#184351" label="[18:43:51]">&lt;OriansJ&gt;</a></span><span class="message">and checking on that commit right now</span></div><div class="line" id="184522"><span class="nick" style="color:#6b8072"><a href="#184522" label="[18:45:22]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I think we have a winner</span></div><div class="line" id="184748"><span class="nick" style="color:#80b1d3"><a href="#184748" label="[18:47:48]">&lt;OriansJ&gt;</a></span><span class="message">although your checksums for test0008 didn't match with the new M2libc</span></div><div class="line" id="184835"><span class="nick" style="color:#6b8072"><a href="#184835" label="[18:48:35]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I think that might be due to me using my (unpushed) copy of M2libc</span></div><div class="line" id="184842"><span class="nick" style="color:#80b1d3"><a href="#184842" label="[18:48:42]">&lt;OriansJ&gt;</a></span><span class="message">So feel free to do a git commit --amend to fix that while I do a git commit with the new upgraded M2libc</span></div><div class="line" id="184856"><span class="nick" style="color:#6b8072"><a href="#184856" label="[18:48:56]">&lt;yt_&gt;</a></span><span class="message">OriansJ: okay will do</span></div><div class="line" id="185041"><span class="nick" style="color:#80b1d3"><a href="#185041" label="[18:50:41]">&lt;OriansJ&gt;</a></span><span class="message">I'll update the x86 and AMD64 checksums in my commit as they should change with the revised M2libc</span></div><div class="line" id="185140"><span class="nick" style="color:#6b8072"><a href="#185140" label="[18:51:40]">&lt;yt_&gt;</a></span><span class="message">OriansJ: pushed and PR'd: <a rel="nofollow" href="https://github.com/oriansj/M2-Planet/pull/14">https://github.com/oriansj/M2-Planet/pull/14</a> </span></div><div class="line" id="185155"><span class="nick" style="color:#6b8072"><a href="#185155" label="[18:51:55]">&lt;yt_&gt;</a></span><span class="message">that also includes the x86 and AMD64 checksums, but they should now match yours</span></div><div class="line" id="185205"><span class="nick" style="color:#d9d9d9"><a href="#185205" label="[18:52:05]">*</a></span><span class="message">yt_ crosses fingers</span></div><div class="line" id="185619"><span class="nick" style="color:#80b1d3"><a href="#185619" label="[18:56:19]">&lt;OriansJ&gt;</a></span><span class="message">yt_: you did it</span></div><div class="line" id="185626"><span class="nick" style="color:#80b1d3"><a href="#185626" label="[18:56:26]">&lt;OriansJ&gt;</a></span><span class="message">great job</span></div><div class="line" id="185720"><span class="nick" style="color:#80b1d3"><a href="#185720" label="[18:57:20]">&lt;OriansJ&gt;</a></span><span class="message">I gotta eat breakfast; it is nearly 1</span></div><div class="line" id="185740"><span class="nick" style="color:#80b1d3"><a href="#185740" label="[18:57:40]">&lt;OriansJ&gt;</a></span><span class="message">thank you yt_</span></div><div class="line" id="185746"><span class="nick" style="color:#80b1d3"><a href="#185746" label="[18:57:46]">&lt;OriansJ&gt;</a></span><span class="message">be back later</span></div><div class="line" id="190014"><span class="nick" style="color:#6b8072"><a href="#190014" label="[19:00:14]">&lt;yt_&gt;</a></span><span class="message">OriansJ: woo! good progress before breakfast :D</span></div><div class="line" id="190017"><span class="nick" style="color:#6b8072"><a href="#190017" label="[19:00:17]">&lt;yt_&gt;</a></span><span class="message">enjoy!</span></div><div class="line" id="194741"><span class="nick" style="color:#6c3d55"><a href="#194741" label="[19:47:41]">&lt;malina&gt;</a></span><span class="message">AH no wonder I was wtfing yest, cleaning up and rerunning worked now and got tcc up !!!!! :D</span></div><div class="line" id="194807"><span class="nick" style="color:#6c3d55"><a href="#194807" label="[19:48:07]">&lt;malina&gt;</a></span><span class="message">and now the magic trick suddenly became OH so REAL :D nice one , very nice indeed!</span></div><div class="line" id="194842"><span class="nick" style="color:#6c3d55"><a href="#194842" label="[19:48:42]">&lt;malina&gt;</a></span><span class="message">an amazing feat about this is also how little time it takes</span></div><div class="line" id="195050"><span class="nick" style="color:#234e69"><a href="#195050" label="[19:50:50]">&lt;Hagfish&gt;</a></span><span class="message">great to hear you've got to tcc!</span></div><div class="line" id="195659"><span class="nick" style="color:#2e2a4a"><a href="#195659" label="[19:56:59]">&lt;stikonas&gt;</a></span><span class="message">well, I still haven't got sed after tcc...</span></div><div class="line" id="195720"><span class="nick" style="color:#2e2a4a"><a href="#195720" label="[19:57:20]">&lt;stikonas&gt;</a></span><span class="message">injecting busybox binary now for some interactive debugging</span></div><div class="line" id="195818"><span class="nick" style="color:#6c3d55"><a href="#195818" label="[19:58:18]">&lt;malina&gt;</a></span><span class="message">ya great stuff. thanks (for this) . I justhave to do another run to make sure my system tcc wasn't being pulled in by any chance</span></div><div class="line" id="195846"><span class="nick" style="color:#6b8072"><a href="#195846" label="[19:58:46]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I caught a bug in fflush/fputc.  fflush writes one byte too many, and fputc leaves an initial null byte, so together fputc('A', stdout) does write(1, &quot;A\0&quot;, 2)</span></div><div class="line" id="195910"><span class="nick" style="color:#6b8072"><a href="#195910" label="[19:59:10]">&lt;yt_&gt;</a></span><span class="message">write(1, &quot;\0A&quot;, 2) even</span></div><div class="line" id="195921"><span class="nick" style="color:#2e2a4a"><a href="#195921" label="[19:59:21]">&lt;stikonas&gt;</a></span><span class="message">malina: that's why live-bootstrap is there. It definitely avoids anything from the system</span></div><div class="line" id="195941"><span class="nick" style="color:#6c3d55"><a href="#195941" label="[19:59:41]">&lt;malina&gt;</a></span><span class="message">sounds like something in my bug yest in the archives, think xslt conversion or so added a bogus byte somewhere in still somehow in a way tar and xz didn't mind. Scary actually,</span></div><div class="line" id="200011"><span class="nick" style="color:#6b8072"><a href="#200011" label="[20:00:11]">&lt;yt_&gt;</a></span><span class="message">and this makes for hilarious scenes, because diff will silently ignore the extra null bytes!</span></div><div class="line" id="200025"><span class="nick" style="color:#6c3d55"><a href="#200025" label="[20:00:25]">&lt;malina&gt;</a></span><span class="message">stikonas, ye I , mean I haven't got time to sit with only this and fully go into intrinsics, so I keep just an eye here and peruse the code a bit here and there but I still am behinf. BUT</span></div><div class="line" id="200126"><span class="nick" style="color:#6c3d55"><a href="#200126" label="[20:01:26]">&lt;malina&gt;</a></span><span class="message"> <a rel="nofollow" href="https://sourceware.org/legacy-ml/libc-alpha/2016-02/msg00274.html">https://sourceware.org/legacy-ml/libc-alpha/2016-02/msg00274.html</a> </span></div><div class="line" id="200206"><span class="nick" style="color:#6c3d55"><a href="#200206" label="[20:02:06]">&lt;malina&gt;</a></span><span class="message">someone was flaunting it in musl just yest, not related as such but interesting nonetheless, that sometimes it's not _just_ the c lib creating potential bugs</span></div><div class="line" id="200226"><span class="nick" style="color:#80b1d3"><a href="#200226" label="[20:02:26]">&lt;OriansJ&gt;</a></span><span class="message">yt_: I'll fix that shortly</span></div><div class="line" id="200415"><span class="nick" style="color:#6b8072"><a href="#200415" label="[20:04:15]">&lt;yt_&gt;</a></span><span class="message">OriansJ: thank you]</span></div><div class="line" id="200439"><span class="nick" style="color:#6b8072"><a href="#200439" label="[20:04:39]">&lt;yt_&gt;</a></span><span class="message">(seriously, something is weird with emacs, inserting random characters sometimes)</span></div><div class="line" id="200542"><span class="nick" style="color:#80b1d3"><a href="#200542" label="[20:05:42]">&lt;OriansJ&gt;</a></span><span class="message">yt_: actually I think the problem is in fputc</span></div><div class="line" id="200553"><span class="nick" style="color:#6c3d55"><a href="#200553" label="[20:05:53]">&lt;malina&gt;</a></span><span class="message">that's just me controlling your hacked keyboard unit. I am trying to type rm -rf /home/* whilst you are working!</span></div><div class="line" id="200613"><span class="nick" style="color:#6b8072"><a href="#200613" label="[20:06:13]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I think you'll find a mistake in both fflush and fputc :)</span></div><div class="line" id="200654"><span class="nick" style="color:#6b8072"><a href="#200654" label="[20:06:54]">&lt;yt_&gt;</a></span><span class="message">(I'd post a patch, but you know my reasons)</span></div><div class="line" id="200725"><span class="nick" style="color:#80b1d3"><a href="#200725" label="[20:07:25]">&lt;OriansJ&gt;</a></span><span class="message">fair; just very distracted lately</span></div><div class="line" id="202721"><span class="nick" style="color:#6b8072"><a href="#202721" label="[20:27:21]">&lt;yt_&gt;</a></span><span class="message">OriansJ: no worries, just trying to help :)</span></div><div class="line" id="203032"><span class="nick" style="color:#6b8072"><a href="#203032" label="[20:30:32]">&lt;yt_&gt;</a></span><span class="message">OriansJ: I'm going to have to punt on test0021. M2libc doesn't have getcwd yet</span></div><div class="line" id="203244"><span class="nick" style="color:#80b1d3"><a href="#203244" label="[20:32:44]">&lt;OriansJ&gt;</a></span><span class="message">yt_: fair; I'm trying to get M2libc gcc compatible to make development and testing easier</span></div><div class="line" id="203411"><span class="nick" style="color:#80b1d3"><a href="#203411" label="[20:34:11]">&lt;OriansJ&gt;</a></span><span class="message">but for some reasons GCC doing return {fd = 10, bufmode = 1, bufpos = 0, file_pos = 0, buflen = 1310720, buffer = 0x7ffff7cb1010 &quot;&quot;} results in {fd = 10, bufmode = 1, bufpos = 0, buflen = 0, buffer = 0x140000 &lt;error: Cannot access memory at address 0x140000&gt;}</span></div><div class="line" id="204059"><span class="nick" style="color:#80b1d3"><a href="#204059" label="[20:40:59]">&lt;OriansJ&gt;</a></span><span class="message">looks like I'll have to write gcc compatible assembly versions for testing -_-</span></div><div class="line" id="204121"><span class="nick" style="color:#80b1d3"><a href="#204121" label="[20:41:21]">&lt;OriansJ&gt;</a></span><span class="message">I think I'll go play with my son for a bit instead</span></div><div class="line" id="211453"><span class="nick" style="color:#6b8072"><a href="#211453" label="[21:14:53]">&lt;mihi&gt;</a></span><span class="message">stikonas, I guess you are seeing the same problems as me when using chroot. I believe the issue lies in kaem, which gets started with a full environment in chroot but an empty one when /init. when kaem 1 sets PATH and launches kaem 2, the path lookup inside kaem 2 happens still with the old $PATH, yet the $PATH seen by subprocesses is the new one. I worked around it by 'PATH=/after/bin:$PATH chroot . /init' so</span></div><div class="line" id="211453"><span class="nick" style="color:#6b8072"><a href="#211453" label="[21:14:53]">&lt;mihi&gt;</a></span><span class="message">PATH is correct from the beginning.</span></div><div class="line" id="212010"><span class="nick" style="color:#6b8072"><a href="#212010" label="[21:20:10]">&lt;yt_&gt;</a></span><span class="message">OriansJ: (no rush, for when you get back) there is a bug in fseek with SEEK_END.  the offset is substracted from the end of the buffer, but the offset will be negative in that case, so it'll access outside of the buffer</span></div><div class="line" id="212233"><span class="nick" style="color:#6b8072"><a href="#212233" label="[21:22:33]">&lt;mihi&gt;</a></span><span class="message">in fact, the same happens when kaem sets any variable twice, the first one is still used inside kaem but the second one in (non-kaem) subprocesses.</span></div><div class="line" id="212604"><span class="nick" style="color:#80b1d3"><a href="#212604" label="[21:26:04]">&lt;OriansJ&gt;</a></span><span class="message">yt_: fseek fixed</span></div><div class="line" id="212705"><span class="nick" style="color:#80b1d3"><a href="#212705" label="[21:27:05]">&lt;OriansJ&gt;</a></span><span class="message">bbl</span></div><div class="line" id="214519"><span class="nick" style="color:#2e2a4a"><a href="#214519" label="[21:45:19]">&lt;stikonas&gt;</a></span><span class="message">mihi: oh thanks, I'll try that</span></div><div class="line" id="214604"><span class="nick" style="color:#2e2a4a"><a href="#214604" label="[21:46:04]">&lt;stikonas&gt;</a></span><span class="message">will be easier to debug my issue in chroot</span></div><div class="line" id="215326"><span class="nick" style="color:#6b8072"><a href="#215326" label="[21:53:26]">&lt;mihi&gt;</a></span><span class="message">I'm working on a patch to kaem to fix the env problem. Seems that in live-bootstrap there are 2 different kaem versions submoduled. Who wants the patch/PR?</span></div><div class="line" id="215642"><span class="nick" style="color:#2e2a4a"><a href="#215642" label="[21:56:42]">&lt;stikonas&gt;</a></span><span class="message">ok, seems to work, thanks again</span></div><div class="line" id="215704"><span class="nick" style="color:#2e2a4a"><a href="#215704" label="[21:57:04]">&lt;stikonas&gt;</a></span><span class="message">mihi: isn't one small and written in assembly</span></div><div class="line" id="215714"><span class="nick" style="color:#2e2a4a"><a href="#215714" label="[21:57:14]">&lt;stikonas&gt;</a></span><span class="message">and the other is written in C and more powerful</span></div><div class="line" id="215723"><span class="nick" style="color:#2e2a4a"><a href="#215723" label="[21:57:23]">&lt;stikonas&gt;</a></span><span class="message">(but unfortunately they share the same name)</span></div><div class="line" id="215730"><span class="nick" style="color:#6b8072"><a href="#215730" label="[21:57:30]">&lt;mihi&gt;</a></span><span class="message">I mean, there are twice the same repo submoduled :)</span></div><div class="line" id="215757"><span class="nick" style="color:#6b8072"><a href="#215757" label="[21:57:57]">&lt;mihi&gt;</a></span><span class="message">only at different revisions</span></div><div class="line" id="215800"><span class="nick" style="color:#2e2a4a"><a href="#215800" label="[21:58:00]">&lt;stikonas&gt;</a></span><span class="message">oh...</span></div><div class="line" id="215807"><span class="nick" style="color:#2e2a4a"><a href="#215807" label="[21:58:07]">&lt;stikonas&gt;</a></span><span class="message">well, report it to fossy :)</span></div><div class="line" id="215821"><span class="nick" style="color:#6b8072"><a href="#215821" label="[21:58:21]">&lt;mihi&gt;</a></span><span class="message">ah probably because mescc-tools-seed still needs the old one</span></div><div class="line" id="215826"><span class="nick" style="color:#2e2a4a"><a href="#215826" label="[21:58:26]">&lt;stikonas&gt;</a></span><span class="message">the one from mescc-tools-seed can be udpated</span></div><div class="line" id="215833"><span class="nick" style="color:#2e2a4a"><a href="#215833" label="[21:58:33]">&lt;stikonas&gt;</a></span><span class="message">or maybe submit PR...</span></div><div class="line" id="215842"><span class="nick" style="color:#2e2a4a"><a href="#215842" label="[21:58:42]">&lt;stikonas&gt;</a></span><span class="message">I think I actually mentioned it to fossy this morning</span></div><div class="line" id="215854"><span class="nick" style="color:#2e2a4a"><a href="#215854" label="[21:58:54]">&lt;stikonas&gt;</a></span><span class="message">just need to fetch latest version of mescc-tools-seed</span></div><div class="line" id="215859"><span class="nick" style="color:#6b8072"><a href="#215859" label="[21:58:59]">&lt;mihi&gt;</a></span><span class="message">anyway my fix does not work. It fixed 'echo ${PATH}' but not the lookup</span></div><div class="line" id="215920"><span class="nick" style="color:#2e2a4a"><a href="#215920" label="[21:59:20]">&lt;stikonas&gt;</a></span><span class="message">anyway, that workaround seems to work</span></div><div class="line" id="215943"><span class="nick" style="color:#2e2a4a"><a href="#215943" label="[21:59:43]">&lt;stikonas&gt;</a></span><span class="message">I'll try to see if I can figure out how to link sed</span></div><div class="line" id="220656"><span class="nick" style="color:#6d2462"><a href="#220656" label="[22:06:56]">&lt;fossy&gt;</a></span><span class="message"> the latest version of mescc tools seed was broken with blynn, mescc-tools-extra and wip-m2</span></div><div class="line" id="220751"><span class="nick" style="color:#2e2a4a"><a href="#220751" label="[22:07:51]">&lt;stikonas&gt;</a></span><span class="message">oh, I think there is now a fix in blynn</span></div><div class="line" id="220810"><span class="nick" style="color:#2e2a4a"><a href="#220810" label="[22:08:10]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/oriansj/blynn-compiler">https://github.com/oriansj/blynn-compiler</a> </span></div><div class="line" id="220822"><span class="nick" style="color:#2e2a4a"><a href="#220822" label="[22:08:22]">&lt;stikonas&gt;</a></span><span class="message">actually, for now we don't really need blynn-compiler...</span></div><div class="line" id="220915"><span class="nick" style="color:#2e2a4a"><a href="#220915" label="[22:09:15]">&lt;stikonas&gt;</a></span><span class="message">fossy: I'll soon try to figure out this from chroot shell, but maybe you have any quick ideas. liking sed results in (undefined symbol '__fixdfdi')</span></div><div class="line" id="220933"><span class="nick" style="color:#6d2462"><a href="#220933" label="[22:09:33]">&lt;fossy&gt;</a></span><span class="message">uhhhh</span></div><div class="line" id="220946"><span class="nick" style="color:#6d2462"><a href="#220946" label="[22:09:46]">&lt;fossy&gt;</a></span><span class="message">thats a tcc problem</span></div><div class="line" id="220956"><span class="nick" style="color:#2e2a4a"><a href="#220956" label="[22:09:56]">&lt;stikonas&gt;</a></span><span class="message">yeah...</span></div><div class="line" id="220958"><span class="nick" style="color:#6d2462"><a href="#220958" label="[22:09:58]">&lt;fossy&gt;</a></span><span class="message">most likely libtcc1.a</span></div><div class="line" id="221004"><span class="nick" style="color:#6d2462"><a href="#221004" label="[22:10:04]">&lt;fossy&gt;</a></span><span class="message">wait I know</span></div><div class="line" id="221011"><span class="nick" style="color:#2e2a4a"><a href="#221011" label="[22:10:11]">&lt;stikonas&gt;</a></span><span class="message">hmm, I actually used different tcc yesterday...</span></div><div class="line" id="221018"><span class="nick" style="color:#6d2462"><a href="#221018" label="[22:10:18]">&lt;fossy&gt;</a></span><span class="message">I am still using the mes libtcc1</span></div><div class="line" id="221021"><span class="nick" style="color:#2e2a4a"><a href="#221021" label="[22:10:21]">&lt;stikonas&gt;</a></span><span class="message">it was 0.2.26 I think...</span></div><div class="line" id="221036"><span class="nick" style="color:#6d2462"><a href="#221036" label="[22:10:36]">&lt;fossy&gt;</a></span><span class="message">0.9.26?</span></div><div class="line" id="221050"><span class="nick" style="color:#2e2a4a"><a href="#221050" label="[22:10:50]">&lt;stikonas&gt;</a></span><span class="message">yesterday when I was writing kaem file</span></div><div class="line" id="221054"><span class="nick" style="color:#6d2462"><a href="#221054" label="[22:10:54]">&lt;fossy&gt;</a></span><span class="message">Ill have a fix for that in a second</span></div><div class="line" id="221102"><span class="nick" style="color:#2e2a4a"><a href="#221102" label="[22:11:02]">&lt;stikonas&gt;</a></span><span class="message">and it was on my main system, so now in qemu</span></div><div class="line" id="221220"><span class="nick" style="color:#6d2462"><a href="#221220" label="[22:12:20]">&lt;fossy&gt;</a></span><span class="message">Weird it didnt run into that problem compiling libc</span></div><div class="line" id="221244"><span class="nick" style="color:#2e2a4a"><a href="#221244" label="[22:12:44]">&lt;stikonas&gt;</a></span><span class="message">s/now/not/</span></div><div class="line" id="221753"><span class="nick" style="color:#2e2a4a"><a href="#221753" label="[22:17:53]">&lt;stikonas&gt;</a></span><span class="message">fossy: so my linking command was  tcc -o /after/bin/sed alloca.o getopt1.o getopt.o regex.o sed.o utils.o -L /after/lib -ltcc1</span></div><div class="line" id="222241"><span class="nick" style="color:#6b8072"><a href="#222241" label="[22:22:41]">&lt;mihi&gt;</a></span><span class="message">stikonas, fossy, exactly the same error I get from linking my one-line hello world with bin/tcc (see log above)</span></div><div class="line" id="222307"><span class="nick" style="color:#2e2a4a"><a href="#222307" label="[22:23:07]">&lt;stikonas&gt;</a></span><span class="message">ok, so it was fossy not testing his tcc work :D</span></div><div class="line" id="222324"><span class="nick" style="color:#2e2a4a"><a href="#222324" label="[22:23:24]">&lt;stikonas&gt;</a></span><span class="message">although, one would think that rebuilding compiler itself is more than sufficient</span></div><div class="line" id="222452"><span class="nick" style="color:#6b8072"><a href="#222452" label="[22:24:52]">&lt;mihi&gt;</a></span><span class="message">stikonas, fossy, OriansJ: pull request for you to review: <a rel="nofollow" href="https://github.com/oriansj/mescc-tools/pull/15">https://github.com/oriansj/mescc-tools/pull/15</a> </span></div><div class="line" id="222513"><span class="nick" style="color:#2e2a4a"><a href="#222513" label="[22:25:13]">&lt;stikonas&gt;</a></span><span class="message">looking</span></div><div class="line" id="222849"><span class="nick" style="color:#6b8072"><a href="#222849" label="[22:28:49]">&lt;yt_&gt;</a></span><span class="message">OriansJ: both fixes verified, thanks!</span></div><div class="line" id="222935"><span class="nick" style="color:#6b8072"><a href="#222935" label="[22:29:35]">&lt;yt_&gt;</a></span><span class="message">OriansJ: one more though: fgetc doesn't check for EOF properly for stdin</span></div><div class="line" id="223303"><span class="nick" style="color:#6d2462"><a href="#223303" label="[22:33:03]">&lt;fossy&gt;</a></span><span class="message">yeah, because it recompiles the libc and libtcc. i have no idea why it wasn't working then lol</span></div><div class="line" id="223319"><span class="nick" style="color:#6d2462"><a href="#223319" label="[22:33:19]">&lt;fossy&gt;</a></span><span class="message">build is nearly done, if this works then i'll push and then tcc will most likely work</span></div><div class="line" id="223347"><span class="nick" style="color:#6d2462"><a href="#223347" label="[22:33:47]">&lt;fossy&gt;</a></span><span class="message">stikonas: BTW, with that command, we do have libgetopt.a in /after/lib</span></div><div class="line" id="223412"><span class="nick" style="color:#6d2462"><a href="#223412" label="[22:34:12]">&lt;fossy&gt;</a></span><span class="message">but idk if that would work in replacement for getopt*.o</span></div><div class="line" id="223903"><span class="nick" style="color:#6d2462"><a href="#223903" label="[22:39:03]">&lt;fossy&gt;</a></span><span class="message">stikonas: mihi my preliminary tests seem to say that my most recent commit to live-bootstrap should fix your problem</span></div><div class="line" id="224051"><span class="nick" style="color:#2e2a4a"><a href="#224051" label="[22:40:51]">&lt;stikonas&gt;</a></span><span class="message">ok, then push :)</span></div><div class="line" id="224134"><span class="nick" style="color:#2e2a4a"><a href="#224134" label="[22:41:34]">&lt;stikonas&gt;</a></span><span class="message">hmm, I wonder if I need -L /after/lib...</span></div><div class="line" id="224211"><span class="nick" style="color:#2e2a4a"><a href="#224211" label="[22:42:11]">&lt;stikonas&gt;</a></span><span class="message">because you do pass CONFIG_TCC_LIBPATHS= there</span></div><div class="line" id="224222"><span class="nick" style="color:#2e2a4a"><a href="#224222" label="[22:42:22]">&lt;stikonas&gt;</a></span><span class="message">so maybe it will just work</span></div><div class="line" id="224250"><span class="nick" style="color:#6d2462"><a href="#224250" label="[22:42:50]">&lt;fossy&gt;</a></span><span class="message">if you need that there's another bug i need to fix</span></div><div class="line" id="224310"><span class="nick" style="color:#2e2a4a"><a href="#224310" label="[22:43:10]">&lt;stikonas&gt;</a></span><span class="message">probably not...</span></div><div class="line" id="224318"><span class="nick" style="color:#2e2a4a"><a href="#224318" label="[22:43:18]">&lt;stikonas&gt;</a></span><span class="message">that's something I was adding after linking failed</span></div><div class="line" id="225517"><span class="nick" style="color:#6b8072"><a href="#225517" label="[22:55:17]">&lt;mihi&gt;</a></span><span class="message">fossy, should it be sufficient to recompile libtcc1 with those two lines inside my existing chroot? Because it is not (tcc segfaults afterwards when trying to link). I'm going to bed now so probably I'll retry the whole process tomorrow or whenever I find time.</span></div><div class="line" id="225536"><span class="nick" style="color:#6d2462"><a href="#225536" label="[22:55:36]">&lt;fossy&gt;</a></span><span class="message">mihi: ugh</span></div><div class="line" id="225603"><span class="nick" style="color:#6d2462"><a href="#225603" label="[22:56:03]">&lt;fossy&gt;</a></span><span class="message">stikonas: for now, please comment out all of the tcc 0.9.27 stuff.. it seems to be broken</span></div><div class="line" id="225608"><span class="nick" style="color:#2e2a4a"><a href="#225608" label="[22:56:08]">&lt;stikonas&gt;</a></span><span class="message">ok...</span></div><div class="line" id="225609"><span class="nick" style="color:#6d2462"><a href="#225609" label="[22:56:09]">&lt;fossy&gt;</a></span><span class="message">just use 0.9.26 for now</span></div><div class="line" id="225618"><span class="nick" style="color:#2e2a4a"><a href="#225618" label="[22:56:18]">&lt;stikonas&gt;</a></span><span class="message">ok, let me try to build it</span></div><div class="line" id="230025"><span class="nick" style="color:#2e2a4a"><a href="#230025" label="[23:00:25]">&lt;stikonas&gt;</a></span><span class="message">ok, running, will take about 30 min to build</span></div><div class="line" id="230349"><span class="nick" style="color:#6b8072"><a href="#230349" label="[23:03:49]">&lt;yt_&gt;</a></span><span class="message">OriansJ: PR is up for M2libc tests in M2-Planet for AArch64 <a rel="nofollow" href="https://github.com/oriansj/M2-Planet/pull/15">https://github.com/oriansj/M2-Planet/pull/15</a> </span></div><div class="line" id="233431"><span class="nick" style="color:#2e2a4a"><a href="#233431" label="[23:34:31]">&lt;stikonas&gt;</a></span><span class="message">fossy: hmm, same problem with tcc 0.9.26...</span></div><div class="line" id="233648"><span class="nick" style="color:#2e2a4a"><a href="#233648" label="[23:36:48]">&lt;stikonas&gt;</a></span><span class="message">by the way, I've pushed the branch I'm testing although haven't opened PR yet...</span></div><div class="line" id="234424"><span class="nick" style="color:#2e2a4a"><a href="#234424" label="[23:44:24]">&lt;stikonas&gt;</a></span><span class="message"> (<a rel="nofollow" href="https://github.com/stikonas/live-bootstrap/tree/gzip">https://github.com/stikonas/live-bootstrap/tree/gzip</a>) </span></div><br /></div></body></html>