<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2023-10-27.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="002501"><span class="nick" style="color:#389600"><a href="#002501" label="[00:25:01]">&lt;muurkha&gt;</a></span><span class="message">oriansj: 01997?  I think this was 01977</span></div><div class="line" id="002510"><span class="nick" style="color:#389600"><a href="#002510" label="[00:25:10]">&lt;muurkha&gt;</a></span><span class="message">or a bit earlier</span></div><div class="line" id="004540"><span class="nick" style="color:#8dd3c7"><a href="#004540" label="[00:45:40]">&lt;oriansj&gt;</a></span><span class="message">muurkha: that was the year the source code (nih.a) was given to Warren Toomey (curator of the TUHS archive)</span></div><div class="line" id="004843"><span class="nick" style="color:#8dd3c7"><a href="#004843" label="[00:48:43]">&lt;oriansj&gt;</a></span><span class="message">via Dennis Ritchie's collection of old tape images</span></div><div class="line" id="010111"><span class="nick" style="color:#389600"><a href="#010111" label="[01:01:11]">&lt;muurkha&gt;</a></span><span class="message">haha</span></div><div class="line" id="095021"><span class="nick" style="color:#2e2a4a"><a href="#095021" label="[09:50:21]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;emilytrau&gt; <a rel="nofollow" href="https://www.chainguard.dev/unchained/fully-bootstrapping-java-from-source-in-wolfi">https://www.chainguard.dev/unchained/fully-bootstrapping-java-from-source-in-wolfi</a> </span></div><div class="line" id="100408"><span class="nick" style="color:#2e2a4a"><a href="#100408" label="[10:04:08]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; emilytrau: they are missing some prebuilt jar files there</span></div><div class="line" id="100442"><span class="nick" style="color:#2e2a4a"><a href="#100442" label="[10:04:42]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; Gcj comes with them I think</span></div><div class="line" id="100517"><span class="nick" style="color:#2e2a4a"><a href="#100517" label="[10:05:17]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;emilytrau&gt; has there been other published work on java?</span></div><div class="line" id="100605"><span class="nick" style="color:#2e2a4a"><a href="#100605" label="[10:06:05]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; Well, guix does it correctly</span></div><div class="line" id="100636"><span class="nick" style="color:#2e2a4a"><a href="#100636" label="[10:06:36]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; Which I also copied to my gentoo overlay: <a rel="nofollow" href="https://github.com/gentoo-mirror/gentoo-bootstrap#bootstrapping-story">https://github.com/gentoo-mirror/gentoo-bootstrap#bootstrapping-story</a> </span></div><div class="line" id="100815"><span class="nick" style="color:#2e2a4a"><a href="#100815" label="[10:08:15]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; This starts with fastjar, jikes, gnu classpath 0.93 and jamvm 1.5</span></div><div class="line" id="102042"><span class="nick" style="color:#2e2a4a"><a href="#102042" label="[10:20:42]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;emilytrau&gt; very cool. i'm putting it on the list to bring to nix :)</span></div><div class="line" id="110417"><span class="nick" style="color:#2e2a4a"><a href="#110417" label="[11:04:17]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; Yeah, I think gcj depends on ecj <a rel="nofollow" href="https://gcc.gnu.org/bugzilla/show_bug.cgi?id=37676">https://gcc.gnu.org/bugzilla/show_bug.cgi?id=37676</a> </span></div><div class="line" id="112025"><span class="nick" style="color:#6b8072"><a href="#112025" label="[11:20:25]">&lt;civodul&gt;</a></span><span class="message">gcj’s no more though</span></div><div class="line" id="124232"><span class="nick" style="color:#80b1d3"><a href="#124232" label="[12:42:32]">&lt;stikonas&gt;</a></span><span class="message">civodul: yeah, but that blog post describes building older gcc with gcj to bootstrap openjdk</span></div><div class="line" id="124242"><span class="nick" style="color:#80b1d3"><a href="#124242" label="[12:42:42]">&lt;stikonas&gt;</a></span><span class="message">which does not solve those ecj precompiled jar problem</span></div><div class="line" id="124300"><span class="nick" style="color:#80b1d3"><a href="#124300" label="[12:43:00]">&lt;stikonas&gt;</a></span><span class="message">you need to work quite a bit harder to bootstrap ecj</span></div><div class="line" id="135153"><span class="nick" style="color:#6b8072"><a href="#135153" label="[13:51:53]">&lt;civodul&gt;</a></span><span class="message">indeed</span></div><div class="line" id="191434"><span class="nick" style="color:#6d2462"><a href="#191434" label="[19:14:34]">&lt;artemist&gt;</a></span><span class="message">I've been working on a prototype of building mes on aarch64. I'm having some trouble with pointer sizes, is there a reason we're using m2-planet in bootstrap mode?</span></div><div class="line" id="191450"><span class="nick" style="color:#6d2462"><a href="#191450" label="[19:14:50]">&lt;artemist&gt;</a></span><span class="message">It would be nice to be able to ifdef</span></div><div class="line" id="205143"><span class="nick" style="color:#80b1d3"><a href="#205143" label="[20:51:43]">&lt;stikonas&gt;</a></span><span class="message">artemist: are you using up to date code?</span></div><div class="line" id="205158"><span class="nick" style="color:#80b1d3"><a href="#205158" label="[20:51:58]">&lt;stikonas&gt;</a></span><span class="message">we have switched to bootstrap mode a year or so ago</span></div><div class="line" id="205502"><span class="nick" style="color:#6d2462"><a href="#205502" label="[20:55:02]">&lt;artemist&gt;</a></span><span class="message">I was using the master branch, which does look pretty old</span></div><div class="line" id="205929"><span class="nick" style="color:#80b1d3"><a href="#205929" label="[20:59:29]">&lt;stikonas&gt;</a></span><span class="message">artemist: oh yes I think janneke usually works on other branches...</span></div><div class="line" id="205934"><span class="nick" style="color:#80b1d3"><a href="#205934" label="[20:59:34]">&lt;stikonas&gt;</a></span><span class="message">take a look at wip-riscv</span></div><div class="line" id="210051"><span class="nick" style="color:#6d2462"><a href="#210051" label="[21:00:51]">&lt;artemist&gt;</a></span><span class="message">I'll try to rebase off there when I have more time, it sounds like that would probably fix a lot of my issues around syscalls and pointer sizes</span></div><div class="line" id="210052"><span class="nick" style="color:#80b1d3"><a href="#210052" label="[21:00:52]">&lt;stikonas&gt;</a></span><span class="message">tough those other branches can be rebased...</span></div><div class="line" id="210108"><span class="nick" style="color:#80b1d3"><a href="#210108" label="[21:01:08]">&lt;stikonas&gt;</a></span><span class="message">so you might have to keep rebasing your changes until the release</span></div><div class="line" id="210116"><span class="nick" style="color:#80b1d3"><a href="#210116" label="[21:01:16]">&lt;stikonas&gt;</a></span><span class="message">but yes, use something newer</span></div><div class="line" id="210137"><span class="nick" style="color:#80b1d3"><a href="#210137" label="[21:01:37]">&lt;stikonas&gt;</a></span><span class="message">artemist: also which M2-Planet are you using?</span></div><div class="line" id="210145"><span class="nick" style="color:#6d2462"><a href="#210145" label="[21:01:45]">&lt;artemist&gt;</a></span><span class="message">Almost all of my changes are either &quot;bad and not mergable&quot; because I changed some constants or in a separate aarch64 directory, so it hopefully won't be too bad</span></div><div class="line" id="210219"><span class="nick" style="color:#80b1d3"><a href="#210219" label="[21:02:19]">&lt;stikonas&gt;</a></span><span class="message">M2-Planet needs to be from master</span></div><div class="line" id="210227"><span class="nick" style="color:#80b1d3"><a href="#210227" label="[21:02:27]">&lt;stikonas&gt;</a></span><span class="message">I've made some 64-bit fixes there too</span></div><div class="line" id="210258"><span class="nick" style="color:#80b1d3"><a href="#210258" label="[21:02:58]">&lt;stikonas&gt;</a></span><span class="message">basically master of that + wip-riscv of mes should fix most of 64 bit issues as we have managed to bootstrap tinycc on riscv recently</span></div><div class="line" id="210335"><span class="nick" style="color:#6d2462"><a href="#210335" label="[21:03:35]">&lt;artemist&gt;</a></span><span class="message">Oh, I was using the nixpkgs one which isn't master, I can switch that. I've mostly been duplicating some work on getting 64 bit pointers and writing the necessary libc bits</span></div><div class="line" id="210347"><span class="nick" style="color:#80b1d3"><a href="#210347" label="[21:03:47]">&lt;stikonas&gt;</a></span><span class="message">let me find your the relevant commit...</span></div><div class="line" id="210358"><span class="nick" style="color:#80b1d3"><a href="#210358" label="[21:03:58]">&lt;stikonas&gt;</a></span><span class="message">if it's snapshot, you might already have it</span></div><div class="line" id="210358"><span class="nick" style="color:#6d2462"><a href="#210358" label="[21:03:58]">&lt;artemist&gt;</a></span><span class="message">thanks!</span></div><div class="line" id="210427"><span class="nick" style="color:#80b1d3"><a href="#210427" label="[21:04:27]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/oriansj/M2-Planet/commit/85dd953b70c5f607769016bbf2a0aa3de7e41b6c">https://github.com/oriansj/M2-Planet/commit/85dd953b70c5f607769016bbf2a0aa3de7e41b6c</a>  from April</span></div><div class="line" id="210542"><span class="nick" style="color:#80b1d3"><a href="#210542" label="[21:05:42]">&lt;stikonas&gt;</a></span><span class="message">(this particular commit fixes 64-bit globals, though only for little-endian arches)</span></div><div class="line" id="210559"><span class="nick" style="color:#80b1d3"><a href="#210559" label="[21:05:59]">&lt;stikonas&gt;</a></span><span class="message">but that's all we have right now anyway</span></div><div class="line" id="211053"><span class="nick" style="color:#6d2462"><a href="#211053" label="[21:10:53]">&lt;artemist&gt;</a></span><span class="message">Probably won't matter for me, AIUI aarch64_be technically exists but nobody uses it</span></div><div class="line" id="211110"><span class="nick" style="color:#80b1d3"><a href="#211110" label="[21:11:10]">&lt;stikonas&gt;</a></span><span class="message">exactly...</span></div><div class="line" id="211259"><span class="nick" style="color:#80b1d3"><a href="#211259" label="[21:12:59]">&lt;stikonas&gt;</a></span><span class="message">oh, this commit might also be important for mes <a rel="nofollow" href="https://github.com/oriansj/M2-Planet/commits/master">https://github.com/oriansj/M2-Planet/commits/master</a> </span></div><div class="line" id="211311"><span class="nick" style="color:#80b1d3"><a href="#211311" label="[21:13:11]">&lt;stikonas&gt;</a></span><span class="message">anyway, just use latest M2-Planet from git too</span></div><div class="line" id="211323"><span class="nick" style="color:#80b1d3"><a href="#211323" label="[21:13:23]">&lt;stikonas&gt;</a></span><span class="message">argh, I meant <a rel="nofollow" href="https://github.com/oriansj/M2-Planet/commit/b908dac7c56e131595c04ba7ad550b6d55122e1e">https://github.com/oriansj/M2-Planet/commit/b908dac7c56e131595c04ba7ad550b6d55122e1e</a> </span></div><div class="line" id="211635"><span class="nick" style="color:#80b1d3"><a href="#211635" label="[21:16:35]">&lt;stikonas&gt;</a></span><span class="message">artemist: this might also be relevant for you <a rel="nofollow" href="https://github.com/oriansj/M2libc/pull/17">https://github.com/oriansj/M2libc/pull/17</a> </span></div><div class="line" id="211644"><span class="nick" style="color:#80b1d3"><a href="#211644" label="[21:16:44]">&lt;stikonas&gt;</a></span><span class="message">(and PR is unfinished, so not merged)</span></div><div class="line" id="211732"><span class="nick" style="color:#80b1d3"><a href="#211732" label="[21:17:32]">&lt;stikonas&gt;</a></span><span class="message">might be good to merge at least the working bits before the next release</span></div><div class="line" id="212216"><span class="nick" style="color:#6d2462"><a href="#212216" label="[21:22:16]">&lt;artemist&gt;</a></span><span class="message">Somehow I haven't had problems with m2libc, I guess I'm not at the point where it's being used</span></div><div class="line" id="212256"><span class="nick" style="color:#80b1d3"><a href="#212256" label="[21:22:56]">&lt;stikonas&gt;</a></span><span class="message">oh if you just build mes, you won't see them</span></div><div class="line" id="212256"><span class="nick" style="color:#6d2462"><a href="#212256" label="[21:22:56]">&lt;artemist&gt;</a></span><span class="message">Thanks for all the links, I'll probably get back to this when I'm not on terrible train wifi</span></div><div class="line" id="212306"><span class="nick" style="color:#80b1d3"><a href="#212306" label="[21:23:06]">&lt;stikonas&gt;</a></span><span class="message">mes uses its own meslibc</span></div><div class="line" id="212316"><span class="nick" style="color:#80b1d3"><a href="#212316" label="[21:23:16]">&lt;stikonas&gt;</a></span><span class="message">but some helper tools from stage0-posix might be broken</span></div><div class="line" id="212320"><span class="nick" style="color:#80b1d3"><a href="#212320" label="[21:23:20]">&lt;stikonas&gt;</a></span><span class="message">e.g. &quot;rm&quot;</span></div><br /></div></body></html>