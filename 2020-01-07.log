<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2020-01-07.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="014537"><span class="nick" style="color:#8dd3c7"><a href="#014537" label="[01:45:37]">&lt;oriansj&gt;</a></span><span class="message">gio: that is fine ( I was hoping for some detailed status notes about your asmc and nbs, like I added for mes and stage0 in bootstrappable.org to allow anyone to know where you are, what is done and what is being worked on</span></div><div class="line" id="014914"><span class="nick" style="color:#8dd3c7"><a href="#014914" label="[01:49:14]">&lt;oriansj&gt;</a></span><span class="message">fossy: if you want tools that work the same everywhere, you have to make life harder for yourself and add arbitrary restrictions (like main in C or -e in scheme)</span></div><div class="line" id="015254"><span class="nick" style="color:#8dd3c7"><a href="#015254" label="[01:52:54]">&lt;oriansj&gt;</a></span><span class="message">well it looks like I couldn't actually complete M1 in scheme in a day but I got mostly there: <a rel="nofollow" href="https://paste.debian.net/1124919/">https://paste.debian.net/1124919/</a> </span></div><div class="line" id="015344"><span class="nick" style="color:#2e2a4a"><a href="#015344" label="[01:53:44]">&lt;fossy&gt;</a></span><span class="message">oriansj: yeah</span></div><div class="line" id="015356"><span class="nick" style="color:#2e2a4a"><a href="#015356" label="[01:53:56]">&lt;fossy&gt;</a></span><span class="message">my segfault is actually my f'ed up system afaict</span></div><div class="line" id="015402"><span class="nick" style="color:#2e2a4a"><a href="#015402" label="[01:54:02]">&lt;fossy&gt;</a></span><span class="message">so ... fixing that</span></div><div class="line" id="015423"><span class="nick" style="color:#8dd3c7"><a href="#015423" label="[01:54:23]">&lt;oriansj&gt;</a></span><span class="message">line 170 is probably the most lispy one in the entire file</span></div><div class="line" id="015458"><span class="nick" style="color:#2e2a4a"><a href="#015458" label="[01:54:58]">&lt;fossy&gt;</a></span><span class="message">(((((((((())))))))))</span></div><div class="line" id="015501"><span class="nick" style="color:#2e2a4a"><a href="#015501" label="[01:55:01]">&lt;fossy&gt;</a></span><span class="message">not that mean</span></div><div class="line" id="015503"><span class="nick" style="color:#2e2a4a"><a href="#015503" label="[01:55:03]">&lt;fossy&gt;</a></span><span class="message">many*</span></div><div class="line" id="015512"><span class="nick" style="color:#8dd3c7"><a href="#015512" label="[01:55:12]">&lt;oriansj&gt;</a></span><span class="message">(just copy hexit and flatten into guile to see how it is supposed to work)</span></div><div class="line" id="015558"><span class="nick" style="color:#8dd3c7"><a href="#015558" label="[01:55:58]">&lt;oriansj&gt;</a></span><span class="message">hint: (map hexit (string-&gt;list &quot;fuck it&quot;))</span></div><div class="line" id="022059"><span class="nick" style="color:#8dd3c7"><a href="#022059" label="[02:20:59]">&lt;oriansj&gt;</a></span><span class="message">dddddd: yeah the bots going crazy are entirely my fault for just copying gio's talk materials without review; basically all because of package-lock.json had to pull that entirely otherwise I'd be getting generated crap forever</span></div><div class="line" id="022241"><span class="nick" style="color:#8dd3c7"><a href="#022241" label="[02:22:41]">&lt;oriansj&gt;</a></span><span class="message">and minor patch to M2-Planet is up</span></div><div class="line" id="035517"><span class="nick" style="color:#8dd3c7"><a href="#035517" label="[03:55:17]">&lt;oriansj&gt;</a></span><span class="message">and a minor feature enhancement for M1 (give correct line numbers following strings with \n in them)</span></div><div class="line" id="035743"><span class="nick" style="color:#8dd3c7"><a href="#035743" label="[03:57:43]">&lt;oriansj&gt;</a></span><span class="message">I am going to finish up M1.scm tomorrow and hopefully purge NOP from mescc-tools-seed</span></div><div class="line" id="044614"><span class="nick" style="color:#2e2a4a"><a href="#044614" label="[04:46:14]">&lt;fossy&gt;</a></span><span class="message">whats NOP?</span></div><div class="line" id="044619"><span class="nick" style="color:#6b8072"><a href="#044619" label="[04:46:19]">*</a></span><span class="message">fossy fixed my issue</span></div><div class="line" id="075352"><span class="nick" style="color:#2e2a4a"><a href="#075352" label="[07:53:52]">&lt;fossy&gt;</a></span><span class="message">interesting</span></div><div class="line" id="075353"><span class="nick" style="color:#2e2a4a"><a href="#075353" label="[07:53:53]">&lt;fossy&gt;</a></span><span class="message">a mescc compiled mes is much smaller then a tcc or GCC compiled mes</span></div><div class="line" id="075353"><span class="nick" style="color:#2e2a4a"><a href="#075353" label="[07:53:53]">&lt;fossy&gt;</a></span><span class="message">lol ill just use this as the bootstrap</span></div><div class="line" id="080458"><span class="nick">***</span><span class="message notice">Server sets mode: +cnt </span></div><div class="line" id="082338"><span class="nick" style="color:#80b1d3"><a href="#082338" label="[08:23:38]">&lt;janneke&gt;</a></span><span class="message">fossy: gcc-compiled is using -g, probably (debug info)</span></div><div class="line" id="082347"><span class="nick" style="color:#2e2a4a"><a href="#082347" label="[08:23:47]">&lt;fossy&gt;</a></span><span class="message">ah</span></div><div class="line" id="082353"><span class="nick" style="color:#2e2a4a"><a href="#082353" label="[08:23:53]">&lt;fossy&gt;</a></span><span class="message">that would explain it</span></div><div class="line" id="104422"><span class="nick" style="color:#2e2a4a"><a href="#104422" label="[10:44:22]">&lt;fossy&gt;</a></span><span class="message">well good news, mes build (from mes) works</span></div><div class="line" id="104428"><span class="nick" style="color:#2e2a4a"><a href="#104428" label="[10:44:28]">&lt;fossy&gt;</a></span><span class="message">I need that for the libc</span></div><div class="line" id="104502"><span class="nick" style="color:#2e2a4a"><a href="#104502" label="[10:45:02]">&lt;fossy&gt;</a></span><span class="message">and it is reproducible between systems, did the verifying hashes jazz</span></div><div class="line" id="104535"><span class="nick" style="color:#2e2a4a"><a href="#104535" label="[10:45:35]">&lt;fossy&gt;</a></span><span class="message">but tcc is reproducibly segfaulting in the same way</span></div><div class="line" id="104615"><span class="nick" style="color:#2e2a4a"><a href="#104615" label="[10:46:15]">&lt;fossy&gt;</a></span><span class="message">there's something wrong with the build process for tcc, but not with the mes its building tcc with because I tried building mes again with that mes and it worked</span></div><div class="line" id="111854"><span class="nick" style="color:#6d2462"><a href="#111854" label="[11:18:54]">&lt;rain1&gt;</a></span><span class="message">hello</span></div><div class="line" id="121537"><span class="nick" style="color:#8dd3c7"><a href="#121537" label="[12:15:37]">&lt;oriansj&gt;</a></span><span class="message">hey rain1</span></div><div class="line" id="121601"><span class="nick" style="color:#8dd3c7"><a href="#121601" label="[12:16:01]">&lt;oriansj&gt;</a></span><span class="message">fossy: good to hear that you are making solid progress</span></div><div class="line" id="121712"><span class="nick" style="color:#6d2462"><a href="#121712" label="[12:17:12]">&lt;rain1&gt;</a></span><span class="message">hello</span></div><div class="line" id="122057"><span class="nick" style="color:#8dd3c7"><a href="#122057" label="[12:20:57]">&lt;oriansj&gt;</a></span><span class="message">how are things for you?</span></div><div class="line" id="134916"><span class="nick" style="color:#234e69"><a href="#134916" label="[13:49:16]">&lt;civodul&gt;</a></span><span class="message">howdy!</span></div><div class="line" id="134918"><span class="nick" style="color:#234e69"><a href="#134918" label="[13:49:18]">&lt;civodul&gt;</a></span><span class="message">janneke: hey, what are your plans regarding a post/press release for the &quot;DDC&quot; work?</span></div><div class="line" id="151915"><span class="nick" style="color:#80b1d3"><a href="#151915" label="[15:19:15]">&lt;janneke&gt;</a></span><span class="message">civodul: i am counting on having delegated that to vagrantc</span></div><div class="line" id="151932"><span class="nick" style="color:#80b1d3"><a href="#151932" label="[15:19:32]">&lt;janneke&gt;</a></span><span class="message">did he copy you on his mail to david wheeler?</span></div><div class="line" id="152022"><span class="nick" style="color:#80b1d3"><a href="#152022" label="[15:20:22]">&lt;janneke&gt;</a></span><span class="message">i haven't seen vagrantc in a while, a season's thing i'm sure</span></div><div class="line" id="154454"><span class="nick" style="color:#234e69"><a href="#154454" label="[15:44:54]">&lt;civodul&gt;</a></span><span class="message">janneke: ah, i don't think i've seen that message, but it's great that vagrantc is taking care of it!</span></div><div class="line" id="154844"><span class="nick" style="color:#80b1d3"><a href="#154844" label="[15:48:44]">&lt;janneke&gt;</a></span><span class="message">civodul: to make the ddc part of it more interesting, i verified that we get the same mes binary hash when guile+mescc build mes</span></div><div class="line" id="161229"><span class="nick" style="color:#234e69"><a href="#161229" label="[16:12:29]">&lt;civodul&gt;</a></span><span class="message">janneke: neat</span></div><div class="line" id="213402"><span class="nick" style="color:#8dd3c7"><a href="#213402" label="[21:34:02]">&lt;oriansj&gt;</a></span><span class="message">well it is offical, mes-m2 finally has its first garbage collection bug</span></div><div class="line" id="213513"><span class="nick" style="color:#2e2a4a"><a href="#213513" label="[21:35:13]">&lt;fossy&gt;</a></span><span class="message">oof</span></div><div class="line" id="213517"><span class="nick" style="color:#2e2a4a"><a href="#213517" label="[21:35:17]">&lt;fossy&gt;</a></span><span class="message">what is it</span></div><div class="line" id="213636"><span class="nick" style="color:#8dd3c7"><a href="#213636" label="[21:36:36]">&lt;oriansj&gt;</a></span><span class="message">well that is the hard part about  garbage collection bugs in interpreters, it is usually something you didn't think about that gets you</span></div><div class="line" id="213808"><span class="nick" style="color:#8dd3c7"><a href="#213808" label="[21:38:08]">&lt;oriansj&gt;</a></span><span class="message">it occurred when I added a 1 line change to module/mes/boot-0.scm</span></div><div class="line" id="213835"><span class="nick" style="color:#8dd3c7"><a href="#213835" label="[21:38:35]">&lt;oriansj&gt;</a></span><span class="message">speaking of which janneke you'll be happy to see the new mes_eval.c (that comes with the latest commit)</span></div><div class="line" id="213902"><span class="nick" style="color:#80b1d3"><a href="#213902" label="[21:39:02]">&lt;janneke&gt;</a></span><span class="message">a first gc bug, congrats! ;-)</span></div><div class="line" id="213930"><span class="nick" style="color:#80b1d3"><a href="#213930" label="[21:39:30]">&lt;janneke&gt;</a></span><span class="message">sure, i'll have a look later -- thanks!</span></div><div class="line" id="213934"><span class="nick" style="color:#8dd3c7"><a href="#213934" label="[21:39:34]">&lt;oriansj&gt;</a></span><span class="message">janneke: after I got mes-m2 tail call form</span></div><div class="line" id="213935"><span class="nick" style="color:#6b8072"><a href="#213935" label="[21:39:35]">*</a></span><span class="message">janneke needs to make some calls</span></div><div class="line" id="213947"><span class="nick" style="color:#80b1d3"><a href="#213947" label="[21:39:47]">&lt;janneke&gt;</a></span><span class="message">haha</span></div><div class="line" id="214013"><span class="nick" style="color:#8dd3c7"><a href="#214013" label="[21:40:13]">&lt;oriansj&gt;</a></span><span class="message">which means I can cheat off of mes.c's implementation a bit</span></div><div class="line" id="214238"><span class="nick" style="color:#6c3d55"><a href="#214238" label="[21:42:38]">&lt;pder&gt;</a></span><span class="message">oriansj: I fixed a few things that broke in mescc-tools-seed since the latest changes in M2-Planet.  I sent you a pull request on github</span></div><div class="line" id="214314"><span class="nick" style="color:#8dd3c7"><a href="#214314" label="[21:43:14]">&lt;oriansj&gt;</a></span><span class="message">pder: thank you</span></div><div class="line" id="214526"><span class="nick" style="color:#8dd3c7"><a href="#214526" label="[21:45:26]">&lt;oriansj&gt;</a></span><span class="message">pder: looks good, merging now</span></div><div class="line" id="214707"><span class="nick" style="color:#6c3d55"><a href="#214707" label="[21:47:07]">&lt;pder&gt;</a></span><span class="message">great, thank you</span></div><div class="line" id="215530"><span class="nick" style="color:#2e2a4a"><a href="#215530" label="[21:55:30]">&lt;fossy&gt;</a></span><span class="message">hey oriansj, where is kaem developed at the moment? i see it in mescc-tools and it's own kaem repository</span></div><div class="line" id="215706"><span class="nick" style="color:#8dd3c7"><a href="#215706" label="[21:57:06]">&lt;oriansj&gt;</a></span><span class="message">fossy: primarily it is done in mescc-tools (I'll probably pull the seperate kaem repo to avoid confusion)</span></div><div class="line" id="215712"><span class="nick" style="color:#2e2a4a"><a href="#215712" label="[21:57:12]">&lt;fossy&gt;</a></span><span class="message">ok</span></div><div class="line" id="215936"><span class="nick" style="color:#8dd3c7"><a href="#215936" label="[21:59:36]">&lt;oriansj&gt;</a></span><span class="message">it is probably one of the most neglected tools of the set (save for exec_enable which is probably just going to be pulled entirely)</span></div><div class="line" id="220043"><span class="nick" style="color:#2e2a4a"><a href="#220043" label="[22:00:43]">&lt;fossy&gt;</a></span><span class="message">yeah</span></div><div class="line" id="220054"><span class="nick" style="color:#2e2a4a"><a href="#220054" label="[22:00:54]">&lt;fossy&gt;</a></span><span class="message">i would like to add environment variable support to it and conditional execution</span></div><div class="line" id="220113"><span class="nick" style="color:#8dd3c7"><a href="#220113" label="[22:01:13]">&lt;oriansj&gt;</a></span><span class="message">sure, I'd be happy to have it</span></div><div class="line" id="220148"><span class="nick" style="color:#2e2a4a"><a href="#220148" label="[22:01:48]">&lt;fossy&gt;</a></span><span class="message">for environment variable support i was just thinking as-per-normal VAR=xyz</span></div><div class="line" id="220206"><span class="nick" style="color:#2e2a4a"><a href="#220206" label="[22:02:06]">&lt;fossy&gt;</a></span><span class="message">(ie a line saying VAR=xyz to declare the variable)</span></div><div class="line" id="220252"><span class="nick" style="color:#2e2a4a"><a href="#220252" label="[22:02:52]">&lt;fossy&gt;</a></span><span class="message">conditional execution i was thinking if command == return_code</span></div><div class="line" id="220309"><span class="nick" style="color:#2e2a4a"><a href="#220309" label="[22:03:09]">&lt;fossy&gt;</a></span><span class="message">and ending with fi</span></div><div class="line" id="220314"><span class="nick" style="color:#2e2a4a"><a href="#220314" label="[22:03:14]">&lt;fossy&gt;</a></span><span class="message">similar to shell scripting</span></div><div class="line" id="220331"><span class="nick" style="color:#8dd3c7"><a href="#220331" label="[22:03:31]">&lt;oriansj&gt;</a></span><span class="message">fossy: might as well make the syntax compatible</span></div><div class="line" id="220343"><span class="nick" style="color:#2e2a4a"><a href="#220343" label="[22:03:43]">&lt;fossy&gt;</a></span><span class="message">yeah, ok</span></div><div class="line" id="220351"><span class="nick" style="color:#2e2a4a"><a href="#220351" label="[22:03:51]">&lt;fossy&gt;</a></span><span class="message">hm, let me look into it</span></div><div class="line" id="220411"><span class="nick" style="color:#2e2a4a"><a href="#220411" label="[22:04:11]">&lt;fossy&gt;</a></span><span class="message">because the = functionality seems to be provided by test on a full-fledged system</span></div><div class="line" id="220421"><span class="nick" style="color:#2e2a4a"><a href="#220421" label="[22:04:21]">&lt;fossy&gt;</a></span><span class="message">i wonder what the shell in and of itself does</span></div><div class="line" id="220425"><span class="nick" style="color:#8dd3c7"><a href="#220425" label="[22:04:25]">&lt;oriansj&gt;</a></span><span class="message">well the hard part will be adding the setenv primitive to M2-Planet</span></div><div class="line" id="220446"><span class="nick" style="color:#2e2a4a"><a href="#220446" label="[22:04:46]">&lt;fossy&gt;</a></span><span class="message">i figured that</span></div><div class="line" id="220644"><span class="nick" style="color:#8dd3c7"><a href="#220644" label="[22:06:44]">&lt;oriansj&gt;</a></span><span class="message">but take your time and I am sure you'll do great</span></div><div class="line" id="221054"><span class="nick" style="color:#2e2a4a"><a href="#221054" label="[22:10:54]">&lt;fossy&gt;</a></span><span class="message">oriansj: hm, now that I look at the stuff relating to envp in kaem, i can't really tell why M2-Planet needs to be altered? it already passes envp to execve, can't it just eval the VAR=42 string and set that in envp, and then shouldn't it pass VAR to the subprocess (through execve)?</span></div><div class="line" id="221437"><span class="nick" style="color:#8dd3c7"><a href="#221437" label="[22:14:37]">&lt;oriansj&gt;</a></span><span class="message">fossy: It absolutely could</span></div><div class="line" id="221526"><span class="nick" style="color:#2e2a4a"><a href="#221526" label="[22:15:26]">&lt;fossy&gt;</a></span><span class="message">cool. so then what would be the purpose of setenv? can't find a getenv anywhere in M2-Planet</span></div><div class="line" id="221647"><span class="nick" style="color:#8dd3c7"><a href="#221647" label="[22:16:47]">&lt;oriansj&gt;</a></span><span class="message">M2-Planet doesn't read/write the environment; if you however are writing the functionality of setenv to match that of the classic C version (might as well put it in M2-Planet)</span></div><div class="line" id="222059"><span class="nick" style="color:#8dd3c7"><a href="#222059" label="[22:20:59]">&lt;oriansj&gt;</a></span><span class="message">but it isn't ultimately required</span></div><div class="line" id="222106"><span class="nick" style="color:#2e2a4a"><a href="#222106" label="[22:21:06]">&lt;fossy&gt;</a></span><span class="message">ok. to start off with i'll just do envars in kaem and if i feel tempted i'll write setenv/getenv for M2-Planet</span></div><div class="line" id="222132"><span class="nick" style="color:#8dd3c7"><a href="#222132" label="[22:21:32]">&lt;oriansj&gt;</a></span><span class="message">if not, no worries</span></div><div class="line" id="222354"><span class="nick" style="color:#2e2a4a"><a href="#222354" label="[22:23:54]">&lt;fossy&gt;</a></span><span class="message">i don't get how you implement setenv without having the user pass through envp</span></div><div class="line" id="222403"><span class="nick" style="color:#2e2a4a"><a href="#222403" label="[22:24:03]">&lt;fossy&gt;</a></span><span class="message">having the program*</span></div><div class="line" id="223252"><span class="nick" style="color:#2e2a4a"><a href="#223252" label="[22:32:52]">&lt;fossy&gt;</a></span><span class="message">on another note, please take a look at <a rel="nofollow" href="https://github.com/fosslinux/mescc-tools-seed.">https://github.com/fosslinux/mescc-tools-seed.</a>  Phase 14 is fully working (compiling mes from mes-seed) however it currently has an external dependency on sh and coreutils :( because i need envar support in kaem (so I'll do that before moving on) and i might make some kind of coreutils implementation in M2-Planet to remove those dependencies</span></div><div class="line" id="230145"><span class="nick" style="color:#d9d9d9"><a href="#230145" label="[23:01:45]">&lt;Hagfish&gt;</a></span><span class="message">coreutils in M2-Planet.  nice!</span></div><div class="line" id="230222"><span class="nick" style="color:#d9d9d9"><a href="#230222" label="[23:02:22]">&lt;Hagfish&gt;</a></span><span class="message">obviously, work on these things in whatever order makes the most sense and suits you best</span></div><div class="line" id="230324"><span class="nick" style="color:#d9d9d9"><a href="#230324" label="[23:03:24]">&lt;Hagfish&gt;</a></span><span class="message">heh, i just noticed a fun typo</span></div><div class="line" id="230334"><span class="nick" style="color:#d9d9d9"><a href="#230334" label="[23:03:34]">&lt;Hagfish&gt;</a></span><span class="message">&quot;without referencing any eternal programs&quot;</span></div><div class="line" id="230342"><span class="nick" style="color:#d9d9d9"><a href="#230342" label="[23:03:42]">&lt;Hagfish&gt;</a></span><span class="message">nothing lasts forever, i guess :)</span></div><div class="line" id="230639"><span class="nick" style="color:#2e2a4a"><a href="#230639" label="[23:06:39]">&lt;fossy&gt;</a></span><span class="message">external* haha</span></div><div class="line" id="230648"><span class="nick" style="color:#2e2a4a"><a href="#230648" label="[23:06:48]">&lt;fossy&gt;</a></span><span class="message">Hagfish: i don't plan to implement /all/ of coreuitls</span></div><div class="line" id="230705"><span class="nick" style="color:#2e2a4a"><a href="#230705" label="[23:07:05]">&lt;fossy&gt;</a></span><span class="message">just for the moment cp, rm, mv, pwd and basename</span></div><div class="line" id="230714"><span class="nick" style="color:#2e2a4a"><a href="#230714" label="[23:07:14]">&lt;fossy&gt;</a></span><span class="message">because those are the only ones needed</span></div><br /></div></body></html>