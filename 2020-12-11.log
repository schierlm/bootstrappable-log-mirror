<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2020-12-11.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="021922"><span class="nick">***</span><span class="message notice">scs is now known as Guest54828</span></div><div class="line" id="031123"><span class="nick" style="color:#8dd3c7"><a href="#031123" label="[03:11:23]">&lt;siraben&gt;</a></span><span class="message">pder: sure thing, the key is `maybe undefined showInt (mlookup (fst $ last qas) tab)`, this means look up (fst (last qas)) in tab, which is a map. This returns an optional value so the maybe function returns undefined if the value is Nothing, and showInt otherwise.</span></div><div class="line" id="031401"><span class="nick" style="color:#8dd3c7"><a href="#031401" label="[03:14:01]">&lt;siraben&gt;</a></span><span class="message">looks like he is using difference lists to represent the strings. This encoding means that a difference list of chars `s` isn't of type String but String -&gt; String, it is a function that prepends the contents of s. This means that concatenation can be done in O(1) time by function composition</span></div><div class="line" id="150827"><span class="nick" style="color:#2e2a4a"><a href="#150827" label="[15:08:27]">&lt;pder&gt;</a></span><span class="message">Thanks siraben.  I think that we can probably build up to the virtually step of blynn-compiler using our existing vm, and rts.c wont be needed.  The only inputs we need for each step are the prog array and the value for rts_reduce.  From virtually on, I haven't figured out the best approach.  It might mean changing some of the C code generated by the hs files to be suitable for M2-Planet</span></div><div class="line" id="151010"><span class="nick" style="color:#8dd3c7"><a href="#151010" label="[15:10:10]">&lt;siraben&gt;</a></span><span class="message">Ok. I understand the how the C code generation works (it's just list traversal and string concatenation), so let me know how you want it transformed.</span></div><div class="line" id="151201"><span class="nick" style="color:#2e2a4a"><a href="#151201" label="[15:12:01]">&lt;pder&gt;</a></span><span class="message">Cool, thanks!</span></div><div class="line" id="164629"><span class="nick" style="color:#2e2a4a"><a href="#164629" label="[16:46:29]">&lt;pder&gt;</a></span><span class="message">siraben, I tried out your patch for effectively.hs.  That works really nicely, and will be very useful.  Is there a debugger you use with ghc for tracing through code?</span></div><div class="line" id="165533"><span class="nick">***</span><span class="message notice">ChanServ sets mode: +o rekado_</span></div><div class="line" id="165534"><span class="nick">***</span><span class="message notice">rekado_ is now known as rekado</span></div><div class="line" id="170137"><span class="nick" style="color:#8dd3c7"><a href="#170137" label="[17:01:37]">&lt;siraben&gt;</a></span><span class="message">pder: I usually use the REPL for debugging, try it out with ghci effectively.hs, or ghci then type :l effectively\n to load, then reload with :r</span></div><div class="line" id="170211"><span class="nick" style="color:#8dd3c7"><a href="#170211" label="[17:02:11]">&lt;siraben&gt;</a></span><span class="message">you can set breakpoints and such in GHCi <a rel="nofollow" href="https://wiki.haskell.org/Debugging">https://wiki.haskell.org/Debugging</a> </span></div><div class="line" id="170848"><span class="nick" style="color:#2e2a4a"><a href="#170848" label="[17:08:48]">&lt;pder&gt;</a></span><span class="message">thanks.  I noticed the output of effectively &lt; lonely.hs is different with respect to prog and the rts_reduce, but I think that is due to the fact that bin/raw is not loaded first</span></div><div class="line" id="180139"><span class="nick" style="color:#2e2a4a"><a href="#180139" label="[18:01:39]">&lt;pder&gt;</a></span><span class="message">I tried applying your patch to lonely and was able to fix a few compilation errors, but am not sure how to proceed.  <a rel="nofollow" href="https://paste.debian.net/1176506/">https://paste.debian.net/1176506/</a> </span></div><div class="line" id="180156"><span class="nick" style="color:#2e2a4a"><a href="#180156" label="[18:01:56]">&lt;pder&gt;</a></span><span class="message">*lonely.hs</span></div><div class="line" id="185505"><span class="nick" style="color:#8dd3c7"><a href="#185505" label="[18:55:05]">&lt;siraben&gt;</a></span><span class="message">pder: ah that will require a modified patch</span></div><div class="line" id="185514"><span class="nick" style="color:#8dd3c7"><a href="#185514" label="[18:55:14]">&lt;siraben&gt;</a></span><span class="message">i'll take a look tomorrow</span></div><div class="line" id="191105"><span class="nick" style="color:#2e2a4a"><a href="#191105" label="[19:11:05]">&lt;pder&gt;</a></span><span class="message">siraben: thanks!</span></div><div class="line" id="215316"><span class="nick">***</span><span class="message notice">scs is now known as Guest45799</span></div><div class="line" id="235844"><span class="nick">***</span><span class="message notice">scs is now known as Guest76722</span></div><br /></div></body></html>