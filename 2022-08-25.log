<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2022-08-25.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000406"><span class="nick" style="color:#389600"><a href="#000406" label="[00:04:06]">&lt;acrow&gt;</a></span><span class="message">oriansj: ack.</span></div><div class="line" id="002546"><span class="nick" style="color:#2e2a4a"><a href="#002546" label="[00:25:46]">&lt;muurkha&gt;</a></span><span class="message">oriansj: interesting!</span></div><div class="line" id="020301"><span class="nick" style="color:#6b8072"><a href="#020301" label="[02:03:01]">&lt;rickmasters&gt;</a></span><span class="message">I'm pleased to announce that I just built tcc-0.9.26 on the builder-hex0 bootstrap kernel!</span></div><div class="line" id="020402"><span class="nick" style="color:#6b8072"><a href="#020402" label="[02:04:02]">&lt;rickmasters&gt;</a></span><span class="message">I had to implement loading multiple ELF program segments in the kernel and apply one small patch to the tcc code.</span></div><div class="line" id="020430"><span class="nick" style="color:#6b8072"><a href="#020430" label="[02:04:30]">&lt;rickmasters&gt;</a></span><span class="message">tcc builds itself in 5 phases so it appears to be fully working.</span></div><div class="line" id="020441"><span class="nick" style="color:#80b1d3"><a href="#020441" label="[02:04:41]">&lt;oriansj&gt;</a></span><span class="message">acrow: syn-ack</span></div><div class="line" id="020502"><span class="nick" style="color:#80b1d3"><a href="#020502" label="[02:05:02]">&lt;oriansj&gt;</a></span><span class="message">rickmasters: holy crap!</span></div><div class="line" id="020618"><span class="nick" style="color:#80b1d3"><a href="#020618" label="[02:06:18]">&lt;oriansj&gt;</a></span><span class="message">That brings us to a whole new era of bootstrapping</span></div><div class="line" id="020622"><span class="nick" style="color:#2e2a4a"><a href="#020622" label="[02:06:22]">&lt;muurkha&gt;</a></span><span class="message">congratulations rickmasters!</span></div><div class="line" id="020640"><span class="nick" style="color:#2e2a4a"><a href="#020640" label="[02:06:40]">&lt;muurkha&gt;</a></span><span class="message">that's great news!</span></div><div class="line" id="020703"><span class="nick" style="color:#80b1d3"><a href="#020703" label="[02:07:03]">&lt;oriansj&gt;</a></span><span class="message">as TCC can build actual C kernels without a bunch of extra hoops</span></div><div class="line" id="020739"><span class="nick" style="color:#80b1d3"><a href="#020739" label="[02:07:39]">&lt;oriansj&gt;</a></span><span class="message">even some standard filesystem tools</span></div><div class="line" id="020811"><span class="nick" style="color:#80b1d3"><a href="#020811" label="[02:08:11]">&lt;oriansj&gt;</a></span><span class="message">infact most of the things aggi has been working on</span></div><div class="line" id="020859"><span class="nick" style="color:#6b8072"><a href="#020859" label="[02:08:59]">&lt;rickmasters&gt;</a></span><span class="message">Thanks all. I'll need to clean up a bit, remove debugging, etc, and will try to commit my changes soon.</span></div><div class="line" id="020913"><span class="nick" style="color:#80b1d3"><a href="#020913" label="[02:09:13]">&lt;oriansj&gt;</a></span><span class="message">rickmasters: I really look forward to it ^_^</span></div><div class="line" id="021245"><span class="nick" style="color:#2e2a4a"><a href="#021245" label="[02:12:45]">&lt;muurkha&gt;</a></span><span class="message">very exciting!</span></div><div class="line" id="024726"><span class="nick" style="color:#6d2462"><a href="#024726" label="[02:47:26]">&lt;stikonas[m]&gt;</a></span><span class="message">Nice!</span></div><div class="line" id="024756"><span class="nick" style="color:#6d2462"><a href="#024756" label="[02:47:56]">&lt;stikonas[m]&gt;</a></span><span class="message">rickmasters: you probably won't need it by I tried creating easier to use M1 defines</span></div><div class="line" id="024809"><span class="nick" style="color:#6d2462"><a href="#024809" label="[02:48:09]">&lt;stikonas[m]&gt;</a></span><span class="message">After you were complaining</span></div><div class="line" id="024830"><span class="nick" style="color:#6b8072"><a href="#024830" label="[02:48:30]">&lt;rickmasters&gt;</a></span><span class="message">yes, I saw that and I think they were much better. Thank you!</span></div><div class="line" id="025001"><span class="nick" style="color:#6d2462"><a href="#025001" label="[02:50:01]">&lt;stikonas[m]&gt;</a></span><span class="message">Somebody could try to port them to stage0-posix</span></div><div class="line" id="025013"><span class="nick" style="color:#6d2462"><a href="#025013" label="[02:50:13]">&lt;stikonas[m]&gt;</a></span><span class="message">I don't think I'll have time</span></div><div class="line" id="025029"><span class="nick" style="color:#6d2462"><a href="#025029" label="[02:50:29]">&lt;stikonas[m]&gt;</a></span><span class="message">Will be busy with stage0-uefi for a while</span></div><div class="line" id="025243"><span class="nick" style="color:#6d2462"><a href="#025243" label="[02:52:43]">&lt;stikonas[m]&gt;</a></span><span class="message">I don't think I'll get to M0.efi until end of September</span></div><div class="line" id="025842"><span class="nick" style="color:#6b8072"><a href="#025842" label="[02:58:42]">&lt;rickmasters&gt;</a></span><span class="message">honestly, I'm not sure I have the motivation but I'll think about it.</span></div><div class="line" id="025939"><span class="nick" style="color:#6b8072"><a href="#025939" label="[02:59:39]">&lt;rickmasters&gt;</a></span><span class="message">oriansj: would you be ok with the wholesale replacement of the M0 defines in stage0-posix?</span></div><div class="line" id="031032"><span class="nick" style="color:#6d2462"><a href="#031032" label="[03:10:32]">&lt;stikonas[m]&gt;</a></span><span class="message">Unfortunately it can't be done by just find/replace as it messes up formatting</span></div><div class="line" id="031140"><span class="nick" style="color:#6d2462"><a href="#031140" label="[03:11:40]">&lt;stikonas[m]&gt;</a></span><span class="message">In any case it is up to oriansj to decide whether to keep current ones or switch</span></div><div class="line" id="031320"><span class="nick" style="color:#234e69"><a href="#031320" label="[03:13:20]">&lt;pabs3&gt;</a></span><span class="message">acrow: roptat was working on scala bootstrap btw</span></div><div class="line" id="031532"><span class="nick" style="color:#6d2462"><a href="#031532" label="[03:15:32]">&lt;stikonas[m]&gt;</a></span><span class="message">And rekado tried ghc bootstrap but I guess hit problems</span></div><div class="line" id="032200"><span class="nick" style="color:#80b1d3"><a href="#032200" label="[03:22:00]">&lt;oriansj&gt;</a></span><span class="message">rickmasters: yeah that is fine</span></div><div class="line" id="032238"><span class="nick" style="color:#80b1d3"><a href="#032238" label="[03:22:38]">&lt;oriansj&gt;</a></span><span class="message">the current ones were just a quick sort of creation and not something planned out</span></div><div class="line" id="032323"><span class="nick" style="color:#80b1d3"><a href="#032323" label="[03:23:23]">&lt;oriansj&gt;</a></span><span class="message">so if replacing them with better is an option and someone is willing to do that, I'll appreciate the help.</span></div><div class="line" id="032656"><span class="nick" style="color:#80b1d3"><a href="#032656" label="[03:26:56]">&lt;oriansj&gt;</a></span><span class="message">well find/replace could get it 90% done and a little work in an editor that shows whitespace could finish off the rest in a half hour.</span></div><div class="line" id="051547"><span class="nick" style="color:#6c3d55"><a href="#051547" label="[05:15:47]">&lt;Hagfish&gt;</a></span><span class="message">i was here! :)</span></div><div class="line" id="051618"><span class="nick" style="color:#6c3d55"><a href="#051618" label="[05:16:18]">&lt;Hagfish&gt;</a></span><span class="message">heh, a bit late, but i want to be able to tell people i witnessed the announcement :)</span></div><div class="line" id="051748"><span class="nick" style="color:#6c3d55"><a href="#051748" label="[05:17:48]">&lt;Hagfish&gt;</a></span><span class="message">as orians said, tcc is a huge milestone for a kernel, since it unlocks the ability to use kernels which are much more conventional</span></div><div class="line" id="051800"><span class="nick" style="color:#6c3d55"><a href="#051800" label="[05:18:00]">&lt;Hagfish&gt;</a></span><span class="message">anyway, this is a great day for bootstrappers, and thus for all users of software</span></div><div class="line" id="052324"><span class="nick" style="color:#d9d9d9"><a href="#052324" label="[05:23:24]">&lt;aggi&gt;</a></span><span class="message">oriansj: i fully replaced the entire GNU toolchain with tcc, in userspace</span></div><div class="line" id="052410"><span class="nick" style="color:#d9d9d9"><a href="#052410" label="[05:24:10]">&lt;aggi&gt;</a></span><span class="message">however, i gave up on libc recently... there isn't any without vendor-specific and GNU gas specific ASM extension clutter</span></div><div class="line" id="052512"><span class="nick" style="color:#d9d9d9"><a href="#052512" label="[05:25:12]">&lt;aggi&gt;</a></span><span class="message">with arm-tcc, which couldn't digest any of the libc i tried (musl, uclibc, dietlibc), this raised awareness, how critical and difficult this problem is</span></div><div class="line" id="052515"><span class="nick" style="color:#d9d9d9"><a href="#052515" label="[05:25:15]">&lt;aggi&gt;</a></span><span class="message">to cope with</span></div><div class="line" id="052535"><span class="nick" style="color:#d9d9d9"><a href="#052535" label="[05:25:35]">&lt;aggi&gt;</a></span><span class="message">and i am not willing to lock into GNU binutils and gas</span></div><div class="line" id="052656"><span class="nick" style="color:#d9d9d9"><a href="#052656" label="[05:26:56]">&lt;aggi&gt;</a></span><span class="message">the tcc and musl-libc patches for i386 asm suffice for bootstrapping, however it's insufficient for the project idea i followed</span></div><div class="line" id="052845"><span class="nick" style="color:#6c3d55"><a href="#052845" label="[05:28:45]">&lt;Hagfish&gt;</a></span><span class="message">what candidates are there for a natural kernel that is written in simple C that tcc could compile?</span></div><div class="line" id="052917"><span class="nick" style="color:#d9d9d9"><a href="#052917" label="[05:29:17]">&lt;aggi&gt;</a></span><span class="message">linux kernel-2.4</span></div><div class="line" id="052930"><span class="nick" style="color:#6c3d55"><a href="#052930" label="[05:29:30]">&lt;Hagfish&gt;</a></span><span class="message">hmm, yeah, i guess so</span></div><div class="line" id="052943"><span class="nick" style="color:#d9d9d9"><a href="#052943" label="[05:29:43]">&lt;aggi&gt;</a></span><span class="message">not sure what you mean with &quot;natural&quot; kernel</span></div><div class="line" id="052954"><span class="nick" style="color:#6c3d55"><a href="#052954" label="[05:29:54]">&lt;Hagfish&gt;</a></span><span class="message">i mean something that fits with the other goals of bootstrapping</span></div><div class="line" id="053020"><span class="nick" style="color:#6c3d55"><a href="#053020" label="[05:30:20]">&lt;Hagfish&gt;</a></span><span class="message">like being auditable, familiar, and capable of building the next steps (including a modern linux kernel, i guess)</span></div><div class="line" id="053051"><span class="nick" style="color:#6c3d55"><a href="#053051" label="[05:30:51]">&lt;Hagfish&gt;</a></span><span class="message">nothing too esoteric, or that introduces lots of other dependencies</span></div><div class="line" id="053121"><span class="nick" style="color:#d9d9d9"><a href="#053121" label="[05:31:21]">&lt;aggi&gt;</a></span><span class="message">btw. i consider the libc situation at least as concerning as the kernel question</span></div><div class="line" id="053227"><span class="nick" style="color:#d9d9d9"><a href="#053227" label="[05:32:27]">&lt;aggi&gt;</a></span><span class="message">however, i was working at higher levels in userspace than bootstrappable down below does with their tiny loaders and stages</span></div><div class="line" id="053346"><span class="nick" style="color:#d9d9d9"><a href="#053346" label="[05:33:46]">&lt;aggi&gt;</a></span><span class="message">and as far as any libc was concerned, such as dietlibc, such required extensive re-writes/debugging of their ASM parts to pass without binutils-as</span></div><div class="line" id="053640"><span class="nick" style="color:#6c3d55"><a href="#053640" label="[05:36:40]">&lt;Hagfish&gt;</a></span><span class="message">aggi: yeah, the limitations of libc implementations does seem like it has lots of bad consequences</span></div><div class="line" id="053722"><span class="nick" style="color:#6c3d55"><a href="#053722" label="[05:37:22]">&lt;Hagfish&gt;</a></span><span class="message">not just for bootstrapping, but for portability in general?  and code quality?  and security?</span></div><div class="line" id="053739"><span class="nick" style="color:#d9d9d9"><a href="#053739" label="[05:37:39]">&lt;aggi&gt;</a></span><span class="message">dietlibc# find . | grep '\.S$' | cat -n -&gt; 695 files, and tcc assembler freaks out all over the place</span></div><div class="line" id="053803"><span class="nick" style="color:#d9d9d9"><a href="#053803" label="[05:38:03]">&lt;aggi&gt;</a></span><span class="message">Hagfish: i consider it an anti-competitive vendor-lock against GNU binutils and gas assembly extensions</span></div><div class="line" id="053859"><span class="nick" style="color:#d9d9d9"><a href="#053859" label="[05:38:59]">&lt;aggi&gt;</a></span><span class="message">and i greatly underestimated the severity, couldn't imagine a libc such as dietlibc wouldn't pass without binutils-as</span></div><div class="line" id="054056"><span class="nick" style="color:#d9d9d9"><a href="#054056" label="[05:40:56]">&lt;aggi&gt;</a></span><span class="message">problem isn't GNU binutils, problem is there isn't almost any piece of free software remaining without it</span></div><div class="line" id="054734"><span class="nick" style="color:#6c3d55"><a href="#054734" label="[05:47:34]">&lt;Hagfish&gt;</a></span><span class="message">i think developers often overlook the sort of ecosystem-level dynamics that their creations produce</span></div><div class="line" id="054805"><span class="nick" style="color:#6c3d55"><a href="#054805" label="[05:48:05]">&lt;Hagfish&gt;</a></span><span class="message">the obvious example is games or social media being addictive, although that's quite well understood now</span></div><div class="line" id="054821"><span class="nick" style="color:#6c3d55"><a href="#054821" label="[05:48:21]">&lt;Hagfish&gt;</a></span><span class="message">and i'm not just talking about the effects on users, but on other developers</span></div><div class="line" id="054848"><span class="nick" style="color:#6c3d55"><a href="#054848" label="[05:48:48]">&lt;Hagfish&gt;</a></span><span class="message">if a piece of software becomes useful, it affects other pieces of software that haven't even been written yet</span></div><div class="line" id="054904"><span class="nick" style="color:#6c3d55"><a href="#054904" label="[05:49:04]">&lt;Hagfish&gt;</a></span><span class="message">it changes the space of possible futures</span></div><div class="line" id="190120"><span class="nick" style="color:#bc80bd"><a href="#190120" label="[19:01:20]">&lt;roptat&gt;</a></span><span class="message">pabs3, I had to give up, too hard for me</span></div><div class="line" id="202359"><span class="nick" style="color:#389600"><a href="#202359" label="[20:23:59]">&lt;acrow&gt;</a></span><span class="message">roptat: After all the work put into bootstrapping Scala without success; it might be in JetBrain's best interest to assist.  Otherwise people might have difficulty considering it free software.  I understand difficulties with obscure, older peices of work but scala is actively developed and marketed as open-source.  It's kinda disappointing.</span></div><div class="line" id="203324"><span class="nick" style="color:#3c5b35"><a href="#203324" label="[20:33:24]">&lt;unmatched-paren&gt;</a></span><span class="message">acrow: Kotlin is the JetBrains thing, not Scala :)</span></div><div class="line" id="203845"><span class="nick" style="color:#389600"><a href="#203845" label="[20:38:45]">&lt;acrow&gt;</a></span><span class="message">unmatched-paren: Thank you for the correction.  I want to get that right, who is promoting scala?</span></div><div class="line" id="203909"><span class="nick" style="color:#3c5b35"><a href="#203909" label="[20:39:09]">&lt;unmatched-paren&gt;</a></span><span class="message">I think it's a standalone project organization</span></div><div class="line" id="203918"><span class="nick" style="color:#3c5b35"><a href="#203918" label="[20:39:18]">&lt;unmatched-paren&gt;</a></span><span class="message">no company directly backing it iiuc</span></div><div class="line" id="203926"><span class="nick" style="color:#389600"><a href="#203926" label="[20:39:26]">&lt;acrow&gt;</a></span><span class="message">I apparently owe JetBrains an apology.</span></div><div class="line" id="203931"><span class="nick" style="color:#bc80bd"><a href="#203931" label="[20:39:31]">&lt;roptat&gt;</a></span><span class="message">kotlin also is hard to bootstrap though</span></div><div class="line" id="204028"><span class="nick" style="color:#3c5b35"><a href="#204028" label="[20:40:28]">&lt;unmatched-paren&gt;</a></span><span class="message">^</span></div><div class="line" id="204520"><span class="nick" style="color:#389600"><a href="#204520" label="[20:45:20]">&lt;acrow&gt;</a></span><span class="message">I'm simply going to say I don't use either and the principles are the same.</span></div><div class="line" id="235505"><span class="nick" style="color:#d9d9d9"><a href="#235505" label="[23:55:05]">&lt;aggi&gt;</a></span><span class="message">could anyone recommend a tiny libc, which can be compiled/linked/assembled with tcc-toolchain (AS=arm-tcc for example)?</span></div><br /></div></body></html>