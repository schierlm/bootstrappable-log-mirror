<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2021-09-23.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000225"><span class="nick" style="color:#389600"><a href="#000225" label="[00:02:25]">&lt;stikonas&gt;</a></span><span class="message">cc_riscv64 can now compile M2-Planet but 1) M0 sometimes crashes on cc_riscv64 output M2.M1 (but not always), M1 always seems to work, so must be another bug in M0. 2) M2 binary segfaults fairly quickly, so probably some codegen bug in cc_riscv64</span></div><div class="line" id="000358"><span class="nick" style="color:#389600"><a href="#000358" label="[00:03:58]">&lt;stikonas&gt;</a></span><span class="message">oriansj: do you want a PR for what I have now?</span></div><div class="line" id="000408"><span class="nick" style="color:#389600"><a href="#000408" label="[00:04:08]">&lt;stikonas&gt;</a></span><span class="message">even though it can't yet compile M2-Planet?</span></div><div class="line" id="003639"><span class="nick" style="color:#389600"><a href="#003639" label="[00:36:39]">&lt;stikonas&gt;</a></span><span class="message">ok 2) seems to be crash in memset... hopefully I can reproduce it with something smaller than M2-Planet</span></div><div class="line" id="012317"><span class="nick" style="color:#2e2a4a"><a href="#012317" label="[01:23:17]">&lt;Hagfish&gt;</a></span><span class="message">it's impressive that you're already narrowing down the second issue, and the first issue's non-determinism sounds frustrating</span></div><div class="line" id="012945"><span class="nick" style="color:#6b8072"><a href="#012945" label="[01:29:45]">&lt;oriansj&gt;</a></span><span class="message">stikonas: well the easiest way to trace the problem is to get RISC-V support into M2-Planet</span></div><div class="line" id="013021"><span class="nick" style="color:#389600"><a href="#013021" label="[01:30:21]">&lt;stikonas&gt;</a></span><span class="message">yeah, if my current path does not lead to fix, then I can try that...</span></div><div class="line" id="013030"><span class="nick" style="color:#6b8072"><a href="#013030" label="[01:30:30]">&lt;oriansj&gt;</a></span><span class="message">as it'll reduce the possible problem space by producing M1 output you can directly compare against</span></div><div class="line" id="013041"><span class="nick" style="color:#389600"><a href="#013041" label="[01:30:41]">&lt;stikonas&gt;</a></span><span class="message">I suspect something is broken with [ ]</span></div><div class="line" id="013052"><span class="nick" style="color:#389600"><a href="#013052" label="[01:30:52]">&lt;stikonas&gt;</a></span><span class="message">at least I have a smaller reproducer...</span></div><div class="line" id="013154"><span class="nick" style="color:#6b8072"><a href="#013154" label="[01:31:54]">&lt;oriansj&gt;</a></span><span class="message">you can also use the M2-Planet tests to validate cc_* as well</span></div><div class="line" id="013218"><span class="nick" style="color:#389600"><a href="#013218" label="[01:32:18]">&lt;stikonas&gt;</a></span><span class="message">yeah, I might</span></div><div class="line" id="013237"><span class="nick" style="color:#389600"><a href="#013237" label="[01:32:37]">&lt;stikonas&gt;</a></span><span class="message">I did have some small tests too...</span></div><div class="line" id="013338"><span class="nick" style="color:#6b8072"><a href="#013338" label="[01:33:38]">&lt;oriansj&gt;</a></span><span class="message">You can also use M2-Planet on your  sample tests to get a feel for what it should kinda look like.</span></div><div class="line" id="013344"><span class="nick" style="color:#389600"><a href="#013344" label="[01:33:44]">&lt;stikonas&gt;</a></span><span class="message">also, M2-Planet already needs indirect branching (branch and jump)</span></div><div class="line" id="013403"><span class="nick" style="color:#389600"><a href="#013403" label="[01:34:03]">&lt;stikonas&gt;</a></span><span class="message">one while loop was outside B format range...</span></div><div class="line" id="013418"><span class="nick" style="color:#389600"><a href="#013418" label="[01:34:18]">&lt;stikonas&gt;</a></span><span class="message">but that was easy to fix</span></div><div class="line" id="013442"><span class="nick" style="color:#389600"><a href="#013442" label="[01:34:42]">&lt;stikonas&gt;</a></span><span class="message">risc-v binary code is almost double for AMD64...</span></div><div class="line" id="013455"><span class="nick" style="color:#389600"><a href="#013455" label="[01:34:55]">&lt;stikonas&gt;</a></span><span class="message">I guess because cc_* does a lot of stack operations</span></div><div class="line" id="013458"><span class="nick" style="color:#6b8072"><a href="#013458" label="[01:34:58]">&lt;oriansj&gt;</a></span><span class="message">the inability to proper range checks for hex2+M1  for RISC-V also make it a bit harder as well</span></div><div class="line" id="013504"><span class="nick" style="color:#389600"><a href="#013504" label="[01:35:04]">&lt;stikonas&gt;</a></span><span class="message">which need a separate instruction</span></div><div class="line" id="013527"><span class="nick" style="color:#389600"><a href="#013527" label="[01:35:27]">&lt;stikonas&gt;</a></span><span class="message">yeah, I sometimes double check with M1 and full hex2</span></div><div class="line" id="021537"><span class="nick" style="color:#80b1d3"><a href="#021537" label="[02:15:37]">&lt;xentrac&gt;</a></span><span class="message">pabs3: yeah, I think you can still buy the GA144, which has 144 18-bit computers in a 12Ã—12 array, lineal descendants of the MuP21.  except now they run at about 1GHz instead of 20MHz or whatever the MuP21 did</span></div><div class="line" id="021552"><span class="nick" style="color:#80b1d3"><a href="#021552" label="[02:15:52]">&lt;xentrac&gt;</a></span><span class="message">and you can't hook up external RAM to them, so they only have 64 words of RAM each</span></div><div class="line" id="021615"><span class="nick" style="color:#80b1d3"><a href="#021615" label="[02:16:15]">&lt;xentrac&gt;</a></span><span class="message">it's not very widely used</span></div><div class="line" id="021659"><span class="nick" style="color:#6d2462"><a href="#021659" label="[02:16:59]">&lt;pabs3&gt;</a></span><span class="message">seems that is GreenArrays</span></div><div class="line" id="021718"><span class="nick" style="color:#80b1d3"><a href="#021718" label="[02:17:18]">&lt;xentrac&gt;</a></span><span class="message">right</span></div><div class="line" id="021745"><span class="nick" style="color:#80b1d3"><a href="#021745" label="[02:17:45]">&lt;xentrac&gt;</a></span><span class="message">it's in this weird gap between FPGAs and microcontrollers, both of which get a lot of usage</span></div><div class="line" id="021816"><span class="nick" style="color:#80b1d3"><a href="#021816" label="[02:18:16]">&lt;xentrac&gt;</a></span><span class="message">but because you can't program it in either Verilog or C, it's really hard to use</span></div><div class="line" id="022537"><span class="nick" style="color:#6d2462"><a href="#022537" label="[02:25:37]">&lt;pabs3&gt;</a></span><span class="message">what kind of situations does GA144 get used in? almost zero RAM on a reasonably fast processor seems like a weird combo</span></div><div class="line" id="023155"><span class="nick" style="color:#80b1d3"><a href="#023155" label="[02:31:55]">&lt;xentrac&gt;</a></span><span class="message">I've only ever seen research papers and tech demos, never a mass product</span></div><div class="line" id="023245"><span class="nick" style="color:#80b1d3"><a href="#023245" label="[02:32:45]">&lt;xentrac&gt;</a></span><span class="message">the decision to leave out the multiplier was maybe not such a good one because otherwise it would be a great &quot;TPU&quot;</span></div><div class="line" id="025542"><span class="nick" style="color:#6b8072"><a href="#025542" label="[02:55:42]">&lt;oriansj&gt;</a></span><span class="message">stikonas: I just thought of a use for ^ in risc-v</span></div><div class="line" id="025637"><span class="nick" style="color:#6b8072"><a href="#025637" label="[02:56:37]">&lt;oriansj&gt;</a></span><span class="message">enabling and disabling range checks ^ -&gt; no range check; no ^ -&gt; range check with hand written hex2 treating ^ as a nop</span></div><div class="line" id="025738"><span class="nick" style="color:#234e69"><a href="#025738" label="[02:57:38]">&lt;stikonas[m]&gt;</a></span><span class="message">Why do we need to disable range check?</span></div><div class="line" id="032630"><span class="nick" style="color:#6b8072"><a href="#032630" label="[03:26:30]">&lt;oriansj&gt;</a></span><span class="message">if you want to do ~label aupic + $label lui to get a 32bit absolute address into a register</span></div><div class="line" id="032715"><span class="nick" style="color:#6b8072"><a href="#032715" label="[03:27:15]">&lt;oriansj&gt;</a></span><span class="message">as if it is out of range for the lui it would throw a range check violation</span></div><div class="line" id="043019"><span class="nick" style="color:#6b8072"><a href="#043019" label="[04:30:19]">&lt;oriansj&gt;</a></span><span class="message"> <a rel="nofollow" href="https://paste.debian.net/1212919/">https://paste.debian.net/1212919/</a>   well it looks like my talk proposal was rejected.</span></div><div class="line" id="043229"><span class="nick" style="color:#6d2462"><a href="#043229" label="[04:32:29]">&lt;pabs3&gt;</a></span><span class="message">Lightning Talk seems worth doing</span></div><div class="line" id="043350"><span class="nick" style="color:#6d2462"><a href="#043350" label="[04:33:50]">&lt;pabs3&gt;</a></span><span class="message">are you submitting to other conferences too? for eg <a rel="nofollow" href="https://linux.conf.au/">https://linux.conf.au/</a> </span></div><div class="line" id="043507"><span class="nick" style="color:#6b8072"><a href="#043507" label="[04:35:07]">&lt;oriansj&gt;</a></span><span class="message">I've submitted to a few over the last year. Thus far none have accepted; so clearly I am probably doing something very wrong.</span></div><div class="line" id="044053"><span class="nick" style="color:#6d2462"><a href="#044053" label="[04:40:53]">&lt;pabs3&gt;</a></span><span class="message">hmm, maybe get some tips from repro builds folks, they manage to get theirs accepted to lots of places</span></div><div class="line" id="044307"><span class="nick" style="color:#6b8072"><a href="#044307" label="[04:43:07]">&lt;oriansj&gt;</a></span><span class="message">perhaps their topic is just more relatable than hey We did some crazy shit, we think its cool and want to tell you about it.</span></div><div class="line" id="045539"><span class="nick" style="color:#6d2462"><a href="#045539" label="[04:55:39]">&lt;pabs3&gt;</a></span><span class="message">:)</span></div><div class="line" id="160518"><span class="nick" style="color:#2e2a4a"><a href="#160518" label="[16:05:18]">&lt;Hagfish&gt;</a></span><span class="message"> <a rel="nofollow" href="https://news.ycombinator.com/item?id=28618074">https://news.ycombinator.com/item?id=28618074</a> </span></div><div class="line" id="160556"><span class="nick" style="color:#2e2a4a"><a href="#160556" label="[16:05:56]">&lt;Hagfish&gt;</a></span><span class="message">really glad to see the top comment there is &quot;we need bootstrappable, not just reproducible builds&quot; and the top reply is &quot;we have them, see bootstrappable.org&quot;</span></div><div class="line" id="161122"><span class="nick" style="color:#6c3d55"><a href="#161122" label="[16:11:22]">&lt;clemens3&gt;</a></span><span class="message">the argument is always with each and every new self dependent language, you need a gcc binary as well.. but I could argue, i use linux since 0.03 back in the day when it was done with assembler and since then i always used my own stuff, now how do I use a new language without first installing a blob.. if that is not given, a new project should be rejected.. easier said then done, thought..</span></div><div class="line" id="161124"><span class="nick" style="color:#6c3d55"><a href="#161124" label="[16:11:24]">&lt;clemens3&gt;</a></span><span class="message">rust now is needed for librsvg which is needed for goffice and then all bigger packages.. like epiphany</span></div><div class="line" id="161142"><span class="nick" style="color:#6c3d55"><a href="#161142" label="[16:11:42]">&lt;clemens3&gt;</a></span><span class="message">rustc points to ocaml which needs ocaml by now as well</span></div><div class="line" id="161222"><span class="nick" style="color:#6c3d55"><a href="#161222" label="[16:12:22]">&lt;clemens3&gt;</a></span><span class="message">and some poor lonely guy is doing the mrustc meanwhile, which builds on some setups, but not on mine so far..</span></div><div class="line" id="161246"><span class="nick" style="color:#389600"><a href="#161246" label="[16:12:46]">&lt;stikonas&gt;</a></span><span class="message">clemens3: well, ocaml is bootstrapped</span></div><div class="line" id="161253"><span class="nick" style="color:#6c3d55"><a href="#161253" label="[16:12:53]">&lt;clemens3&gt;</a></span><span class="message">heh, mrusty</span></div><div class="line" id="161303"><span class="nick" style="color:#389600"><a href="#161303" label="[16:13:03]">&lt;stikonas&gt;</a></span><span class="message">but yes, mrustc is a much quicker path</span></div><div class="line" id="161329"><span class="nick" style="color:#389600"><a href="#161329" label="[16:13:29]">&lt;stikonas&gt;</a></span><span class="message">ocaml -&gt; rustc path by now is really long and probably not easy to do on modern systems</span></div><div class="line" id="161334"><span class="nick" style="color:#6c3d55"><a href="#161334" label="[16:13:34]">&lt;clemens3&gt;</a></span><span class="message">yeah, but bootstrapped means, some guy did it once.. is still, where is my source.tar with a build.sh script that then really runs..</span></div><div class="line" id="161353"><span class="nick" style="color:#6c3d55"><a href="#161353" label="[16:13:53]">&lt;clemens3&gt;</a></span><span class="message">i know, i am dreaming</span></div><div class="line" id="161355"><span class="nick" style="color:#389600"><a href="#161355" label="[16:13:55]">&lt;stikonas&gt;</a></span><span class="message">well yeah, ocaml build takes like 12hours or so...</span></div><div class="line" id="161422"><span class="nick" style="color:#6c3d55"><a href="#161422" label="[16:14:22]">&lt;clemens3&gt;</a></span><span class="message">on a fast processor.. my best machine at the moment is 4 cores 8 threads</span></div><div class="line" id="161517"><span class="nick" style="color:#6c3d55"><a href="#161517" label="[16:15:17]">&lt;clemens3&gt;</a></span><span class="message">soon without heavy epic processors or farms it will take months and years.. bloat is at the moment exponentially balloning</span></div><div class="line" id="161609"><span class="nick" style="color:#6c3d55"><a href="#161609" label="[16:16:09]">&lt;clemens3&gt;</a></span><span class="message">the LFS build with X and a browser is at least 18 hours.. that is ok and bearable, but I don't want to know 2-3 years out..</span></div><div class="line" id="161623"><span class="nick" style="color:#389600"><a href="#161623" label="[16:16:23]">&lt;stikonas&gt;</a></span><span class="message">well, building ungoogled-chromium on my laptop now takes the whole day</span></div><div class="line" id="161625"><span class="nick" style="color:#6c3d55"><a href="#161625" label="[16:16:25]">&lt;clemens3&gt;</a></span><span class="message">then a normal desktop won't do it anymore or you need weeks</span></div><div class="line" id="161639"><span class="nick" style="color:#6c3d55"><a href="#161639" label="[16:16:39]">&lt;clemens3&gt;</a></span><span class="message">yeah, which makes it really an issue</span></div><div class="line" id="161646"><span class="nick" style="color:#6c3d55"><a href="#161646" label="[16:16:46]">&lt;clemens3&gt;</a></span><span class="message">on several fronts</span></div><div class="line" id="161657"><span class="nick" style="color:#6c3d55"><a href="#161657" label="[16:16:57]">&lt;clemens3&gt;</a></span><span class="message">because we don't get 50 or 100% more service</span></div><div class="line" id="161714"><span class="nick" style="color:#6c3d55"><a href="#161714" label="[16:17:14]">&lt;clemens3&gt;</a></span><span class="message">still just simple html with a bunch of javascript, movies did run already years ago in a browser</span></div><div class="line" id="161737"><span class="nick" style="color:#6c3d55"><a href="#161737" label="[16:17:37]">&lt;clemens3&gt;</a></span><span class="message">so what does give rust to firefox, just some self gratification, nothing for the rest</span></div><div class="line" id="161755"><span class="nick" style="color:#389600"><a href="#161755" label="[16:17:55]">&lt;stikonas&gt;</a></span><span class="message">well, firefox itself builds much faster</span></div><div class="line" id="161759"><span class="nick" style="color:#389600"><a href="#161759" label="[16:17:59]">&lt;stikonas&gt;</a></span><span class="message">if you don't count rust</span></div><div class="line" id="161805"><span class="nick" style="color:#6c3d55"><a href="#161805" label="[16:18:05]">&lt;clemens3&gt;</a></span><span class="message">but you have to count it!</span></div><div class="line" id="161814"><span class="nick" style="color:#389600"><a href="#161814" label="[16:18:14]">&lt;stikonas&gt;</a></span><span class="message">but it's not every version of firefox</span></div><div class="line" id="161815"><span class="nick" style="color:#6c3d55"><a href="#161815" label="[16:18:15]">&lt;clemens3&gt;</a></span><span class="message">and if you count the bootstraps it is not 24 hours i guess</span></div><div class="line" id="161818"><span class="nick" style="color:#389600"><a href="#161818" label="[16:18:18]">&lt;stikonas&gt;</a></span><span class="message">that needs rust rebuilt</span></div><div class="line" id="161832"><span class="nick" style="color:#6c3d55"><a href="#161832" label="[16:18:32]">&lt;clemens3&gt;</a></span><span class="message">well, for 1-2 years it is necessary for my understanding</span></div><div class="line" id="161838"><span class="nick" style="color:#389600"><a href="#161838" label="[16:18:38]">&lt;stikonas&gt;</a></span><span class="message">yes, rustc from 1.39 to 1.5x probably takes 2 days or so</span></div><div class="line" id="161846"><span class="nick" style="color:#6c3d55"><a href="#161846" label="[16:18:46]">&lt;clemens3&gt;</a></span><span class="message">as said librsvg also needs rust,</span></div><div class="line" id="161850"><span class="nick" style="color:#389600"><a href="#161850" label="[16:18:50]">&lt;stikonas&gt;</a></span><span class="message">but mrustc at least for now is still keeping up</span></div><div class="line" id="161857"><span class="nick" style="color:#389600"><a href="#161857" label="[16:18:57]">&lt;stikonas&gt;</a></span><span class="message">yes, it needed it for a year or so</span></div><div class="line" id="161917"><span class="nick" style="color:#6c3d55"><a href="#161917" label="[16:19:17]">&lt;clemens3&gt;</a></span><span class="message">yes, which is ridiculous and in my eye is not open source anymore, if you can't build it, and you have a lot of dynamic downloads on the background..</span></div><div class="line" id="161942"><span class="nick" style="color:#389600"><a href="#161942" label="[16:19:42]">&lt;stikonas&gt;</a></span><span class="message">I don't think you need dynamic downloads on the background...</span></div><div class="line" id="161948"><span class="nick" style="color:#389600"><a href="#161948" label="[16:19:48]">&lt;stikonas&gt;</a></span><span class="message">for firefox..</span></div><div class="line" id="161952"><span class="nick" style="color:#6c3d55"><a href="#161952" label="[16:19:52]">&lt;clemens3&gt;</a></span><span class="message">yeah, just another horrible trend..</span></div><div class="line" id="162001"><span class="nick" style="color:#389600"><a href="#162001" label="[16:20:01]">&lt;stikonas&gt;</a></span><span class="message">well, in some ecosystems yes....</span></div><div class="line" id="162003"><span class="nick" style="color:#6c3d55"><a href="#162003" label="[16:20:03]">&lt;clemens3&gt;</a></span><span class="message">standard rustc needs some trickery to disable it, not?</span></div><div class="line" id="162014"><span class="nick" style="color:#389600"><a href="#162014" label="[16:20:14]">&lt;stikonas&gt;</a></span><span class="message">possibly... But package managers do disable it</span></div><div class="line" id="162018"><span class="nick" style="color:#6c3d55"><a href="#162018" label="[16:20:18]">&lt;clemens3&gt;</a></span><span class="message">libreoffice install downloads a lot</span></div><div class="line" id="162031"><span class="nick" style="color:#389600"><a href="#162031" label="[16:20:31]">&lt;stikonas&gt;</a></span><span class="message">does it?</span></div><div class="line" id="162039"><span class="nick" style="color:#389600"><a href="#162039" label="[16:20:39]">&lt;stikonas&gt;</a></span><span class="message">hmm, at least on Gentoo everything builds without network</span></div><div class="line" id="162103"><span class="nick" style="color:#389600"><a href="#162103" label="[16:21:03]">&lt;stikonas&gt;</a></span><span class="message">I would expect most other package managers also build in isolated environment without network</span></div><div class="line" id="162108"><span class="nick" style="color:#6c3d55"><a href="#162108" label="[16:21:08]">&lt;clemens3&gt;</a></span><span class="message">ok, maybe time to have a gentoo image</span></div><div class="line" id="162137"><span class="nick" style="color:#389600"><a href="#162137" label="[16:21:37]">&lt;stikonas&gt;</a></span><span class="message">or you can start with live-bootstrap :D</span></div><div class="line" id="162142"><span class="nick" style="color:#6c3d55"><a href="#162142" label="[16:21:42]">&lt;clemens3&gt;</a></span><span class="message">but on gentoo, if i compile rust, well, you showed me the link, but that is not standard gentoo? there is some bin download first?</span></div><div class="line" id="162159"><span class="nick" style="color:#389600"><a href="#162159" label="[16:21:59]">&lt;stikonas&gt;</a></span><span class="message">clemens3: no, that's my overlay repository</span></div><div class="line" id="162203"><span class="nick" style="color:#389600"><a href="#162203" label="[16:22:03]">&lt;stikonas&gt;</a></span><span class="message">it's like Ubuntu's PPA</span></div><div class="line" id="162207"><span class="nick" style="color:#389600"><a href="#162207" label="[16:22:07]">&lt;stikonas&gt;</a></span><span class="message">it's completley from source</span></div><div class="line" id="162219"><span class="nick" style="color:#6c3d55"><a href="#162219" label="[16:22:19]">&lt;clemens3&gt;</a></span><span class="message">yeah, i know you work on the c/tinycc front, which is laudable.. just worried once you have gcc, it still gets more and more difficult</span></div><div class="line" id="162223"><span class="nick" style="color:#389600"><a href="#162223" label="[16:22:23]">&lt;stikonas&gt;</a></span><span class="message">starting with gcc-&gt;mrustc-&gt;rustc 1.39</span></div><div class="line" id="162245"><span class="nick" style="color:#6c3d55"><a href="#162245" label="[16:22:45]">&lt;clemens3&gt;</a></span><span class="message">yeah, i look at your scripts, very help full i will imagine, and great to have a source to ask back..</span></div><div class="line" id="162259"><span class="nick" style="color:#6c3d55"><a href="#162259" label="[16:22:59]">&lt;clemens3&gt;</a></span><span class="message">but just tell me, how is standard gentoo handling the rust mess?</span></div><div class="line" id="162317"><span class="nick" style="color:#389600"><a href="#162317" label="[16:23:17]">&lt;stikonas&gt;</a></span><span class="message">just install rustc-bin and then rebuild rustc is the standard way</span></div><div class="line" id="162322"><span class="nick" style="color:#389600"><a href="#162322" label="[16:23:22]">&lt;stikonas&gt;</a></span><span class="message">same with openjdk...</span></div><div class="line" id="162326"><span class="nick" style="color:#389600"><a href="#162326" label="[16:23:26]">&lt;stikonas&gt;</a></span><span class="message">or go...</span></div><div class="line" id="162409"><span class="nick" style="color:#389600"><a href="#162409" label="[16:24:09]">&lt;stikonas&gt;</a></span><span class="message">guix also does that to some packages</span></div><div class="line" id="162413"><span class="nick" style="color:#389600"><a href="#162413" label="[16:24:13]">&lt;stikonas&gt;</a></span><span class="message">e.g. GHC</span></div><div class="line" id="162451"><span class="nick" style="color:#6c3d55"><a href="#162451" label="[16:24:51]">&lt;clemens3&gt;</a></span><span class="message">ok, so binary blob</span></div><div class="line" id="162459"><span class="nick" style="color:#389600"><a href="#162459" label="[16:24:59]">&lt;stikonas&gt;</a></span><span class="message">yes...</span></div><div class="line" id="162535"><span class="nick" style="color:#6c3d55"><a href="#162535" label="[16:25:35]">&lt;clemens3&gt;</a></span><span class="message">well, wrong place here to shake my head:)</span></div><div class="line" id="162601"><span class="nick" style="color:#6c3d55"><a href="#162601" label="[16:26:01]">&lt;clemens3&gt;</a></span><span class="message">so open source and from source are now two different concepts</span></div><div class="line" id="162635"><span class="nick" style="color:#389600"><a href="#162635" label="[16:26:35]">&lt;stikonas&gt;</a></span><span class="message">it's not just now</span></div><div class="line" id="162644"><span class="nick" style="color:#389600"><a href="#162644" label="[16:26:44]">&lt;stikonas&gt;</a></span><span class="message">it was always like this</span></div><div class="line" id="162655"><span class="nick" style="color:#6c3d55"><a href="#162655" label="[16:26:55]">&lt;clemens3&gt;</a></span><span class="message">ok, java is an old one</span></div><div class="line" id="162710"><span class="nick" style="color:#6c3d55"><a href="#162710" label="[16:27:10]">&lt;clemens3&gt;</a></span><span class="message">thought a long time, before it was open source, you could built it from cpp</span></div><div class="line" id="162718"><span class="nick" style="color:#389600"><a href="#162718" label="[16:27:18]">&lt;stikonas&gt;</a></span><span class="message">e.g. bison was depending on bison and flex...</span></div><div class="line" id="162730"><span class="nick" style="color:#6c3d55"><a href="#162730" label="[16:27:30]">&lt;clemens3&gt;</a></span><span class="message">unfortunately i once head a sun source tar ball, but i lost it.. like 1998 or so</span></div><div class="line" id="162751"><span class="nick" style="color:#389600"><a href="#162751" label="[16:27:51]">&lt;stikonas&gt;</a></span><span class="message">well, we do have bootstrap path from gcc to openjdk 7</span></div><div class="line" id="162800"><span class="nick" style="color:#389600"><a href="#162800" label="[16:28:00]">&lt;stikonas&gt;</a></span><span class="message">and from there it's quite easy to go to 17</span></div><div class="line" id="162827"><span class="nick" style="color:#6c3d55"><a href="#162827" label="[16:28:27]">&lt;clemens3&gt;</a></span><span class="message">yeah, other topic, i tried once the guix route and got 5 packages far.. but i am not a guiler and failed at some classpath dev version..</span></div><div class="line" id="162835"><span class="nick" style="color:#6c3d55"><a href="#162835" label="[16:28:35]">&lt;clemens3&gt;</a></span><span class="message">then took focus on rust again..</span></div><div class="line" id="162855"><span class="nick" style="color:#389600"><a href="#162855" label="[16:28:55]">&lt;stikonas&gt;</a></span><span class="message">well, I recreated guix'es openjdk bootstrap on Gentoo...</span></div><div class="line" id="162900"><span class="nick" style="color:#389600"><a href="#162900" label="[16:29:00]">&lt;stikonas&gt;</a></span><span class="message">with slight modifications</span></div><div class="line" id="162912"><span class="nick" style="color:#389600"><a href="#162912" label="[16:29:12]">&lt;stikonas&gt;</a></span><span class="message">(to skip openjdk-6)</span></div><div class="line" id="163106"><span class="nick" style="color:#6c3d55"><a href="#163106" label="[16:31:06]">&lt;clemens3&gt;</a></span><span class="message">ok, super, I will also definitely come back to you on that too</span></div><div class="line" id="203014"><span class="nick" style="color:#2e2a4a"><a href="#203014" label="[20:30:14]">&lt;Hagfish&gt;</a></span><span class="message">&quot;Wow that Stage0 project is amazing, didn't realize anyone went that far, thanks for the reference!&quot;</span></div><div class="line" id="203021"><span class="nick" style="color:#2e2a4a"><a href="#203021" label="[20:30:21]">&lt;Hagfish&gt;</a></span><span class="message">you love to see it :)</span></div><div class="line" id="203028"><span class="nick" style="color:#2e2a4a"><a href="#203028" label="[20:30:28]">&lt;Hagfish&gt;</a></span><span class="message"> <a rel="nofollow" href="https://news.ycombinator.com/item?id=28618074#28632015">https://news.ycombinator.com/item?id=28618074#28632015</a> </span></div><div class="line" id="203104"><span class="nick" style="color:#2e2a4a"><a href="#203104" label="[20:31:04]">&lt;Hagfish&gt;</a></span><span class="message">i'm glad that the achievements (and potential) of this project is really starting to click with the public, and it's starting to get traction (even if only in the bubble that i inhabit)</span></div><div class="line" id="232726"><span class="nick" style="color:#389600"><a href="#232726" label="[23:27:26]">&lt;stikonas&gt;</a></span><span class="message">oriansj: I'm still trying to debug cc_riscv64. I'll probably have to go step-by-step compare to amd64 version using gdb but maybe you have any other ideas what might be going wrong</span></div><div class="line" id="232729"><span class="nick" style="color:#389600"><a href="#232729" label="[23:27:29]">&lt;stikonas&gt;</a></span><span class="message">so the following code crashes</span></div><div class="line" id="232734"><span class="nick" style="color:#389600"><a href="#232734" label="[23:27:34]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://paste.debian.net/1213022/">https://paste.debian.net/1213022/</a> </span></div><div class="line" id="232744"><span class="nick" style="color:#389600"><a href="#232744" label="[23:27:44]">&lt;stikonas&gt;</a></span><span class="message">but this works <a rel="nofollow" href="https://paste.debian.net/1213023/">https://paste.debian.net/1213023/</a> </span></div><div class="line" id="232805"><span class="nick" style="color:#389600"><a href="#232805" label="[23:28:05]">&lt;stikonas&gt;</a></span><span class="message">I guess something wrong with the stack...</span></div><div class="line" id="232902"><span class="nick" style="color:#389600"><a href="#232902" label="[23:29:02]">&lt;stikonas&gt;</a></span><span class="message">(the crash itself happens in s[0] part</span></div><div class="line" id="233336"><span class="nick" style="color:#389600"><a href="#233336" label="[23:33:36]">&lt;stikonas&gt;</a></span><span class="message">also the following works <a rel="nofollow" href="https://paste.debian.net/1213024/">https://paste.debian.net/1213024/</a> </span></div><br /></div></body></html>