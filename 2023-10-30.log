<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2023-10-30.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000014"><span class="nick" style="color:#389600"><a href="#000014" label="[00:00:14]">&lt;stikonas&gt;</a></span><span class="message">but obviously, in baremetal style bootstrpa you don't have and you have to set you real clock to some other date...</span></div><div class="line" id="000023"><span class="nick" style="color:#8dd3c7"><a href="#000023" label="[00:00:23]">&lt;muurkha&gt;</a></span><span class="message">yeah, that's what I meant about &quot;otherwise the system clock is an input into the build process that's different every time you run it&quot;</span></div><div class="line" id="000026"><span class="nick" style="color:#389600"><a href="#000026" label="[00:00:26]">&lt;stikonas&gt;</a></span><span class="message">but then that also causes issues if you want to download stuff from the internet using https</span></div><div class="line" id="000042"><span class="nick" style="color:#389600"><a href="#000042" label="[00:00:42]">&lt;stikonas&gt;</a></span><span class="message">you can only use that if you pre-download all tarballs</span></div><div class="line" id="000053"><span class="nick" style="color:#8dd3c7"><a href="#000053" label="[00:00:53]">&lt;muurkha&gt;</a></span><span class="message">well, downloading stuff from the internet using https is also an input into the build process that's different every time you run it</span></div><div class="line" id="000054"><span class="nick" style="color:#389600"><a href="#000054" label="[00:00:54]">&lt;stikonas&gt;</a></span><span class="message">well, you can probably use normal time for downloads</span></div><div class="line" id="000103"><span class="nick" style="color:#389600"><a href="#000103" label="[00:01:03]">&lt;stikonas&gt;</a></span><span class="message">well, true...</span></div><div class="line" id="000117"><span class="nick" style="color:#8dd3c7"><a href="#000117" label="[00:01:17]">&lt;muurkha&gt;</a></span><span class="message">and is a lot more likely to be changed to be malicious</span></div><div class="line" id="000120"><span class="nick" style="color:#389600"><a href="#000120" label="[00:01:20]">&lt;stikonas&gt;</a></span><span class="message">which is why live-bootstrap all most other distros check download hashes</span></div><div class="line" id="000136"><span class="nick" style="color:#8dd3c7"><a href="#000136" label="[00:01:36]">&lt;muurkha&gt;</a></span><span class="message">so pre-downloading all the tarballs seems like table stakes</span></div><div class="line" id="000255"><span class="nick" style="color:#389600"><a href="#000255" label="[00:02:55]">&lt;stikonas&gt;</a></span><span class="message">well, but making bootstrap process more portable should also be good</span></div><div class="line" id="000337"><span class="nick" style="color:#8dd3c7"><a href="#000337" label="[00:03:37]">&lt;muurkha&gt;</a></span><span class="message">yeah, we can hope that the reason Xiaoyun Wang stopped publishing new attacks on secure hash functions, and China switched to different hash functions, was *not* that she found much stronger attacks that have been kept secret</span></div><div class="line" id="014902"><span class="nick" style="color:#2e2a4a"><a href="#014902" label="[01:49:02]">&lt;pabs3&gt;</a></span><span class="message">stikonas, muurkha: btw, I think Intel are planning on some sort of removal of 32-bit support from the &quot;PC&quot; platform, so at some point the bootstrap might need to start with amd64 and branch off 32-bit PC later on</span></div><div class="line" id="014926"><span class="nick" style="color:#389600"><a href="#014926" label="[01:49:26]">&lt;stikonas&gt;</a></span><span class="message">yeah, I just saw this online too...</span></div><div class="line" id="014938"><span class="nick" style="color:#389600"><a href="#014938" label="[01:49:38]">&lt;stikonas&gt;</a></span><span class="message">I think it can still run 32-bit problems but won't boot in those early modes</span></div><div class="line" id="014952"><span class="nick" style="color:#389600"><a href="#014952" label="[01:49:52]">&lt;stikonas&gt;</a></span><span class="message">so probably wouldn't affect userspace bootstrapping</span></div><div class="line" id="014959"><span class="nick" style="color:#389600"><a href="#014959" label="[01:49:59]">&lt;stikonas&gt;</a></span><span class="message">but would break things like builder-hex0</span></div><div class="line" id="015039"><span class="nick" style="color:#389600"><a href="#015039" label="[01:50:39]">&lt;stikonas&gt;</a></span><span class="message">well, it would be possible to adjust it I guess...</span></div><div class="line" id="021018"><span class="nick" style="color:#8dd3c7"><a href="#021018" label="[02:10:18]">&lt;muurkha&gt;</a></span><span class="message">probably amd64 implementors have less incentive to remove 32-bit support than ARM implementors</span></div><div class="line" id="021102"><span class="nick" style="color:#2e2a4a"><a href="#021102" label="[02:11:02]">&lt;pabs3&gt;</a></span><span class="message">Intel added it to their roadmap though</span></div><div class="line" id="021122"><span class="nick" style="color:#8dd3c7"><a href="#021122" label="[02:11:22]">&lt;muurkha&gt;</a></span><span class="message">oh interesting</span></div><div class="line" id="021122"><span class="nick" style="color:#8dd3c7"><a href="#021122" label="[02:11:22]">&lt;muurkha&gt;</a></span><span class="message">thanks</span></div><div class="line" id="021122"><span class="nick" style="color:#8dd3c7"><a href="#021122" label="[02:11:22]">&lt;muurkha&gt;</a></span><span class="message">I mean you still have a big verification effort to make sure your 32-bit support doesn't introduce ways to crash the whole system or subvert privilege checking, but it doesn't require a whole separate instruction decoder</span></div><div class="line" id="021204"><span class="nick" style="color:#2e2a4a"><a href="#021204" label="[02:12:04]">&lt;pabs3&gt;</a></span><span class="message">IIRC their plan is that 32-bit will still be available post-boot, but the boot process will only have 64-bit mode</span></div><div class="line" id="022247"><span class="nick" style="color:#6b8072"><a href="#022247" label="[02:22:47]">&lt;oriansj&gt;</a></span><span class="message">pabs3: well, we have until 2037 to solve all of the problems (as we will want it done at least a year early) or get to a place where losing 32 bit x86 would not be a loss</span></div><div class="line" id="023503"><span class="nick" style="color:#8dd3c7"><a href="#023503" label="[02:35:03]">&lt;muurkha&gt;</a></span><span class="message">also you could just write a 64-bit operating system that runs Fiwix as its only process, in 32-bit mode</span></div><div class="line" id="023657"><span class="nick" style="color:#8dd3c7"><a href="#023657" label="[02:36:57]">&lt;muurkha&gt;</a></span><span class="message">I should look at Fiwix at more than just a cursory level, it's such a great achievement</span></div><div class="line" id="032744"><span class="nick" style="color:#6b8072"><a href="#032744" label="[03:27:44]">&lt;oriansj&gt;</a></span><span class="message">stikonas: also you should have permissions to do stage0-posix releases when ever you want to do them</span></div><div class="line" id="055106"><span class="nick" style="color:#80b1d3"><a href="#055106" label="[05:51:06]">&lt;jcowan&gt;</a></span><span class="message">64-bit time is in use on various 32-bit systems, see &lt;<a rel="nofollow" href="https://en.wikipedia.org/wiki/Year_2038_problem">https://en.wikipedia.org/wiki/Year_2038_problem</a>&gt;  section &quot;Implemented solutions&quot;</span></div><div class="line" id="060753"><span class="nick" style="color:#8dd3c7"><a href="#060753" label="[06:07:53]">&lt;muurkha&gt;</a></span><span class="message">including Linux for i386, which I didn't realize</span></div><div class="line" id="060827"><span class="nick" style="color:#8dd3c7"><a href="#060827" label="[06:08:27]">&lt;muurkha&gt;</a></span><span class="message">but presumably only if you compile with a version of libc newer than 02020</span></div><div class="line" id="092139"><span class="nick" style="color:#2e2a4a"><a href="#092139" label="[09:21:39]">&lt;pabs3&gt;</a></span><span class="message">Debian's approach means not fixing i386 for 2038, since i386 will be declared as only for proprietary binaries</span></div><div class="line" id="092140"><span class="nick" style="color:#2e2a4a"><a href="#092140" label="[09:21:40]">&lt;pabs3&gt;</a></span><span class="message"> <a rel="nofollow" href="https://wiki.debian.org/ReleaseGoals/64bit-time">https://wiki.debian.org/ReleaseGoals/64bit-time</a> </span></div><div class="line" id="100614"><span class="nick" style="color:#6d2462"><a href="#100614" label="[10:06:14]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; Well musl 1.2 has fixes for 2038 but we also use 1.1 in live-bootstrap as tcc can compile it easier</span></div><div class="line" id="101245"><span class="nick" style="color:#6d2462"><a href="#101245" label="[10:12:45]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; oriansj: oh thanks, I'll take a look I the evening, though I probably don't have permissions to tag some other repos, i.e, M2-Planet</span></div><div class="line" id="103825"><span class="nick" style="color:#389600"><a href="#103825" label="[10:38:25]">&lt;stikonas&gt;</a></span><span class="message">oriansj: or perhaps I could just do stage0-posix release, it's not like we really have any consumers who take just M2-Planet</span></div><div class="line" id="103911"><span class="nick" style="color:#389600"><a href="#103911" label="[10:39:11]">&lt;stikonas&gt;</a></span><span class="message">oh, but we do have at least some consumers for mescc-tools</span></div><div class="line" id="103913"><span class="nick" style="color:#389600"><a href="#103913" label="[10:39:13]">&lt;stikonas&gt;</a></span><span class="message">e.g. Debian packages it</span></div><div class="line" id="152220"><span class="nick" style="color:#234e69"><a href="#152220" label="[15:22:20]">&lt;ekaitz&gt;</a></span><span class="message">hi</span></div><div class="line" id="152225"><span class="nick" style="color:#234e69"><a href="#152225" label="[15:22:25]">&lt;ekaitz&gt;</a></span><span class="message"> <a rel="nofollow" href="https://ekaitz.elenq.tech/bootstrapGcc8.html">https://ekaitz.elenq.tech/bootstrapGcc8.html</a> </span></div><div class="line" id="152247"><span class="nick" style="color:#234e69"><a href="#152247" label="[15:22:47]">&lt;ekaitz&gt;</a></span><span class="message">if you want to see what stikonas and I have been fighting against since summer</span></div><div class="line" id="152310"><span class="nick" style="color:#234e69"><a href="#152310" label="[15:23:10]">&lt;ekaitz&gt;</a></span><span class="message">we already shared with y'all we made the bootstrappable tcc to be self-hosted</span></div><div class="line" id="152324"><span class="nick" style="color:#234e69"><a href="#152324" label="[15:23:24]">&lt;ekaitz&gt;</a></span><span class="message">but that's more or less the explanation of the process</span></div><div class="line" id="152331"><span class="nick" style="color:#234e69"><a href="#152331" label="[15:23:31]">&lt;ekaitz&gt;</a></span><span class="message">hope you enjoy it :)</span></div><div class="line" id="153132"><span class="nick" style="color:#6c3d55"><a href="#153132" label="[15:31:32]">&lt;janneke&gt;</a></span><span class="message">\o/</span></div><div class="line" id="153220"><span class="nick" style="color:#234e69"><a href="#153220" label="[15:32:20]">&lt;ekaitz&gt;</a></span><span class="message">janneke: :)</span></div><div class="line" id="153225"><span class="nick" style="color:#234e69"><a href="#153225" label="[15:32:25]">&lt;ekaitz&gt;</a></span><span class="message">thanks for your help</span></div><div class="line" id="153243"><span class="nick" style="color:#6c3d55"><a href="#153243" label="[15:32:43]">&lt;janneke&gt;</a></span><span class="message">yw!</span></div><div class="line" id="153247"><span class="nick" style="color:#234e69"><a href="#153247" label="[15:32:47]">&lt;ekaitz&gt;</a></span><span class="message">now we are going to bother you more with the fixes to the scripts :)</span></div><div class="line" id="153723"><span class="nick" style="color:#6c3d55"><a href="#153723" label="[15:37:23]">&lt;janneke&gt;</a></span><span class="message">good :)</span></div><div class="line" id="153747"><span class="nick" style="color:#6c3d55"><a href="#153747" label="[15:37:47]">&lt;janneke&gt;</a></span><span class="message">let's release this beast</span></div><div class="line" id="153909"><span class="nick" style="color:#234e69"><a href="#153909" label="[15:39:09]">&lt;ekaitz&gt;</a></span><span class="message">janneke: i'll send you some patches for that, but they are pretty nasty</span></div><div class="line" id="154320"><span class="nick" style="color:#6c3d55"><a href="#154320" label="[15:43:20]">&lt;janneke&gt;</a></span><span class="message">OK...we'll see</span></div><div class="line" id="175129"><span class="nick" style="color:#6d2462"><a href="#175129" label="[17:51:29]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; janneke: also all those stub steps I tcc seem to be unnecessary</span></div><div class="line" id="175217"><span class="nick" style="color:#6d2462"><a href="#175217" label="[17:52:17]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; This is sufficient to reach stable point <a rel="nofollow" href="https://git.stikonas.eu/andrius/live-bootstrap/src/branch/mes-x86_64/sysa/tcc-0.9.26/tcc-0.9.26.kaem">https://git.stikonas.eu/andrius/live-bootstrap/src/branch/mes-x86_64/sysa/tcc-0.9.26/tcc-0.9.26.kaem</a> </span></div><div class="line" id="175253"><span class="nick" style="color:#6d2462"><a href="#175253" label="[17:52:53]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; So tcc-mes with reduced defines and then 3 more builds to reach stable point</span></div><div class="line" id="175802"><span class="nick" style="color:#6c3d55"><a href="#175802" label="[17:58:02]">&lt;janneke&gt;</a></span><span class="message">stikonas: very nice</span></div><div class="line" id="233828"><span class="nick" style="color:#389600"><a href="#233828" label="[23:38:28]">&lt;stikonas&gt;</a></span><span class="message">janneke: which tarballs do you need for a new stage0-posix release?</span></div><div class="line" id="234004"><span class="nick" style="color:#389600"><a href="#234004" label="[23:40:04]">&lt;stikonas&gt;</a></span><span class="message">I think I have the rights to do stage0-posix, M2-Mesoplanet and mescc-tools-extra releases but not other modules (such as bootstrap-seeds, mescc-tools, M2-Planet</span></div><div class="line" id="234120"><span class="nick" style="color:#389600"><a href="#234120" label="[23:41:20]">&lt;stikonas&gt;</a></span><span class="message">perhaps I should start with Mesoplanet and mescc-tools-extra then...</span></div><div class="line" id="235059"><span class="nick" style="color:#389600"><a href="#235059" label="[23:50:59]">&lt;stikonas&gt;</a></span><span class="message">argh, there is a question of versioning... that needs sorting out..</span></div><div class="line" id="235215"><span class="nick" style="color:#6c3d55"><a href="#235215" label="[23:52:15]">&lt;janneke&gt;</a></span><span class="message">stikonas: stage0-posix, mescc-tools, M2-Planet</span></div><div class="line" id="235221"><span class="nick" style="color:#6c3d55"><a href="#235221" label="[23:52:21]">&lt;janneke&gt;</a></span><span class="message">and possibly M2libc</span></div><div class="line" id="235227"><span class="nick" style="color:#389600"><a href="#235227" label="[23:52:27]">&lt;stikonas&gt;</a></span><span class="message">oh yes, there is M2libc too...</span></div><div class="line" id="235238"><span class="nick" style="color:#389600"><a href="#235238" label="[23:52:38]">&lt;stikonas&gt;</a></span><span class="message">anyway, I've noticed discrepancy between what M2-Planet was tagged with</span></div><div class="line" id="235243"><span class="nick" style="color:#389600"><a href="#235243" label="[23:52:43]">&lt;stikonas&gt;</a></span><span class="message">and what it reports in --version</span></div><div class="line" id="235247"><span class="nick" style="color:#389600"><a href="#235247" label="[23:52:47]">&lt;stikonas&gt;</a></span><span class="message">sorry, M2-Mesoplanet</span></div><div class="line" id="235303"><span class="nick" style="color:#389600"><a href="#235303" label="[23:53:03]">&lt;stikonas&gt;</a></span><span class="message">so perhaps its worth syncing M2-Mesoplanet versioning with M2-Planet</span></div><div class="line" id="235318"><span class="nick" style="color:#6c3d55"><a href="#235318" label="[23:53:18]">&lt;janneke&gt;</a></span><span class="message">the biggest problem that prevented me from updating in guix was that mescc-tools and M2-Planet could not use each-ochens M2Libc</span></div><div class="line" id="235325"><span class="nick" style="color:#389600"><a href="#235325" label="[23:53:25]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/oriansj/M2-Mesoplanet/blob/main/cc.c#L299">https://github.com/oriansj/M2-Mesoplanet/blob/main/cc.c#L299</a> </span></div><div class="line" id="235332"><span class="nick" style="color:#6c3d55"><a href="#235332" label="[23:53:32]">&lt;janneke&gt;</a></span><span class="message">*eachothers</span></div><div class="line" id="235334"><span class="nick" style="color:#389600"><a href="#235334" label="[23:53:34]">&lt;stikonas&gt;</a></span><span class="message">oh, that is strange...</span></div><div class="line" id="235339"><span class="nick" style="color:#389600"><a href="#235339" label="[23:53:39]">&lt;stikonas&gt;</a></span><span class="message">latest M2libc I think should work</span></div><div class="line" id="235350"><span class="nick" style="color:#389600"><a href="#235350" label="[23:53:50]">&lt;stikonas&gt;</a></span><span class="message">I'll try to double check that</span></div><div class="line" id="235358"><span class="nick" style="color:#389600"><a href="#235358" label="[23:53:58]">&lt;stikonas&gt;</a></span><span class="message">but like I said, I only have write access to some repositories</span></div><div class="line" id="235436"><span class="nick" style="color:#389600"><a href="#235436" label="[23:54:36]">&lt;stikonas&gt;</a></span><span class="message">and ideally we also release subprojects at the same time as the whole stage0-posix...</span></div><div class="line" id="235509"><span class="nick" style="color:#6c3d55"><a href="#235509" label="[23:55:09]">&lt;janneke&gt;</a></span><span class="message">stikonas: this is our latest stage0-posix package for guix: <a rel="nofollow" href="https://git.savannah.gnu.org/cgit/guix.git/tree/gnu/packages/commencement.scm#n345">https://git.savannah.gnu.org/cgit/guix.git/tree/gnu/packages/commencement.scm#n345</a> </span></div><div class="line" id="235551"><span class="nick" style="color:#389600"><a href="#235551" label="[23:55:51]">&lt;stikonas&gt;</a></span><span class="message">oh you are fetching tarballs from lilipond</span></div><div class="line" id="235554"><span class="nick" style="color:#6c3d55"><a href="#235554" label="[23:55:54]">&lt;janneke&gt;</a></span><span class="message">i tried to find (and build) tarballs that work together like this and match</span></div><div class="line" id="235606"><span class="nick" style="color:#6c3d55"><a href="#235606" label="[23:56:06]">&lt;janneke&gt;</a></span><span class="message">yeah, i built my own tarballs</span></div><div class="line" id="235608"><span class="nick" style="color:#389600"><a href="#235608" label="[23:56:08]">&lt;stikonas&gt;</a></span><span class="message">those are not the same as git snapshots I guess</span></div><div class="line" id="235614"><span class="nick" style="color:#389600"><a href="#235614" label="[23:56:14]">&lt;stikonas&gt;</a></span><span class="message">oh, I guess due to missing submodules?</span></div><div class="line" id="235637"><span class="nick" style="color:#6c3d55"><a href="#235637" label="[23:56:37]">&lt;janneke&gt;</a></span><span class="message">yeah</span></div><div class="line" id="235658"><span class="nick" style="color:#6c3d55"><a href="#235658" label="[23:56:58]">&lt;janneke&gt;</a></span><span class="message">i contributed &quot;make dist&quot; targets for some stage0 projects</span></div><div class="line" id="235701"><span class="nick" style="color:#389600"><a href="#235701" label="[23:57:01]">&lt;stikonas&gt;</a></span><span class="message">ok, I'll try to include submodules inside tarballs</span></div><div class="line" id="235710"><span class="nick" style="color:#389600"><a href="#235710" label="[23:57:10]">&lt;stikonas&gt;</a></span><span class="message">ok, that's good to know</span></div><div class="line" id="235801"><span class="nick" style="color:#6c3d55"><a href="#235801" label="[23:58:01]">&lt;janneke&gt;</a></span><span class="message">(but submodules weren't used back then, i guess)</span></div><div class="line" id="235820"><span class="nick" style="color:#6c3d55"><a href="#235820" label="[23:58:20]">&lt;janneke&gt;</a></span><span class="message">ACTION believes submodules are a very bad idea, fwiw</span></div><div class="line" id="235841"><span class="nick" style="color:#389600"><a href="#235841" label="[23:58:41]">&lt;stikonas&gt;</a></span><span class="message">they certainly have their issues</span></div><div class="line" id="235846"><span class="nick" style="color:#389600"><a href="#235846" label="[23:58:46]">&lt;stikonas&gt;</a></span><span class="message">especially in the way git tooling works</span></div><div class="line" id="235936"><span class="nick" style="color:#389600"><a href="#235936" label="[23:59:36]">&lt;stikonas&gt;</a></span><span class="message">anyway, thanks for letting me know about make dist</span></div><div class="line" id="235945"><span class="nick" style="color:#389600"><a href="#235945" label="[23:59:45]">&lt;stikonas&gt;</a></span><span class="message">I think I saw it before but forgot about it</span></div><br /></div></body></html>