<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2023-12-12.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="115840"><span class="nick" style="color:#389600"><a href="#115840" label="[11:58:40]">&lt;Guest25&gt;</a></span><span class="message">HI</span></div><div class="line" id="115853"><span class="nick" style="color:#389600"><a href="#115853" label="[11:58:53]">&lt;Guest25&gt;</a></span><span class="message">How can we build mescc after building stage0</span></div><div class="line" id="120812"><span class="nick" style="color:#8dd3c7"><a href="#120812" label="[12:08:12]">&lt;janneke&gt;</a></span><span class="message">Guest25: in the Guix bootstrap we run ./configure.sh and ./bootstrap.sh; the live-bootstrap has a kaem script to build mes</span></div><div class="line" id="120857"><span class="nick" style="color:#2e2a4a"><a href="#120857" label="[12:08:57]">&lt;stikonas&gt;</a></span><span class="message">Guest25: and to be more precise, you need to build mes, not mescc</span></div><div class="line" id="120934"><span class="nick" style="color:#389600"><a href="#120934" label="[12:09:34]">&lt;Guest25&gt;</a></span><span class="message">Ok, what dependencies do I need for building mes?</span></div><div class="line" id="120954"><span class="nick" style="color:#2e2a4a"><a href="#120954" label="[12:09:54]">&lt;stikonas&gt;</a></span><span class="message">stage0-posix is sufficient</span></div><div class="line" id="120958"><span class="nick" style="color:#389600"><a href="#120958" label="[12:09:58]">&lt;Guest25&gt;</a></span><span class="message">It seems it is trying to use gcc when building</span></div><div class="line" id="121001"><span class="nick" style="color:#389600"><a href="#121001" label="[12:10:01]">&lt;Guest25&gt;</a></span><span class="message">am I wrong?</span></div><div class="line" id="121014"><span class="nick" style="color:#8dd3c7"><a href="#121014" label="[12:10:14]">&lt;janneke&gt;</a></span><span class="message">if gcc in in PATH, it will use that</span></div><div class="line" id="121015"><span class="nick" style="color:#2e2a4a"><a href="#121015" label="[12:10:15]">&lt;stikonas&gt;</a></span><span class="message">well, there are various build-systems/options</span></div><div class="line" id="121058"><span class="nick" style="color:#8dd3c7"><a href="#121058" label="[12:10:58]">&lt;janneke&gt;</a></span><span class="message">mes can be built with gcc, mainly for development purposes (and hysterical raisins)</span></div><div class="line" id="121102"><span class="nick" style="color:#2e2a4a"><a href="#121102" label="[12:11:02]">&lt;stikonas&gt;</a></span><span class="message">Guest25: are you just trying to build mes or are you trying to do bootstrap with not extra dependencies?</span></div><div class="line" id="121123"><span class="nick" style="color:#2e2a4a"><a href="#121123" label="[12:11:23]">&lt;stikonas&gt;</a></span><span class="message">if you don't want extra dependencies, including shell, then you need to use kaem scripts</span></div><div class="line" id="121127"><span class="nick" style="color:#389600"><a href="#121127" label="[12:11:27]">&lt;Guest25&gt;</a></span><span class="message">I want to build mes absolutely with no extra dependencies</span></div><div class="line" id="121153"><span class="nick" style="color:#2e2a4a"><a href="#121153" label="[12:11:53]">&lt;stikonas&gt;</a></span><span class="message">so follow live-bootstrap route then</span></div><div class="line" id="121154"><span class="nick" style="color:#2e2a4a"><a href="#121154" label="[12:11:54]">&lt;stikonas&gt;</a></span><span class="message">or just run it</span></div><div class="line" id="121155"><span class="nick" style="color:#389600"><a href="#121155" label="[12:11:55]">&lt;Guest25&gt;</a></span><span class="message">so when I build with kaem, I get mes-m2, how do I get mescc from that?</span></div><div class="line" id="121201"><span class="nick" style="color:#2e2a4a"><a href="#121201" label="[12:12:01]">&lt;stikonas&gt;</a></span><span class="message">it basically uses this script <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/blob/master/sysa/mes-0.25/mes-0.25.kaem">https://github.com/fosslinux/live-bootstrap/blob/master/sysa/mes-0.25/mes-0.25.kaem</a> </span></div><div class="line" id="121240"><span class="nick" style="color:#2e2a4a"><a href="#121240" label="[12:12:40]">&lt;stikonas&gt;</a></span><span class="message">right now you need to manually build all necessary files from mes libc and mes</span></div><div class="line" id="121249"><span class="nick" style="color:#2e2a4a"><a href="#121249" label="[12:12:49]">&lt;stikonas&gt;</a></span><span class="message">and then link them into appropriate libraries/binaries</span></div><div class="line" id="121254"><span class="nick" style="color:#2e2a4a"><a href="#121254" label="[12:12:54]">&lt;stikonas&gt;</a></span><span class="message">see that kaem script</span></div><div class="line" id="121300"><span class="nick" style="color:#2e2a4a"><a href="#121300" label="[12:13:00]">&lt;stikonas&gt;</a></span><span class="message">perhaps later we could switch to gash</span></div><div class="line" id="121331"><span class="nick" style="color:#2e2a4a"><a href="#121331" label="[12:13:31]">&lt;stikonas&gt;</a></span><span class="message">Guest25: note that you also need a specific version of nyacc</span></div><div class="line" id="121346"><span class="nick" style="color:#8dd3c7"><a href="#121346" label="[12:13:46]">&lt;janneke&gt;</a></span><span class="message">yes, but we'll want to keep the start of the kaem script anyway</span></div><div class="line" id="121346"><span class="nick" style="color:#2e2a4a"><a href="#121346" label="[12:13:46]">&lt;stikonas&gt;</a></span><span class="message">and also setup quite a few environmental variables</span></div><div class="line" id="121404"><span class="nick" style="color:#2e2a4a"><a href="#121404" label="[12:14:04]">&lt;stikonas&gt;</a></span><span class="message">yeah, start kaem script will have to stay there</span></div><div class="line" id="121408"><span class="nick" style="color:#2e2a4a"><a href="#121408" label="[12:14:08]">&lt;stikonas&gt;</a></span><span class="message">i.e. M2-Planet-&gt;mes-m2</span></div><div class="line" id="121438"><span class="nick" style="color:#2e2a4a"><a href="#121438" label="[12:14:38]">&lt;stikonas&gt;</a></span><span class="message">also nyacc contains some pregenerated header files that we can't rebuild right now</span></div><div class="line" id="121439"><span class="nick" style="color:#2e2a4a"><a href="#121439" label="[12:14:39]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/issues/306">https://github.com/fosslinux/live-bootstrap/issues/306</a> </span></div><div class="line" id="121517"><span class="nick" style="color:#2e2a4a"><a href="#121517" label="[12:15:17]">&lt;stikonas&gt;</a></span><span class="message">s/header files/scheme files/</span></div><div class="line" id="121540"><span class="nick" style="color:#389600"><a href="#121540" label="[12:15:40]">&lt;Guest25&gt;</a></span><span class="message">&gt;&gt;WARNING&lt;&lt;</span></div><div class="line" id="121541"><span class="nick" style="color:#389600"><a href="#121541" label="[12:15:41]">&lt;Guest25&gt;</a></span><span class="message">&gt;&gt;WARNING&lt;&lt;</span></div><div class="line" id="121541"><span class="nick" style="color:#389600"><a href="#121541" label="[12:15:41]">&lt;Guest25&gt;</a></span><span class="message">include/fcntl.h:30:feature: #include_next unsupported in M2-Planet</span></div><div class="line" id="121542"><span class="nick" style="color:#389600"><a href="#121542" label="[12:15:42]">&lt;Guest25&gt;</a></span><span class="message">Ignoring line, may result in bugs</span></div><div class="line" id="121542"><span class="nick" style="color:#389600"><a href="#121542" label="[12:15:42]">&lt;Guest25&gt;</a></span><span class="message">&gt;&gt;WARNING&lt;&lt;</span></div><div class="line" id="121543"><span class="nick" style="color:#389600"><a href="#121543" label="[12:15:43]">&lt;Guest25&gt;</a></span><span class="message">&gt;&gt;WARNING&lt;&lt;</span></div><div class="line" id="121551"><span class="nick" style="color:#2e2a4a"><a href="#121551" label="[12:15:51]">&lt;stikonas&gt;</a></span><span class="message">i.e. files like <a rel="nofollow" href="https://git.savannah.nongnu.org/cgit/nyacc.git/tree/module/nyacc/lang/c99/mach.d/c99x-tab.scm?h=V1.00.2">https://git.savannah.nongnu.org/cgit/nyacc.git/tree/module/nyacc/lang/c99/mach.d/c99x-tab.scm?h=V1.00.2</a> </span></div><div class="line" id="121615"><span class="nick" style="color:#389600"><a href="#121615" label="[12:16:15]">&lt;Guest25&gt;</a></span><span class="message">when I only have stage0-posifx in path and trying to build with mes.kaem script . I am getting error like this</span></div><div class="line" id="121620"><span class="nick" style="color:#8dd3c7"><a href="#121620" label="[12:16:20]">&lt;janneke&gt;</a></span><span class="message">also note that the mescc &quot;executable&quot; is just a script; mescc is a scheme program interpreted by mes</span></div><div class="line" id="121710"><span class="nick" style="color:#2e2a4a"><a href="#121710" label="[12:17:10]">&lt;stikonas&gt;</a></span><span class="message">yeah, and with no ./configure live-bootstrap creates it itself by templating</span></div><div class="line" id="121727"><span class="nick" style="color:#2e2a4a"><a href="#121727" label="[12:17:27]">&lt;stikonas&gt;</a></span><span class="message">(so replaces some variables like %prefix% with /usr)</span></div><div class="line" id="121810"><span class="nick" style="color:#389600"><a href="#121810" label="[12:18:10]">&lt;Guest25&gt;</a></span><span class="message">&gt;&gt;WARNING&lt;&lt;</span></div><div class="line" id="121810"><span class="nick" style="color:#389600"><a href="#121810" label="[12:18:10]">&lt;Guest25&gt;</a></span><span class="message">&gt;&gt;WARNING&lt;&lt;</span></div><div class="line" id="121811"><span class="nick" style="color:#389600"><a href="#121811" label="[12:18:11]">&lt;Guest25&gt;</a></span><span class="message">include/fcntl.h:30:feature: #include_next unsupported in M2-Planet</span></div><div class="line" id="121811"><span class="nick" style="color:#2e2a4a"><a href="#121811" label="[12:18:11]">&lt;stikonas&gt;</a></span><span class="message">Guest25: hmm, strange, I don't seem to see that error in live-bootstrap</span></div><div class="line" id="121811"><span class="nick" style="color:#389600"><a href="#121811" label="[12:18:11]">&lt;Guest25&gt;</a></span><span class="message">Ignoring line, may result in bugs</span></div><div class="line" id="121812"><span class="nick" style="color:#389600"><a href="#121812" label="[12:18:12]">&lt;Guest25&gt;</a></span><span class="message">&gt;&gt;WARNING&lt;&lt;</span></div><div class="line" id="121812"><span class="nick" style="color:#389600"><a href="#121812" label="[12:18:12]">&lt;Guest25&gt;</a></span><span class="message">&gt;&gt;WARNING&lt;&lt;</span></div><div class="line" id="121813"><span class="nick" style="color:#389600"><a href="#121813" label="[12:18:13]">&lt;Guest25&gt;</a></span><span class="message">How can I fix that?</span></div><div class="line" id="121816"><span class="nick" style="color:#389600"><a href="#121816" label="[12:18:16]">&lt;Guest25&gt;</a></span><span class="message">Unknown type size_t</span></div><div class="line" id="121816"><span class="nick" style="color:#389600"><a href="#121816" label="[12:18:16]">&lt;Guest25&gt;</a></span><span class="message">include/mes/lib.h:53:</span></div><div class="line" id="121817"><span class="nick" style="color:#389600"><a href="#121817" label="[12:18:17]">&lt;Guest25&gt;</a></span><span class="message">Subprocess error 1</span></div><div class="line" id="121817"><span class="nick" style="color:#389600"><a href="#121817" label="[12:18:17]">&lt;Guest25&gt;</a></span><span class="message">ABORTING HARD</span></div><div class="line" id="121825"><span class="nick" style="color:#389600"><a href="#121825" label="[12:18:25]">&lt;Guest25&gt;</a></span><span class="message">;(</span></div><div class="line" id="121830"><span class="nick" style="color:#2e2a4a"><a href="#121830" label="[12:18:30]">&lt;stikonas&gt;</a></span><span class="message">is it the latest stage0-posix?</span></div><div class="line" id="121905"><span class="nick" style="color:#389600"><a href="#121905" label="[12:19:05]">&lt;Guest25&gt;</a></span><span class="message">maybe not the latest, also can I build mes for amd64, or only x86?</span></div><div class="line" id="121930"><span class="nick" style="color:#2e2a4a"><a href="#121930" label="[12:19:30]">&lt;stikonas&gt;</a></span><span class="message">well, you need at least the latest release</span></div><div class="line" id="121939"><span class="nick" style="color:#2e2a4a"><a href="#121939" label="[12:19:39]">&lt;stikonas&gt;</a></span><span class="message">I think it's tagged as 1.6.0</span></div><div class="line" id="121948"><span class="nick" style="color:#2e2a4a"><a href="#121948" label="[12:19:48]">&lt;stikonas&gt;</a></span><span class="message">and I only tested mes 0.25</span></div><div class="line" id="121956"><span class="nick" style="color:#2e2a4a"><a href="#121956" label="[12:19:56]">&lt;stikonas&gt;</a></span><span class="message">I haven't tried building mes 0.26 yet</span></div><div class="line" id="122050"><span class="nick" style="color:#8dd3c7"><a href="#122050" label="[12:20:50]">&lt;janneke&gt;</a></span><span class="message">you can build mes for amd64, but you cannot build a functional bootstrappable-tcc with that for amd64 (yet)</span></div><div class="line" id="122101"><span class="nick" style="color:#8dd3c7"><a href="#122101" label="[12:21:01]">&lt;janneke&gt;</a></span><span class="message">so, x86 it is, for now</span></div><div class="line" id="122124"><span class="nick" style="color:#2e2a4a"><a href="#122124" label="[12:21:24]">&lt;stikonas&gt;</a></span><span class="message">I think Guest25 struggles with an earlier stage...</span></div><div class="line" id="122127"><span class="nick" style="color:#389600"><a href="#122127" label="[12:21:27]">&lt;Guest25&gt;</a></span><span class="message">so I can't bootstrap tcc for amd64 later?</span></div><div class="line" id="122221"><span class="nick" style="color:#389600"><a href="#122221" label="[12:22:21]">&lt;Guest25&gt;</a></span><span class="message">let me try the latest release of stage0-posix</span></div><div class="line" id="122355"><span class="nick" style="color:#8dd3c7"><a href="#122355" label="[12:23:55]">&lt;janneke&gt;</a></span><span class="message">stikonas: sure, but best to switch to x86 as well, right now?</span></div><div class="line" id="122420"><span class="nick" style="color:#8dd3c7"><a href="#122420" label="[12:24:20]">&lt;janneke&gt;</a></span><span class="message">for amd64, you'll have to cross-build gcc from x86 to amd64/x86_64 lateron</span></div><div class="line" id="122441"><span class="nick" style="color:#2e2a4a"><a href="#122441" label="[12:24:41]">&lt;stikonas&gt;</a></span><span class="message">yeah, for now best to use x86</span></div><div class="line" id="122448"><span class="nick" style="color:#389600"><a href="#122448" label="[12:24:48]">&lt;Guest25&gt;</a></span><span class="message">Ok, let me try x86</span></div><div class="line" id="122449"><span class="nick" style="color:#2e2a4a"><a href="#122449" label="[12:24:49]">&lt;stikonas&gt;</a></span><span class="message">janneke: or cross-build tcc</span></div><div class="line" id="122507"><span class="nick" style="color:#2e2a4a"><a href="#122507" label="[12:25:07]">&lt;stikonas&gt;</a></span><span class="message">I think only 1 step is not working, mes-&gt;tcc-mes</span></div><div class="line" id="122517"><span class="nick" style="color:#2e2a4a"><a href="#122517" label="[12:25:17]">&lt;stikonas&gt;</a></span><span class="message">after that amd64 should be fully functional</span></div><div class="line" id="122537"><span class="nick" style="color:#389600"><a href="#122537" label="[12:25:37]">&lt;Guest25&gt;</a></span><span class="message">Ok, let me to pass build for x86 and report the results</span></div><div class="line" id="122552"><span class="nick" style="color:#8dd3c7"><a href="#122552" label="[12:25:52]">&lt;janneke&gt;</a></span><span class="message">right, but we're still (well, guix is at least) using gcc-2.95 which is 32bit</span></div><div class="line" id="122603"><span class="nick" style="color:#2e2a4a"><a href="#122603" label="[12:26:03]">&lt;stikonas&gt;</a></span><span class="message">oh yeah, for guix sure</span></div><div class="line" id="122615"><span class="nick" style="color:#2e2a4a"><a href="#122615" label="[12:26:15]">&lt;stikonas&gt;</a></span><span class="message">and I'm sure there will be other small issues for amd64</span></div><div class="line" id="122623"><span class="nick" style="color:#8dd3c7"><a href="#122623" label="[12:26:23]">&lt;janneke&gt;</a></span><span class="message">we'll want to get rid of that</span></div><div class="line" id="122629"><span class="nick" style="color:#2e2a4a"><a href="#122629" label="[12:26:29]">&lt;stikonas&gt;</a></span><span class="message">but the main blocker was always mes and tcc</span></div><div class="line" id="122644"><span class="nick" style="color:#2e2a4a"><a href="#122644" label="[12:26:44]">&lt;stikonas&gt;</a></span><span class="message">and now with riscv64 work we fixed quite a few 64 bit bugs there</span></div><div class="line" id="122834"><span class="nick" style="color:#2e2a4a"><a href="#122834" label="[12:28:34]">&lt;stikonas&gt;</a></span><span class="message">anwyay, mes-0.26 should work with stage0-posix too</span></div><div class="line" id="122847"><span class="nick" style="color:#2e2a4a"><a href="#122847" label="[12:28:47]">&lt;stikonas&gt;</a></span><span class="message">most likely your stage0-posix was just too old</span></div><div class="line" id="122950"><span class="nick" style="color:#389600"><a href="#122950" label="[12:29:50]">&lt;Guest25&gt;</a></span><span class="message">Now I have built mes/mes-m2. what should I do next?</span></div><div class="line" id="123044"><span class="nick" style="color:#2e2a4a"><a href="#123044" label="[12:30:44]">&lt;stikonas&gt;</a></span><span class="message">probably best to follow live-bootstrap script</span></div><div class="line" id="123046"><span class="nick" style="color:#2e2a4a"><a href="#123046" label="[12:30:46]">&lt;stikonas&gt;</a></span><span class="message">step by step</span></div><div class="line" id="123102"><span class="nick" style="color:#2e2a4a"><a href="#123102" label="[12:31:02]">&lt;stikonas&gt;</a></span><span class="message">(possibly adjusting for installation paths)</span></div><div class="line" id="123114"><span class="nick" style="color:#2e2a4a"><a href="#123114" label="[12:31:14]">&lt;stikonas&gt;</a></span><span class="message">but in summary, you need to download nyacc</span></div><div class="line" id="123118"><span class="nick" style="color:#2e2a4a"><a href="#123118" label="[12:31:18]">&lt;stikonas&gt;</a></span><span class="message">(version 1.00.2)</span></div><div class="line" id="123137"><span class="nick" style="color:#2e2a4a"><a href="#123137" label="[12:31:37]">&lt;stikonas&gt;</a></span><span class="message">set env variables with paths to it (see <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/blob/master/sysa/run.kaem#L21">https://github.com/fosslinux/live-bootstrap/blob/master/sysa/run.kaem#L21</a>) </span></div><div class="line" id="123148"><span class="nick" style="color:#2e2a4a"><a href="#123148" label="[12:31:48]">&lt;stikonas&gt;</a></span><span class="message">I think you need at least GUILE_LOAD_PATH</span></div><div class="line" id="123241"><span class="nick" style="color:#2e2a4a"><a href="#123241" label="[12:32:41]">&lt;stikonas&gt;</a></span><span class="message">possibly MES_PREFIX...</span></div><div class="line" id="123311"><span class="nick" style="color:#2e2a4a"><a href="#123311" label="[12:33:11]">&lt;stikonas&gt;</a></span><span class="message">then you need MES_ARENA, MES_MAX_ARENA and MES_STACK form here <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/blob/master/sysa/mes-0.25/mes-0.25.kaem">https://github.com/fosslinux/live-bootstrap/blob/master/sysa/mes-0.25/mes-0.25.kaem</a> </span></div><div class="line" id="123514"><span class="nick" style="color:#389600"><a href="#123514" label="[12:35:14]">&lt;Guest25&gt;</a></span><span class="message">I am very sorry, but what dependecies do I need for nyacc? I am afraid of using gcc :D</span></div><div class="line" id="123627"><span class="nick" style="color:#2e2a4a"><a href="#123627" label="[12:36:27]">&lt;stikonas&gt;</a></span><span class="message">no gcc there</span></div><div class="line" id="123632"><span class="nick" style="color:#2e2a4a"><a href="#123632" label="[12:36:32]">&lt;stikonas&gt;</a></span><span class="message">you just need nyacc source</span></div><div class="line" id="123638"><span class="nick" style="color:#2e2a4a"><a href="#123638" label="[12:36:38]">&lt;stikonas&gt;</a></span><span class="message">it's a scheme library</span></div><div class="line" id="123703"><span class="nick" style="color:#2e2a4a"><a href="#123703" label="[12:37:03]">&lt;stikonas&gt;</a></span><span class="message">but like I warned, there are some pre-generated scheme files in it</span></div><div class="line" id="123724"><span class="nick" style="color:#2e2a4a"><a href="#123724" label="[12:37:24]">&lt;stikonas&gt;</a></span><span class="message">that are neither true source but not really binary file either</span></div><div class="line" id="123733"><span class="nick" style="color:#389600"><a href="#123733" label="[12:37:33]">&lt;Guest25&gt;</a></span><span class="message">ok, I thnik it's ok for now</span></div><div class="line" id="123745"><span class="nick" style="color:#2e2a4a"><a href="#123745" label="[12:37:45]">&lt;stikonas&gt;</a></span><span class="message">yeah, we'll try to sort it out longer term</span></div><div class="line" id="123811"><span class="nick" style="color:#8dd3c7"><a href="#123811" label="[12:38:11]">&lt;janneke&gt;</a></span><span class="message">yeah, we'll want to generate them with mes, but that's not feasible just yet</span></div><div class="line" id="123828"><span class="nick" style="color:#2e2a4a"><a href="#123828" label="[12:38:28]">&lt;stikonas&gt;</a></span><span class="message">a bit like ./configure scripts that guix uses bootstrap</span></div><div class="line" id="123848"><span class="nick" style="color:#2e2a4a"><a href="#123848" label="[12:38:48]">&lt;stikonas&gt;</a></span><span class="message">(and live-bootstrap avoids them till autotools are bootstrapped)</span></div><div class="line" id="123921"><span class="nick" style="color:#2e2a4a"><a href="#123921" label="[12:39:21]">&lt;stikonas&gt;</a></span><span class="message">anyway, just unpack nyacc</span></div><div class="line" id="123922"><span class="nick" style="color:#8dd3c7"><a href="#123922" label="[12:39:22]">&lt;janneke&gt;</a></span><span class="message">(that's pretty great)</span></div><div class="line" id="123933"><span class="nick" style="color:#389600"><a href="#123933" label="[12:39:33]">&lt;Guest25&gt;</a></span><span class="message">I also want to avoid using any tool from my os</span></div><div class="line" id="123935"><span class="nick" style="color:#2e2a4a"><a href="#123935" label="[12:39:35]">&lt;stikonas&gt;</a></span><span class="message">you can even use stage-posix to do that</span></div><div class="line" id="123941"><span class="nick" style="color:#2e2a4a"><a href="#123941" label="[12:39:41]">&lt;stikonas&gt;</a></span><span class="message">there is untar and ungz</span></div><div class="line" id="124009"><span class="nick" style="color:#2e2a4a"><a href="#124009" label="[12:40:09]">&lt;stikonas&gt;</a></span><span class="message">again, see that kaem script if you want to avoid using OS tools</span></div><div class="line" id="124036"><span class="nick" style="color:#389600"><a href="#124036" label="[12:40:36]">&lt;Guest25&gt;</a></span><span class="message">Thank you very much</span></div><div class="line" id="124045"><span class="nick" style="color:#2e2a4a"><a href="#124045" label="[12:40:45]">&lt;stikonas&gt;</a></span><span class="message">though you do need to download it from your os...</span></div><div class="line" id="124242"><span class="nick" style="color:#389600"><a href="#124242" label="[12:42:42]">&lt;Guest25&gt;</a></span><span class="message">:)</span></div><div class="line" id="125317"><span class="nick" style="color:#8dd3c7"><a href="#125317" label="[12:53:17]">&lt;janneke&gt;</a></span><span class="message">yeah, our bootstrap is not perfect, but it's waaay better than anything else, and it's getting better every year</span></div><div class="line" id="125330"><span class="nick" style="color:#8dd3c7"><a href="#125330" label="[12:53:30]">&lt;janneke&gt;</a></span><span class="message">or so i believe</span></div><div class="line" id="125825"><span class="nick" style="color:#2e2a4a"><a href="#125825" label="[12:58:25]">&lt;stikonas&gt;</a></span><span class="message">somebody in rb-general mailing list didn't agree... But it sounded a bit like trolling...</span></div><div class="line" id="125921"><span class="nick" style="color:#2e2a4a"><a href="#125921" label="[12:59:21]">&lt;stikonas&gt;</a></span><span class="message">janneke: by the way, any ideas why mes is so memory bandwidth intensive?</span></div><div class="line" id="125923"><span class="nick" style="color:#8dd3c7"><a href="#125923" label="[12:59:23]">&lt;janneke&gt;</a></span><span class="message">yeah, they had their own definition of bootstrapping and thus were allowed to use a C compiler to start with</span></div><div class="line" id="125925"><span class="nick" style="color:#2e2a4a"><a href="#125925" label="[12:59:25]">&lt;stikonas&gt;</a></span><span class="message">probably hard to fix though...</span></div><div class="line" id="125951"><span class="nick" style="color:#2e2a4a"><a href="#125951" label="[12:59:51]">&lt;stikonas&gt;</a></span><span class="message">yeah, that sounded more like reproducible build rather than bootstrapping when you start with C compiler</span></div><div class="line" id="130017"><span class="nick" style="color:#2e2a4a"><a href="#130017" label="[13:00:17]">&lt;stikonas&gt;</a></span><span class="message">slow ram on visionfive2 risc-v board is probably the main reason why bootstrap takes a week</span></div><div class="line" id="130028"><span class="nick" style="color:#8dd3c7"><a href="#130028" label="[13:00:28]">&lt;janneke&gt;</a></span><span class="message">i don't really know</span></div><div class="line" id="130052"><span class="nick" style="color:#8dd3c7"><a href="#130052" label="[13:00:52]">&lt;janneke&gt;</a></span><span class="message">other than that mes is a naive, unoptimized interpreter, not an optimized compiler</span></div><div class="line" id="130107"><span class="nick" style="color:#8dd3c7"><a href="#130107" label="[13:01:07]">&lt;janneke&gt;</a></span><span class="message">and it has the poorest garbage collector that you can imagine</span></div><div class="line" id="130738"><span class="nick" style="color:#389600"><a href="#130738" label="[13:07:38]">&lt;Guest25&gt;</a></span><span class="message">error:no code for module:((nyacc lang c99 parser))</span></div><div class="line" id="130738"><span class="nick" style="color:#389600"><a href="#130738" label="[13:07:38]">&lt;Guest25&gt;</a></span><span class="message">exiting...</span></div><div class="line" id="130739"><span class="nick" style="color:#389600"><a href="#130739" label="[13:07:39]">&lt;Guest25&gt;</a></span><span class="message">unhandled exception: error: ((&quot;no code for module&quot; (nyacc lang c99 parser)))</span></div><div class="line" id="130739"><span class="nick" style="color:#389600"><a href="#130739" label="[13:07:39]">&lt;Guest25&gt;</a></span><span class="message">Backtrace:</span></div><div class="line" id="130740"><span class="nick" style="color:#389600"><a href="#130740" label="[13:07:40]">&lt;Guest25&gt;</a></span><span class="message">  [b] (error _ _)</span></div><div class="line" id="130740"><span class="nick" style="color:#389600"><a href="#130740" label="[13:07:40]">&lt;Guest25&gt;</a></span><span class="message">  [b] (primitive-load _)</span></div><div class="line" id="130741"><span class="nick" style="color:#389600"><a href="#130741" label="[13:07:41]">&lt;Guest25&gt;</a></span><span class="message">  [c] (dynamic-wind before thunk after)</span></div><div class="line" id="130741"><span class="nick" style="color:#389600"><a href="#130741" label="[13:07:41]">&lt;Guest25&gt;</a></span><span class="message">  [c] (load-file proc file)</span></div><div class="line" id="130742"><span class="nick" style="color:#389600"><a href="#130742" label="[13:07:42]">&lt;Guest25&gt;</a></span><span class="message">  [c] (dynamic-wind before thunk after)</span></div><div class="line" id="130742"><span class="nick" style="color:#389600"><a href="#130742" label="[13:07:42]">&lt;Guest25&gt;</a></span><span class="message">  [c] (dynamic-wind before thunk after)</span></div><div class="line" id="130743"><span class="nick" style="color:#389600"><a href="#130743" label="[13:07:43]">&lt;Guest25&gt;</a></span><span class="message">  [b] (primitive-load _)</span></div><div class="line" id="130743"><span class="nick" style="color:#389600"><a href="#130743" label="[13:07:43]">&lt;Guest25&gt;</a></span><span class="message">  [c] (dynamic-wind before thunk after)</span></div><div class="line" id="130744"><span class="nick" style="color:#389600"><a href="#130744" label="[13:07:44]">&lt;Guest25&gt;</a></span><span class="message">  [c] (load-file proc file)</span></div><div class="line" id="130744"><span class="nick" style="color:#389600"><a href="#130744" label="[13:07:44]">&lt;Guest25&gt;</a></span><span class="message">  [c] (dynamic-wind before thunk after)</span></div><div class="line" id="130745"><span class="nick" style="color:#389600"><a href="#130745" label="[13:07:45]">&lt;Guest25&gt;</a></span><span class="message">  [c] (dynamic-wind before thunk after)</span></div><div class="line" id="130745"><span class="nick" style="color:#389600"><a href="#130745" label="[13:07:45]">&lt;Guest25&gt;</a></span><span class="message">  [b] (primitive-load _)</span></div><div class="line" id="130746"><span class="nick" style="color:#389600"><a href="#130746" label="[13:07:46]">&lt;Guest25&gt;</a></span><span class="message">  [c] (dynamic-wind before thunk after)</span></div><div class="line" id="130746"><span class="nick" style="color:#389600"><a href="#130746" label="[13:07:46]">&lt;Guest25&gt;</a></span><span class="message">  [c] (load-file proc file)</span></div><div class="line" id="130952"><span class="nick" style="color:#8dd3c7"><a href="#130952" label="[13:09:52]">&lt;janneke&gt;</a></span><span class="message">check your GUILE_LOAD_PATH</span></div><div class="line" id="131224"><span class="nick" style="color:#8dd3c7"><a href="#131224" label="[13:12:24]">&lt;janneke&gt;</a></span><span class="message">mes should be able to find</span></div><div class="line" id="131228"><span class="nick" style="color:#389600"><a href="#131228" label="[13:12:28]">&lt;Guest25&gt;</a></span><span class="message">what should it be?</span></div><div class="line" id="131325"><span class="nick" style="color:#8dd3c7"><a href="#131325" label="[13:13:25]">&lt;janneke&gt;</a></span><span class="message">nyacc/lang/c99/parser.mes (from the mes installed/source tree), and nyacc/lang/c99/parser.scm (from nyacc) from the load path</span></div><div class="line" id="131351"><span class="nick" style="color:#8dd3c7"><a href="#131351" label="[13:13:51]">&lt;janneke&gt;</a></span><span class="message">it all depends on your disk layout and where you installed things</span></div><div class="line" id="131847"><span class="nick" style="color:#8dd3c7"><a href="#131847" label="[13:18:47]">&lt;janneke&gt;</a></span><span class="message">nyacc/lang/c99/parser.mes (from the mes installed/source tree), and nyacc/lang/c99/parser.scm (from nyacc) from the load path</span></div><div class="line" id="131850"><span class="nick" style="color:#8dd3c7"><a href="#131850" label="[13:18:50]">&lt;janneke&gt;</a></span><span class="message">it all depends on your disk layout and where you installed things</span></div><div class="line" id="131907"><span class="nick" style="color:#389600"><a href="#131907" label="[13:19:07]">&lt;Guest25&gt;</a></span><span class="message">I'm sorry, I suddenly exited</span></div><div class="line" id="131911"><span class="nick" style="color:#8dd3c7"><a href="#131911" label="[13:19:11]">&lt;janneke&gt;</a></span><span class="message">np</span></div><div class="line" id="131917"><span class="nick" style="color:#8dd3c7"><a href="#131917" label="[13:19:17]">&lt;janneke&gt;</a></span><span class="message">when not in the guix bootstrap, which uses /gnu/store paths, i use something like</span></div><div class="line" id="131927"><span class="nick" style="color:#8dd3c7"><a href="#131927" label="[13:19:27]">&lt;janneke&gt;</a></span><span class="message">~/src/mes/master/mes/module:~/src/mes/master/module:~/src/nyacc/module</span></div><div class="line" id="131927"><span class="nick" style="color:#389600"><a href="#131927" label="[13:19:27]">&lt;Guest25&gt;</a></span><span class="message">can you show again what should be GUILE_LOAD</span></div><div class="line" id="131944"><span class="nick" style="color:#8dd3c7"><a href="#131944" label="[13:19:44]">&lt;janneke&gt;</a></span><span class="message">(it's GUILE_LOAD_PATH)</span></div><div class="line" id="132030"><span class="nick" style="color:#389600"><a href="#132030" label="[13:20:30]">&lt;Guest25&gt;</a></span><span class="message">thank you</span></div><div class="line" id="132050"><span class="nick" style="color:#8dd3c7"><a href="#132050" label="[13:20:50]">&lt;janneke&gt;</a></span><span class="message">but probably best to (also) check the kaem script</span></div><div class="line" id="132520"><span class="nick" style="color:#2e2a4a"><a href="#132520" label="[13:25:20]">&lt;stikonas&gt;</a></span><span class="message">yeah, kaem script also sets 3 paths</span></div><div class="line" id="132528"><span class="nick" style="color:#2e2a4a"><a href="#132528" label="[13:25:28]">&lt;stikonas&gt;</a></span><span class="message">though those will again be different than in your system</span></div><div class="line" id="132556"><span class="nick" style="color:#2e2a4a"><a href="#132556" label="[13:25:56]">&lt;stikonas&gt;</a></span><span class="message">but basically mes_dir/module:mes_dir/mes/module:nyacc_dir/module</span></div><div class="line" id="132628"><span class="nick" style="color:#8dd3c7"><a href="#132628" label="[13:26:28]">&lt;janneke&gt;</a></span><span class="message">(y)</span></div><div class="line" id="140054"><span class="nick" style="color:#389600"><a href="#140054" label="[14:00:54]">&lt;Guest25&gt;</a></span><span class="message">Couldn't build crtn1.o</span></div><div class="line" id="140108"><span class="nick" style="color:#389600"><a href="#140108" label="[14:01:08]">&lt;Guest25&gt;</a></span><span class="message">same error again</span></div><div class="line" id="140119"><span class="nick" style="color:#389600"><a href="#140119" label="[14:01:19]">&lt;Guest25&gt;</a></span><span class="message">after exporting GUILE_LOAD_PATH</span></div><div class="line" id="140612"><span class="nick" style="color:#2e2a4a"><a href="#140612" label="[14:06:12]">&lt;stikonas&gt;</a></span><span class="message">must be still something wrong in GUILE_LOAD_PATH</span></div><div class="line" id="140617"><span class="nick" style="color:#2e2a4a"><a href="#140617" label="[14:06:17]">&lt;stikonas&gt;</a></span><span class="message">Guest25: what if you run live-bootstrap?</span></div><div class="line" id="140659"><span class="nick" style="color:#389600"><a href="#140659" label="[14:06:59]">&lt;Guest25&gt;</a></span><span class="message">Ok, I can try it</span></div><div class="line" id="142208"><span class="nick" style="color:#389600"><a href="#142208" label="[14:22:08]">&lt;Guest25&gt;</a></span><span class="message">now I'm getting unhandled exception: error: ((&quot;mescc: file not found: \&quot;x86_64-mes/x86_64.M1\&quot;&quot;))</span></div><div class="line" id="142208"><span class="nick" style="color:#389600"><a href="#142208" label="[14:22:08]">&lt;Guest25&gt;</a></span><span class="message">although I build for x86 and even gave x86_64-mes/x86_64.M1 file</span></div><div class="line" id="142236"><span class="nick" style="color:#2e2a4a"><a href="#142236" label="[14:22:36]">&lt;stikonas&gt;</a></span><span class="message">Guest25: is that manually?</span></div><div class="line" id="142305"><span class="nick" style="color:#2e2a4a"><a href="#142305" label="[14:23:05]">&lt;stikonas&gt;</a></span><span class="message">might be some env variable unset</span></div><div class="line" id="142310"><span class="nick" style="color:#2e2a4a"><a href="#142310" label="[14:23:10]">&lt;stikonas&gt;</a></span><span class="message">libdir ?</span></div><div class="line" id="142323"><span class="nick" style="color:#2e2a4a"><a href="#142323" label="[14:23:23]">&lt;stikonas&gt;</a></span><span class="message">but somehow it tries to look for x86_64 version rather than x86...</span></div><div class="line" id="142900"><span class="nick" style="color:#8dd3c7"><a href="#142900" label="[14:29:00]">&lt;janneke&gt;</a></span><span class="message">yes, LIBRARY_PATH must be set</span></div><div class="line" id="142900"><span class="nick" style="color:#389600"><a href="#142900" label="[14:29:00]">&lt;Guest25&gt;</a></span><span class="message">may be I did something wrong, let me fix it</span></div><div class="line" id="142917"><span class="nick" style="color:#8dd3c7"><a href="#142917" label="[14:29:17]">&lt;janneke&gt;</a></span><span class="message">(and you're clearly still building for x86_64)</span></div><div class="line" id="143340"><span class="nick" style="color:#389600"><a href="#143340" label="[14:33:40]">&lt;Guest25&gt;</a></span><span class="message">I fixed it, but now It searches for x86-mes/x86.M1</span></div><div class="line" id="143643"><span class="nick" style="color:#8dd3c7"><a href="#143643" label="[14:36:43]">&lt;janneke&gt;</a></span><span class="message">good, make sure that there's a directory in LIBRARY_PATH from which you can find that file</span></div><div class="line" id="143713"><span class="nick" style="color:#8dd3c7"><a href="#143713" label="[14:37:13]">&lt;janneke&gt;</a></span><span class="message">if you use -v (or is it -v -v?), mescc will show where it's looking right now</span></div><div class="line" id="183215"><span class="nick" style="color:#2e2a4a"><a href="#183215" label="[18:32:15]">&lt;stikonas&gt;</a></span><span class="message">hmm, new mes uses so many more syscalls...</span></div><div class="line" id="183240"><span class="nick" style="color:#2e2a4a"><a href="#183240" label="[18:32:40]">&lt;stikonas&gt;</a></span><span class="message">it's possibly builder-hex0 won't run...</span></div><div class="line" id="203239"><span class="nick" style="color:#6b8072"><a href="#203239" label="[20:32:39]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;cosinusoidally&gt; I've managed to hack my alternative tcc bootstrap path onto live-bootstrap. On my vm it reduces the time from nothing to tcc-0.9.27 from 30mins to less than 4mins (when redirecting the logs to a file since my logging is currently a bit verbose). In my version I don't build mescc.</span></div><div class="line" id="203244"><span class="nick" style="color:#6b8072"><a href="#203244" label="[20:32:44]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;cosinusoidally&gt; <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/compare/master...cosinusoidally:live-bootstrap:tcc_bootstrap_alt">https://github.com/fosslinux/live-bootstrap/compare/master...cosinusoidally:live-bootstrap:tcc_bootstrap_alt</a> </span></div><div class="line" id="205024"><span class="nick" style="color:#6b8072"><a href="#205024" label="[20:50:24]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; cosinusoidally: am I missing something, but I'm getting cd failure when bootstrap runs cd tcc_bootstrap_alt</span></div><div class="line" id="213039"><span class="nick" style="color:#6b8072"><a href="#213039" label="[21:30:39]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;cosinusoidally&gt; Andrius Štikonas: I haven't seen that, did you clone a copy of tcc_bootstrap_alt into sysa before running rootfs.py --chroot ?</span></div><div class="line" id="222426"><span class="nick" style="color:#6b8072"><a href="#222426" label="[22:24:26]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; oh, I didn't...</span></div><br /></div></body></html>