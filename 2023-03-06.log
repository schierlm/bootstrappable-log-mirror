<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2023-03-06.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="173825"><span class="nick" style="color:#389600"><a href="#173825" label="[17:38:25]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: I got the bash 5 checksums to match but then autoconf-2.69 fails on Fiwix as part of the automake-1.15.1 build.</span></div><div class="line" id="173903"><span class="nick" style="color:#389600"><a href="#173903" label="[17:39:03]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: autoconf-2.69 complains that the shell is not modern enough but the error message is vague.</span></div><div class="line" id="174039"><span class="nick" style="color:#389600"><a href="#174039" label="[17:40:39]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: I'm trying to figure it out but autotools problems are difficult to track down.</span></div><div class="line" id="181421"><span class="nick" style="color:#8dd3c7"><a href="#181421" label="[18:14:21]">&lt;stikonas[m]&gt;</a></span><span class="message">Hmm, bash 5 was added exactly to address that shell is too old problem, strange....</span></div><div class="line" id="181526"><span class="nick" style="color:#2e2a4a"><a href="#181526" label="[18:15:26]">&lt;alethkit&gt;</a></span><span class="message">Have you been made aware of guile steel?</span></div><div class="line" id="181540"><span class="nick" style="color:#8dd3c7"><a href="#181540" label="[18:15:40]">&lt;stikonas[m]&gt;</a></span><span class="message">rickmasters: also regarding that ext2 image, why do you say it all needs to be in builder-hex0 memory?</span></div><div class="line" id="181547"><span class="nick" style="color:#2e2a4a"><a href="#181547" label="[18:15:47]">&lt;alethkit&gt;</a></span><span class="message">It turns out that is now a thing.</span></div><div class="line" id="181641"><span class="nick" style="color:#8dd3c7"><a href="#181641" label="[18:16:41]">&lt;stikonas[m]&gt;</a></span><span class="message">It's fiwix ram that we might be running out</span></div><div class="line" id="181649"><span class="nick" style="color:#8dd3c7"><a href="#181649" label="[18:16:49]">&lt;stikonas[m]&gt;</a></span><span class="message">That can't be ext2, can it?</span></div><div class="line" id="181717"><span class="nick" style="color:#389600"><a href="#181717" label="[18:17:17]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: builder-hex0 only implements syscalls for the memory file system which is where the ext2 image is created.</span></div><div class="line" id="181747"><span class="nick" style="color:#8dd3c7"><a href="#181747" label="[18:17:47]">&lt;stikonas[m]&gt;</a></span><span class="message">Yes, but ext2 image is small</span></div><div class="line" id="181801"><span class="nick" style="color:#8dd3c7"><a href="#181801" label="[18:18:01]">&lt;stikonas[m]&gt;</a></span><span class="message">We are not increasing that</span></div><div class="line" id="181902"><span class="nick" style="color:#8dd3c7"><a href="#181902" label="[18:19:02]">&lt;stikonas[m]&gt;</a></span><span class="message">Or maybe I and fossy are missing something</span></div><div class="line" id="181935"><span class="nick" style="color:#8dd3c7"><a href="#181935" label="[18:19:35]">&lt;stikonas[m]&gt;</a></span><span class="message">Say ext image is 500MiB that fiwix boots with</span></div><div class="line" id="181943"><span class="nick" style="color:#389600"><a href="#181943" label="[18:19:43]">&lt;rickmasters&gt;</a></span><span class="message">It's 1152MB.</span></div><div class="line" id="182000"><span class="nick" style="color:#8dd3c7"><a href="#182000" label="[18:20:00]">&lt;stikonas[m]&gt;</a></span><span class="message">Does it mean fiwix will be limited to 1152 MB ram?</span></div><div class="line" id="182033"><span class="nick" style="color:#8dd3c7"><a href="#182033" label="[18:20:33]">&lt;stikonas[m]&gt;</a></span><span class="message">Rather than 3 GiB</span></div><div class="line" id="182110"><span class="nick" style="color:#8dd3c7"><a href="#182110" label="[18:21:10]">&lt;stikonas[m]&gt;</a></span><span class="message">alethkit: no, haven't heard about guile steel, though I'm not sure why would we need it?</span></div><div class="line" id="182218"><span class="nick" style="color:#8dd3c7"><a href="#182218" label="[18:22:18]">&lt;stikonas[m]&gt;</a></span><span class="message">Guile us a soft dependency of GCC, so we need it</span></div><div class="line" id="182231"><span class="nick" style="color:#389600"><a href="#182231" label="[18:22:31]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: Fiwix does have RAM limits but it's not limited by that.</span></div><div class="line" id="182250"><span class="nick" style="color:#8dd3c7"><a href="#182250" label="[18:22:50]">&lt;stikonas[m]&gt;</a></span><span class="message">rickmasters: yeah, so we are fine then</span></div><div class="line" id="182316"><span class="nick" style="color:#8dd3c7"><a href="#182316" label="[18:23:16]">&lt;stikonas[m]&gt;</a></span><span class="message">Fossy was saying we can have more space in fiwix stage for compikation</span></div><div class="line" id="182318"><span class="nick" style="color:#389600"><a href="#182318" label="[18:23:18]">&lt;rickmasters&gt;</a></span><span class="message">fossy said that Fiwix would eliminate the problem with compilation of large packages like Linux</span></div><div class="line" id="182335"><span class="nick" style="color:#8dd3c7"><a href="#182335" label="[18:23:35]">&lt;stikonas[m]&gt;</a></span><span class="message">Right now we are hitting 3GiB limit there</span></div><div class="line" id="182412"><span class="nick" style="color:#8dd3c7"><a href="#182412" label="[18:24:12]">&lt;stikonas[m]&gt;</a></span><span class="message">We won't need much more in builder-hex0</span></div><div class="line" id="182416"><span class="nick" style="color:#389600"><a href="#182416" label="[18:24:16]">&lt;rickmasters&gt;</a></span><span class="message">But the ext2 image size limits compilation size and that is limited by what builder-hex0 can squeeze in memory but its already at its limit.</span></div><div class="line" id="182445"><span class="nick" style="color:#389600"><a href="#182445" label="[18:24:45]">&lt;rickmasters&gt;</a></span><span class="message">So, we can handle Linux compilation right now. But adding more packages to sysa could be a problem.</span></div><div class="line" id="182446"><span class="nick" style="color:#8dd3c7"><a href="#182446" label="[18:24:46]">&lt;stikonas[m]&gt;</a></span><span class="message">Yes, that's different limit</span></div><div class="line" id="182509"><span class="nick" style="color:#8dd3c7"><a href="#182509" label="[18:25:09]">&lt;stikonas[m]&gt;</a></span><span class="message">Fossy said we couldn't add Linux binary package</span></div><div class="line" id="182523"><span class="nick" style="color:#8dd3c7"><a href="#182523" label="[18:25:23]">&lt;stikonas[m]&gt;</a></span><span class="message">That wouldn't increase image size</span></div><div class="line" id="182550"><span class="nick" style="color:#389600"><a href="#182550" label="[18:25:50]">&lt;rickmasters&gt;</a></span><span class="message">He said 'However, in the current state, we also need to have disk space available for the compilation process - this is where compiling large packages such as the Linux kernel can become very problematic. With Fiwix it seems we should be able to eliminate this problem.'</span></div><div class="line" id="182739"><span class="nick" style="color:#389600"><a href="#182739" label="[18:27:39]">&lt;rickmasters&gt;</a></span><span class="message">Fiwix can probably use additional partitions and disks yes and that eliminates the problem.</span></div><div class="line" id="182812"><span class="nick" style="color:#389600"><a href="#182812" label="[18:28:12]">&lt;rickmasters&gt;</a></span><span class="message">But if your trying to compile in the sysa ext2 image then the problem is not eliminated because thats limited by builder-hex0 memory.</span></div><div class="line" id="182938"><span class="nick" style="color:#389600"><a href="#182938" label="[18:29:38]">&lt;rickmasters&gt;</a></span><span class="message">His statement was somewhat vague. Compiling large packages such as Linux can be done in various phases.</span></div><div class="line" id="182941"><span class="nick" style="color:#2e2a4a"><a href="#182941" label="[18:29:41]">&lt;alethkit&gt;</a></span><span class="message">stikonas[m]:  I think it's a scheme that aims to compile to bare metal, so if one could go from hex0 to guile steel, it might be a good idea?</span></div><div class="line" id="182955"><span class="nick" style="color:#389600"><a href="#182955" label="[18:29:55]">&lt;rickmasters&gt;</a></span><span class="message">We may be thinking off different things and talking bas each other.</span></div><div class="line" id="182959"><span class="nick" style="color:#2e2a4a"><a href="#182959" label="[18:29:59]">&lt;alethkit&gt;</a></span><span class="message">I was going to work on something like that, but it turns out there's other yaks to shave first.</span></div><div class="line" id="183022"><span class="nick" style="color:#389600"><a href="#183022" label="[18:30:22]">&lt;rickmasters&gt;</a></span><span class="message">change /bas/past</span></div><div class="line" id="183441"><span class="nick" style="color:#8dd3c7"><a href="#183441" label="[18:34:41]">&lt;stikonas[m]&gt;</a></span><span class="message">alethkit: hmm, keep in mind it might be hard to go from hex0 to guile steel</span></div><div class="line" id="183551"><span class="nick" style="color:#8dd3c7"><a href="#183551" label="[18:35:51]">&lt;stikonas[m]&gt;</a></span><span class="message">At least normal guile is not so simple to build, needs GCC...</span></div><div class="line" id="183602"><span class="nick" style="color:#2e2a4a"><a href="#183602" label="[18:36:02]">&lt;alethkit&gt;</a></span><span class="message">it aims to be a low level version</span></div><div class="line" id="183613"><span class="nick" style="color:#2e2a4a"><a href="#183613" label="[18:36:13]">&lt;alethkit&gt;</a></span><span class="message">as in: manual memory management, limited TCO</span></div><div class="line" id="183631"><span class="nick" style="color:#2e2a4a"><a href="#183631" label="[18:36:31]">&lt;alethkit&gt;</a></span><span class="message">&quot;low-level enough to bootstrap a runtime&quot; is the description given, so...</span></div><div class="line" id="183644"><span class="nick" style="color:#8dd3c7"><a href="#183644" label="[18:36:44]">&lt;stikonas[m]&gt;</a></span><span class="message">Maybe then...</span></div><div class="line" id="183649"><span class="nick" style="color:#389600"><a href="#183649" label="[18:36:49]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: I guess I just don't understand exactly what fossy meant that Fiwix would eliminate the problem with available disk space.</span></div><div class="line" id="183701"><span class="nick" style="color:#2e2a4a"><a href="#183701" label="[18:37:01]">&lt;alethkit&gt;</a></span><span class="message">And they seem to have not even tried to spread it widely beyond word of mouth</span></div><div class="line" id="183704"><span class="nick" style="color:#8dd3c7"><a href="#183704" label="[18:37:04]">&lt;stikonas[m]&gt;</a></span><span class="message">Though you'll find it hard to beat builder-hex0</span></div><div class="line" id="183754"><span class="nick" style="color:#8dd3c7"><a href="#183754" label="[18:37:54]">&lt;stikonas[m]&gt;</a></span><span class="message">builder-hex0 is maybe 3KiB in size and already written in hex0</span></div><div class="line" id="183825"><span class="nick" style="color:#389600"><a href="#183825" label="[18:38:25]">&lt;rickmasters&gt;</a></span><span class="message">I guess I need the ELI5 explanation of how Fiwix gets more disk space for compilation beyond the 1152MB that builder-hex0 can prepare for it.</span></div><div class="line" id="184046"><span class="nick" style="color:#389600"><a href="#184046" label="[18:40:46]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: Looks like the autoconf-2.69 failure comes down to a 'test -x /' command failing on Fiwix.</span></div><div class="line" id="184154"><span class="nick" style="color:#389600"><a href="#184154" label="[18:41:54]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: It's classic autotools. This test has nothing to do with the shell, produces no output, and results in a misleading message.</span></div><div class="line" id="184341"><span class="nick" style="color:#389600"><a href="#184341" label="[18:43:41]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: I'll need to track down why that fails. It could be a bash built-in not working right or maybe Fiwix is returning the wrong mode for the root directory</span></div><div class="line" id="184400"><span class="nick" style="color:#8dd3c7"><a href="#184400" label="[18:44:00]">&lt;stikonas[m]&gt;</a></span><span class="message">rickmasters: we were thinking that fiwix can create a new ext2 image and boot into it</span></div><div class="line" id="184436"><span class="nick" style="color:#389600"><a href="#184436" label="[18:44:36]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: It could just format it on disk and mount it.</span></div><div class="line" id="184538"><span class="nick" style="color:#8dd3c7"><a href="#184538" label="[18:45:38]">&lt;stikonas[m]&gt;</a></span><span class="message">Yes, or that</span></div><div class="line" id="184556"><span class="nick" style="color:#8dd3c7"><a href="#184556" label="[18:45:56]">&lt;stikonas[m]&gt;</a></span><span class="message">But it is after builder-hex0</span></div><div class="line" id="184931"><span class="nick" style="color:#389600"><a href="#184931" label="[18:49:31]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: Right- as I commented in the Issue, if Fiwix is formatting another partition or disk then it can go beyond the builder-hex0 ext2 image size.</span></div><div class="line" id="185059"><span class="nick" style="color:#389600"><a href="#185059" label="[18:50:59]">&lt;rickmasters&gt;</a></span><span class="message">It just wasn't clear that fossy was talking about creating a new partition. It was a suggested that you brought up earlier but he didn't make it clear he was talking about that method.</span></div><div class="line" id="185125"><span class="nick" style="color:#8dd3c7"><a href="#185125" label="[18:51:25]">&lt;stikonas[m]&gt;</a></span><span class="message">I think that's what he meant</span></div><div class="line" id="185204"><span class="nick" style="color:#8dd3c7"><a href="#185204" label="[18:52:04]">&lt;stikonas[m]&gt;</a></span><span class="message">(Based on limitations we are hitting)</span></div><div class="line" id="185225"><span class="nick" style="color:#8dd3c7"><a href="#185225" label="[18:52:25]">&lt;stikonas[m]&gt;</a></span><span class="message">As for ext2 size, we can cut it down quite a bit</span></div><div class="line" id="185240"><span class="nick" style="color:#8dd3c7"><a href="#185240" label="[18:52:40]">&lt;stikonas[m]&gt;</a></span><span class="message">Just need to install linux-headers from the same tarball as linux</span></div><div class="line" id="185306"><span class="nick" style="color:#8dd3c7"><a href="#185306" label="[18:53:06]">&lt;stikonas[m]&gt;</a></span><span class="message">That's the biggest tarball in sysa/distfiles</span></div><div class="line" id="185350"><span class="nick" style="color:#389600"><a href="#185350" label="[18:53:50]">&lt;rickmasters&gt;</a></span><span class="message">Yes, that would reduce memory requirements for builder-hex0 quite a bit but to beat a dead horse, mes uses multiples of that so if memory is the concern we'd need to look at that enevntually.</span></div><div class="line" id="185824"><span class="nick" style="color:#389600"><a href="#185824" label="[18:58:24]">&lt;rickmasters&gt;</a></span><span class="message">Just to reiterate: if we write the builder-hex0 created ext2 image to disk and boot Fiwix off disk, it would need to format a second partition or disk to get more space.</span></div><div class="line" id="190020"><span class="nick" style="color:#389600"><a href="#190020" label="[19:00:20]">&lt;rickmasters&gt;</a></span><span class="message">If we use the ext2 image as a ram drive then it can just format one partition on the disk.</span></div><div class="line" id="190306"><span class="nick" style="color:#389600"><a href="#190306" label="[19:03:06]">&lt;rickmasters&gt;</a></span><span class="message">It's a tradeoff between the complexity of a large ram drive on Fiwix or multiple partitions.</span></div><div class="line" id="190341"><span class="nick" style="color:#389600"><a href="#190341" label="[19:03:41]">&lt;rickmasters&gt;</a></span><span class="message">It seems like multiple partitions is probably the way to go as I'm not comfortable with the large ram drive mods I made to Fiwix.</span></div><div class="line" id="191051"><span class="nick" style="color:#389600"><a href="#191051" label="[19:10:51]">&lt;rickmasters&gt;</a></span><span class="message">I should note that Fiwix would still need to build a lot of stuff to be able to format and mount a disk but it wouldn't need to build Linux for that.</span></div><div class="line" id="213116"><span class="nick" style="color:#8dd3c7"><a href="#213116" label="[21:31:16]">&lt;stikonas[m]&gt;</a></span><span class="message">Yeah, I agree, let's not make ram drive too large</span></div><div class="line" id="213149"><span class="nick" style="color:#8dd3c7"><a href="#213149" label="[21:31:49]">&lt;stikonas[m]&gt;</a></span><span class="message">And formatting ext2 file system on disk would still allow to compile Linux</span></div><div class="line" id="213235"><span class="nick" style="color:#8dd3c7"><a href="#213235" label="[21:32:35]">&lt;stikonas[m]&gt;</a></span><span class="message">Which needs over 1GiB right now</span></div><div class="line" id="214127"><span class="nick" style="color:#6b8072"><a href="#214127" label="[21:41:27]">&lt;pder&gt;</a></span><span class="message">Regarding the disk space issues in sysa, would it be helpful to have earlier xz decompression, perhaps right after building tcc?</span></div><div class="line" id="215222"><span class="nick" style="color:#80b1d3"><a href="#215222" label="[21:52:22]">&lt;stikonas&gt;</a></span><span class="message">pder: while it would help a tiny bit, it wouldn't be significant gain</span></div><div class="line" id="215301"><span class="nick" style="color:#80b1d3"><a href="#215301" label="[21:53:01]">&lt;stikonas&gt;</a></span><span class="message">we could probably build xz embedded much earlier</span></div><div class="line" id="215313"><span class="nick" style="color:#80b1d3"><a href="#215313" label="[21:53:13]">&lt;stikonas&gt;</a></span><span class="message">but most of the memory is not used by tarballs</span></div><div class="line" id="215358"><span class="nick" style="color:#80b1d3"><a href="#215358" label="[21:53:58]">&lt;stikonas&gt;</a></span><span class="message">pder: actually, in the current case, it might not be helpful at all</span></div><div class="line" id="215420"><span class="nick" style="color:#80b1d3"><a href="#215420" label="[21:54:20]">&lt;stikonas&gt;</a></span><span class="message">because as a hack, we do delete all tarballs from /sysa/distfiles before building the kernel</span></div><div class="line" id="215504"><span class="nick" style="color:#6b8072"><a href="#215504" label="[21:55:04]">&lt;pder&gt;</a></span><span class="message">ah ok, that makes sense</span></div><div class="line" id="215537"><span class="nick" style="color:#80b1d3"><a href="#215537" label="[21:55:37]">&lt;stikonas&gt;</a></span><span class="message">anyway, it seems we have a various somewhat indepent limits</span></div><div class="line" id="215554"><span class="nick" style="color:#80b1d3"><a href="#215554" label="[21:55:54]">&lt;stikonas&gt;</a></span><span class="message">which was causing some confusion between rickmasters fossy and me</span></div><div class="line" id="215616"><span class="nick" style="color:#80b1d3"><a href="#215616" label="[21:56:16]">&lt;stikonas&gt;</a></span><span class="message">so I think 1. there is a limit of how large builder-hex0 memory usage can be</span></div><div class="line" id="215639"><span class="nick" style="color:#80b1d3"><a href="#215639" label="[21:56:39]">&lt;stikonas&gt;</a></span><span class="message">2. there is a limit on how large fiwix initial ram disk can be (without additional hacks)</span></div><div class="line" id="215712"><span class="nick" style="color:#80b1d3"><a href="#215712" label="[21:57:12]">&lt;stikonas&gt;</a></span><span class="message">3. right now when we run on seed Linux, there is also a 3 GiB limit of memory</span></div><div class="line" id="215730"><span class="nick" style="color:#80b1d3"><a href="#215730" label="[21:57:30]">&lt;stikonas&gt;</a></span><span class="message">so having xz earlier would not help with 3</span></div><div class="line" id="215748"><span class="nick" style="color:#80b1d3"><a href="#215748" label="[21:57:48]">&lt;stikonas&gt;</a></span><span class="message">might even make it worse (additional binary)</span></div><div class="line" id="215800"><span class="nick" style="color:#80b1d3"><a href="#215800" label="[21:58:00]">&lt;stikonas&gt;</a></span><span class="message">though it might help with 1 or 2 (fewer distfiles)</span></div><div class="line" id="215859"><span class="nick" style="color:#80b1d3"><a href="#215859" label="[21:58:59]">&lt;stikonas&gt;</a></span><span class="message">pder: what might actually help and is not too hard is to check where the memory goes to</span></div><div class="line" id="215904"><span class="nick" style="color:#80b1d3"><a href="#215904" label="[21:59:04]">&lt;stikonas&gt;</a></span><span class="message">at least in case 3</span></div><div class="line" id="215916"><span class="nick" style="color:#80b1d3"><a href="#215916" label="[21:59:16]">&lt;stikonas&gt;</a></span><span class="message">I guess in case 1. the biggest offender is mes</span></div><div class="line" id="220259"><span class="nick" style="color:#6b8072"><a href="#220259" label="[22:02:59]">&lt;pder&gt;</a></span><span class="message">thanks for the explanation.  I'm not clear where the sticking point is though, since rickmasters' branch can build all the way to the linux kernel</span></div><div class="line" id="220441"><span class="nick" style="color:#6b8072"><a href="#220441" label="[22:04:41]">&lt;pder&gt;</a></span><span class="message">Once linux boots either with kexec or through a reboot, aren't we home free in terms of RAM and disk space?</span></div><div class="line" id="220445"><span class="nick" style="color:#80b1d3"><a href="#220445" label="[22:04:45]">&lt;stikonas&gt;</a></span><span class="message">well, 2. is patched out in rickmasters branch</span></div><div class="line" id="220509"><span class="nick" style="color:#80b1d3"><a href="#220509" label="[22:05:09]">&lt;stikonas&gt;</a></span><span class="message">pder: once linux boots we use hard drive extensively for fs, so it's less of an issue</span></div><div class="line" id="220536"><span class="nick" style="color:#80b1d3"><a href="#220536" label="[22:05:36]">&lt;stikonas&gt;</a></span><span class="message">there is still 3GiB RAM limit, but that's only needed to store memory of current processes</span></div><div class="line" id="220539"><span class="nick" style="color:#80b1d3"><a href="#220539" label="[22:05:39]">&lt;stikonas&gt;</a></span><span class="message">rather than all the data</span></div><div class="line" id="220803"><span class="nick" style="color:#80b1d3"><a href="#220803" label="[22:08:03]">&lt;stikonas&gt;</a></span><span class="message">and I think fossy also wanted to &quot;backport&quot; disk usage to fiwix</span></div><div class="line" id="220803"><span class="nick" style="color:#80b1d3"><a href="#220803" label="[22:08:03]">&lt;stikonas&gt;</a></span><span class="message">so that we can stop keeping everything in memory earlier</span></div><div class="line" id="220803"><span class="nick" style="color:#389600"><a href="#220803" label="[22:08:03]">&lt;rickmasters&gt;</a></span><span class="message">There were two issues being mixed together: large compilations impact memory requirements for builder-hex0 and moving compilations to disk allows for even larger compilations but as pder points out that's more theoretical future</span></div><div class="line" id="220803"><span class="nick" style="color:#80b1d3"><a href="#220803" label="[22:08:03]">&lt;stikonas&gt;</a></span><span class="message">and hence all this discussion with some confusions</span></div><div class="line" id="220803"><span class="nick" style="color:#80b1d3"><a href="#220803" label="[22:08:03]">&lt;stikonas&gt;</a></span><span class="message">even on linux we e.g. can't bootstrap rust with mrustc</span></div><div class="line" id="220803"><span class="nick" style="color:#80b1d3"><a href="#220803" label="[22:08:03]">&lt;stikonas&gt;</a></span><span class="message">(as it uses loads of memory and hence needs 64-bit)</span></div><div class="line" id="220847"><span class="nick" style="color:#80b1d3"><a href="#220847" label="[22:08:47]">&lt;stikonas&gt;</a></span><span class="message">rickmasters: still, that example of compiling linux is where limit 3. might matter without affecting 1 and 2</span></div><div class="line" id="220913"><span class="nick" style="color:#80b1d3"><a href="#220913" label="[22:09:13]">&lt;stikonas&gt;</a></span><span class="message">i.e. we could build kernel with more features enabled, etc...</span></div><div class="line" id="220934"><span class="nick" style="color:#80b1d3"><a href="#220934" label="[22:09:34]">&lt;stikonas&gt;</a></span><span class="message">(also create binary linux package)</span></div><div class="line" id="221026"><span class="nick" style="color:#389600"><a href="#221026" label="[22:10:26]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: I don't understand what 3 means. Does compiling Linux get anywhere near 3GB ram limit?</span></div><div class="line" id="221038"><span class="nick" style="color:#80b1d3"><a href="#221038" label="[22:10:38]">&lt;stikonas&gt;</a></span><span class="message">rickmasters: it does</span></div><div class="line" id="221110"><span class="nick" style="color:#80b1d3"><a href="#221110" label="[22:11:10]">&lt;stikonas&gt;</a></span><span class="message">(at least together with all /sysa files that we also keep in memory)</span></div><div class="line" id="221145"><span class="nick" style="color:#80b1d3"><a href="#221145" label="[22:11:45]">&lt;stikonas&gt;</a></span><span class="message">rickmasters: in fact first attempts were taking us over 3 GB RAM limit, so we had to make configuration leaner</span></div><div class="line" id="221154"><span class="nick" style="color:#80b1d3"><a href="#221154" label="[22:11:54]">&lt;stikonas&gt;</a></span><span class="message">which means we are fairly close to the limit</span></div><div class="line" id="221238"><span class="nick" style="color:#389600"><a href="#221238" label="[22:12:38]">&lt;rickmasters&gt;</a></span><span class="message">hmm, Fiwix can build it with 1152MB RAM drive and a 1GB general memory pool, I think -- so were the memory requirements reduced?</span></div><div class="line" id="221245"><span class="nick" style="color:#80b1d3"><a href="#221245" label="[22:12:45]">&lt;stikonas&gt;</a></span><span class="message">rickmasters: compiling linux (including storage of all object files used for linking) needs quite a bit over 1 GiB</span></div><div class="line" id="221309"><span class="nick" style="color:#80b1d3"><a href="#221309" label="[22:13:09]">&lt;stikonas&gt;</a></span><span class="message">hmm, interesting</span></div><div class="line" id="221317"><span class="nick" style="color:#80b1d3"><a href="#221317" label="[22:13:17]">&lt;stikonas&gt;</a></span><span class="message">so on fiwix you use just over 2 GB</span></div><div class="line" id="221404"><span class="nick" style="color:#80b1d3"><a href="#221404" label="[22:14:04]">&lt;stikonas&gt;</a></span><span class="message">rickmasters: unless we actually get less than 3 GB on linux</span></div><div class="line" id="221422"><span class="nick" style="color:#389600"><a href="#221422" label="[22:14:22]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: I think so. I mean Mikaku could answer more about how much memory is available but I thought it was only 1GB</span></div><div class="line" id="221506"><span class="nick" style="color:#80b1d3"><a href="#221506" label="[22:15:06]">&lt;stikonas&gt;</a></span><span class="message">I don't think it's that much runtime memory</span></div><div class="line" id="221518"><span class="nick" style="color:#80b1d3"><a href="#221518" label="[22:15:18]">&lt;stikonas&gt;</a></span><span class="message">my thinking was that it's mostly files</span></div><div class="line" id="221623"><span class="nick" style="color:#389600"><a href="#221623" label="[22:16:23]">&lt;rickmasters&gt;</a></span><span class="message">Right, it fits in 1152 * 1024 * 1024 ram drive</span></div><br /></div></body></html>