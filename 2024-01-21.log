<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2024-01-21.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="004358"><span class="nick" style="color:#389600"><a href="#004358" label="[00:43:58]">&lt;stikonas&gt;</a></span><span class="message">hmm, just retried building tcc-mes on x86_64</span></div><div class="line" id="004423"><span class="nick" style="color:#389600"><a href="#004423" label="[00:44:23]">&lt;stikonas&gt;</a></span><span class="message">with one small mes patch tcc-mes shows some signs of life</span></div><div class="line" id="004432"><span class="nick" style="color:#389600"><a href="#004432" label="[00:44:32]">&lt;stikonas&gt;</a></span><span class="message">I was able to build crt1.c</span></div><div class="line" id="004446"><span class="nick" style="color:#389600"><a href="#004446" label="[00:44:46]">&lt;stikonas&gt;</a></span><span class="message">though building other things prints assert fail: mode == x86_64_mode_sse and segfaults</span></div><div class="line" id="013852"><span class="nick" style="color:#389600"><a href="#013852" label="[01:38:52]">&lt;stikonas&gt;</a></span><span class="message">strangely inserting one printf makes it work quite a bit better</span></div><div class="line" id="013905"><span class="nick" style="color:#389600"><a href="#013905" label="[01:39:05]">&lt;stikonas&gt;</a></span><span class="message">I was not able to build unified-libc.c in one go , but file by file it seems to build</span></div><div class="line" id="013913"><span class="nick" style="color:#389600"><a href="#013913" label="[01:39:13]">&lt;stikonas&gt;</a></span><span class="message">though it still crashes on trying to rebuilt tcc with itself</span></div><div class="line" id="013937"><span class="nick" style="color:#389600"><a href="#013937" label="[01:39:37]">&lt;stikonas&gt;</a></span><span class="message">getopt.c also crashes...</span></div><div class="line" id="050217"><span class="nick" style="color:#8dd3c7"><a href="#050217" label="[05:02:17]">&lt;oriansj&gt;</a></span><span class="message">musllll: if someone wants to do formal specifications and theorem proving, it'll probably improve the trust but until someone steps up to do it. It'll just remain on the nice to have list.</span></div><div class="line" id="110854"><span class="nick" style="color:#2e2a4a"><a href="#110854" label="[11:08:54]">&lt;GoogulatorMobile&gt;</a></span><span class="message">cosniusoidally: are you seeing your Fiwix trampoline freeze on a recent Intel CPU?</span></div><div class="line" id="110904"><span class="nick" style="color:#2e2a4a"><a href="#110904" label="[11:09:04]">&lt;GoogulatorMobile&gt;</a></span><span class="message">If so, that might be the same issue pder is having</span></div><div class="line" id="111742"><span class="nick" style="color:#6b8072"><a href="#111742" label="[11:17:42]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;cosinusoidally&gt; GoogulatorMobile: how recent is recent? I'm on an Ivy Bridge Intel CPU (circa 2012). I might have generated the init.img in a slightly odd way, I'm just trying again atm.</span></div><div class="line" id="111915"><span class="nick" style="color:#2e2a4a"><a href="#111915" label="[11:19:15]">&lt;GoogulatorMobile&gt;</a></span><span class="message">Then it's probably not that</span></div><div class="line" id="111938"><span class="nick" style="color:#2e2a4a"><a href="#111938" label="[11:19:38]">&lt;GoogulatorMobile&gt;</a></span><span class="message">pder is getting weird Fiwix boot issues on a Raptor Lake</span></div><div class="line" id="112554"><span class="nick" style="color:#6b8072"><a href="#112554" label="[11:25:54]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;cosinusoidally&gt; ah, my fork of live-bootstrap is not fully up to date with master in the main repo (my branch only has commits upto the 10th Jan). I might just be missing some fixes.</span></div><div class="line" id="122726"><span class="nick" style="color:#389600"><a href="#122726" label="[12:27:26]">&lt;stikonas&gt;</a></span><span class="message">janneke: yesterday I tested x86_64 mescc-&gt;tcc bootstrap and with seom patches got some promising signs of life from tcc-mes (though not complete bootstrap)</span></div><div class="line" id="122823"><span class="nick" style="color:#80b1d3"><a href="#122823" label="[12:28:23]">&lt;janneke&gt;</a></span><span class="message">stikonas: yay!</span></div><div class="line" id="122824"><span class="nick" style="color:#389600"><a href="#122824" label="[12:28:24]">&lt;stikonas&gt;</a></span><span class="message">one thing I needed is to change this line <a rel="nofollow" href="https://git.savannah.gnu.org/cgit/mes.git/tree/module/mescc/compile.scm#n1488">https://git.savannah.gnu.org/cgit/mes.git/tree/module/mescc/compile.scm#n1488</a> </span></div><div class="line" id="122845"><span class="nick" style="color:#389600"><a href="#122845" label="[12:28:45]">&lt;stikonas&gt;</a></span><span class="message">though I think we discussed it at some point earlier</span></div><div class="line" id="122855"><span class="nick" style="color:#389600"><a href="#122855" label="[12:28:55]">&lt;stikonas&gt;</a></span><span class="message">and you said it starts failing some test</span></div><div class="line" id="122907"><span class="nick" style="color:#389600"><a href="#122907" label="[12:29:07]">&lt;stikonas&gt;</a></span><span class="message">but I don't remember the details now</span></div><div class="line" id="122931"><span class="nick" style="color:#80b1d3"><a href="#122931" label="[12:29:31]">&lt;janneke&gt;</a></span><span class="message">oh my yeah, those terrible tests</span></div><div class="line" id="122954"><span class="nick" style="color:#389600"><a href="#122954" label="[12:29:54]">&lt;stikonas&gt;</a></span><span class="message">might even be the same tests that is failing for vagrantc but I don't remember now</span></div><div class="line" id="123008"><span class="nick" style="color:#389600"><a href="#123008" label="[12:30:08]">&lt;stikonas&gt;</a></span><span class="message">anyway, with that patch applied tcc-mes can build crt1.c but crashes on most other things</span></div><div class="line" id="123021"><span class="nick" style="color:#80b1d3"><a href="#123021" label="[12:30:21]">&lt;janneke&gt;</a></span><span class="message">(no, but it's in the same problem area)</span></div><div class="line" id="123023"><span class="nick" style="color:#389600"><a href="#123023" label="[12:30:23]">&lt;stikonas&gt;</a></span><span class="message">with another (even stranger patch) I can compile most of libc</span></div><div class="line" id="123100"><span class="nick" style="color:#389600"><a href="#123100" label="[12:31:00]">&lt;stikonas&gt;</a></span><span class="message">that other &quot;hack&quot;  is inserting one printf statement in tcc:x86_64-gen.c...</span></div><div class="line" id="123109"><span class="nick" style="color:#389600"><a href="#123109" label="[12:31:09]">&lt;stikonas&gt;</a></span><span class="message">no idea why it makes segfault go away...</span></div><div class="line" id="123130"><span class="nick" style="color:#389600"><a href="#123130" label="[12:31:30]">&lt;stikonas&gt;</a></span><span class="message">I still wasn't able to build getopt.c or tcc.c</span></div><div class="line" id="123138"><span class="nick" style="color:#389600"><a href="#123138" label="[12:31:38]">&lt;stikonas&gt;</a></span><span class="message">probably some other segfault</span></div><div class="line" id="123231"><span class="nick" style="color:#389600"><a href="#123231" label="[12:32:31]">&lt;stikonas&gt;</a></span><span class="message">anyway, for now I just have this change:</span></div><div class="line" id="123233"><span class="nick" style="color:#389600"><a href="#123233" label="[12:32:33]">&lt;stikonas&gt;</a></span><span class="message">-               (wrap-as (as info 'long-signed-r))  ; huh, why not long-r?</span></div><div class="line" id="123235"><span class="nick" style="color:#389600"><a href="#123235" label="[12:32:35]">&lt;stikonas&gt;</a></span><span class="message">+               (wrap-as (as info 'long-r))  ; huh, why not long-r?</span></div><div class="line" id="123240"><span class="nick" style="color:#389600"><a href="#123240" label="[12:32:40]">&lt;stikonas&gt;</a></span><span class="message">well, maybe I should remove the comment</span></div><div class="line" id="123314"><span class="nick" style="color:#80b1d3"><a href="#123314" label="[12:33:14]">&lt;janneke&gt;</a></span><span class="message">sure, do anything that works/seems to work</span></div><div class="line" id="123331"><span class="nick" style="color:#80b1d3"><a href="#123331" label="[12:33:31]">&lt;janneke&gt;</a></span><span class="message">we're missing some aspect wrt compiling portable c code here</span></div><div class="line" id="123334"><span class="nick" style="color:#389600"><a href="#123334" label="[12:33:34]">&lt;stikonas&gt;</a></span><span class="message">well, I need to retry the test...</span></div><div class="line" id="123339"><span class="nick" style="color:#389600"><a href="#123339" label="[12:33:39]">&lt;stikonas&gt;</a></span><span class="message">I guess ./lib/tests/scaffold/17-compare-le.c ?</span></div><div class="line" id="123411"><span class="nick" style="color:#389600"><a href="#123411" label="[12:34:11]">&lt;stikonas&gt;</a></span><span class="message">well, I'll see how tests are doing and send the patch...</span></div><div class="line" id="123412"><span class="nick" style="color:#80b1d3"><a href="#123412" label="[12:34:12]">&lt;janneke&gt;</a></span><span class="message">yes, i'd test all the 17-compare tests</span></div><div class="line" id="123449"><span class="nick" style="color:#80b1d3"><a href="#123449" label="[12:34:49]">&lt;janneke&gt;</a></span><span class="message">ACTION was hoping we'd get to the bottom of this during the riscv64 port, but somehow we managed to wiggle past</span></div><div class="line" id="123659"><span class="nick" style="color:#389600"><a href="#123659" label="[12:36:59]">&lt;stikonas&gt;</a></span><span class="message">probably riscv backend was not using that thing</span></div><div class="line" id="123733"><span class="nick" style="color:#389600"><a href="#123733" label="[12:37:33]">&lt;stikonas&gt;</a></span><span class="message">in x86_64 this code was triggered when doing something like o(&quot;0x12345678&quot;)</span></div><div class="line" id="124548"><span class="nick" style="color:#80b1d3"><a href="#124548" label="[12:45:48]">&lt;janneke&gt;</a></span><span class="message">ah right, yeah that could be</span></div><div class="line" id="124812"><span class="nick" style="color:#389600"><a href="#124812" label="[12:48:12]">&lt;stikonas&gt;</a></span><span class="message">ok, one test is failing...</span></div><div class="line" id="124821"><span class="nick" style="color:#389600"><a href="#124821" label="[12:48:21]">&lt;stikonas&gt;</a></span><span class="message">17-compare-rotated.c returns 1</span></div><div class="line" id="124912"><span class="nick" style="color:#389600"><a href="#124912" label="[12:49:12]">&lt;stikonas&gt;</a></span><span class="message">oh more of them are failing</span></div><div class="line" id="124913"><span class="nick" style="color:#389600"><a href="#124913" label="[12:49:13]">&lt;stikonas&gt;</a></span><span class="message">hmm</span></div><div class="line" id="125047"><span class="nick" style="color:#389600"><a href="#125047" label="[12:50:47]">&lt;stikonas&gt;</a></span><span class="message">maybe 4...</span></div><div class="line" id="125556"><span class="nick" style="color:#389600"><a href="#125556" label="[12:55:56]">&lt;stikonas&gt;</a></span><span class="message">janneke: oh those tests are failing before my changes too on x86_64</span></div><div class="line" id="125654"><span class="nick" style="color:#80b1d3"><a href="#125654" label="[12:56:54]">&lt;janneke&gt;</a></span><span class="message">&quot;great&quot;</span></div><div class="line" id="125801"><span class="nick" style="color:#389600"><a href="#125801" label="[12:58:01]">&lt;stikonas&gt;</a></span><span class="message">unless I'm doing something wrong with my environment...</span></div><div class="line" id="130105"><span class="nick" style="color:#389600"><a href="#130105" label="[13:01:05]">&lt;stikonas&gt;</a></span><span class="message">well, I'll try to run x86 bootstrap with my change</span></div><div class="line" id="130118"><span class="nick" style="color:#389600"><a href="#130118" label="[13:01:18]">&lt;stikonas&gt;</a></span><span class="message">it's unlikely to be affected given that this is mostly 64-bit change</span></div><div class="line" id="141502"><span class="nick" style="color:#6b8072"><a href="#141502" label="[14:15:02]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;cosinusoidally&gt; I'm no longer having issues with the builder-hex0 to fiwix trampoline. I think the issue was because I was using the bare metal init.img under qemu. This time around I'm using the --qemu flag. Seems ok with the latest version of builder-hex0. It's currently building guile so it has successfully built fiwix and Linux.</span></div><div class="line" id="141928"><span class="nick" style="color:#6d2462"><a href="#141928" label="[14:19:28]">&lt;lrvick&gt;</a></span><span class="message">Naming things is hard, but in my mini distro I have &quot;stage0&quot; as the stage0 triple build setup, the live-bootstrap setup as stage1, the cross compiler stack as stage2, and the whole rest of the distro that consists of all the final distributable trusted compilers for various languages as stage3.</span></div><div class="line" id="141955"><span class="nick" style="color:#6d2462"><a href="#141955" label="[14:19:55]">&lt;lrvick&gt;</a></span><span class="message">if reading that made you facepalm because I am wildly misrepresenting the common usages of &quot;stages&quot; in this universe, lmk</span></div><div class="line" id="162253"><span class="nick" style="color:#2e2a4a"><a href="#162253" label="[16:22:53]">&lt;GoogulatorMobile&gt;</a></span><span class="message">cosniusoidally: The bare metal img will output to VGA instead of serial console when Fiwix starts.</span></div><div class="line" id="162429"><span class="nick" style="color:#2e2a4a"><a href="#162429" label="[16:24:29]">&lt;GoogulatorMobile&gt;</a></span><span class="message">Before Fiwix, SeaBIOS is used for console output, which autoroutes between VGA and serial based on -nographic; Fiwix instead selects its console based on $BAREMETAL.</span></div><div class="line" id="171242"><span class="nick" style="color:#389600"><a href="#171242" label="[17:12:42]">&lt;stikonas&gt;</a></span><span class="message">janneke: thanks for merging the previous patch. I'm still testing  (on riscv64) that mescc patch (long-signed-r -&gt; long-r) that helps x86_64 but in the meantime I've started looking at the next problem</span></div><div class="line" id="171338"><span class="nick" style="color:#389600"><a href="#171338" label="[17:13:38]">&lt;stikonas&gt;</a></span><span class="message">janneke: there is something miscompiled with &quot;mode&quot; on this line <a rel="nofollow" href="https://gitlab.com/janneke/tinycc/-/blob/master/x86_64-gen.c?ref_type=heads#L1281">https://gitlab.com/janneke/tinycc/-/blob/master/x86_64-gen.c?ref_type=heads#L1281</a> </span></div><div class="line" id="171402"><span class="nick" style="color:#389600"><a href="#171402" label="[17:14:02]">&lt;stikonas&gt;</a></span><span class="message">but if I insert &quot;mode;&quot; on the next line things seems to work</span></div><div class="line" id="171519"><span class="nick" style="color:#389600"><a href="#171519" label="[17:15:19]">&lt;stikonas&gt;</a></span><span class="message">the effect on inserting the mode is  <a rel="nofollow" href="https://paste.debian.net/1304813/">https://paste.debian.net/1304813/</a> </span></div><div class="line" id="171542"><span class="nick" style="color:#389600"><a href="#171542" label="[17:15:42]">&lt;stikonas&gt;</a></span><span class="message">and I think the important extra line is movslq_%eax,%rax</span></div><div class="line" id="171627"><span class="nick" style="color:#80b1d3"><a href="#171627" label="[17:16:27]">&lt;janneke&gt;</a></span><span class="message">stikonas: whut, how did you find that workaround?</span></div><div class="line" id="171657"><span class="nick" style="color:#389600"><a href="#171657" label="[17:16:57]">&lt;stikonas&gt;</a></span><span class="message">well, I wanted to debug stuff, so I wanted to check value of mode</span></div><div class="line" id="171700"><span class="nick" style="color:#80b1d3"><a href="#171700" label="[17:17:00]">&lt;janneke&gt;</a></span><span class="message">it looks like &quot;just a function call&quot; apart from maybe the vtop dereference</span></div><div class="line" id="171711"><span class="nick" style="color:#389600"><a href="#171711" label="[17:17:11]">&lt;stikonas&gt;</a></span><span class="message">so first, I inserted printf(&quot;mode = %d\n&quot;, mode);</span></div><div class="line" id="171714"><span class="nick" style="color:#389600"><a href="#171714" label="[17:17:14]">&lt;stikonas&gt;</a></span><span class="message">and it also fixed the crash</span></div><div class="line" id="171722"><span class="nick" style="color:#389600"><a href="#171722" label="[17:17:22]">&lt;stikonas&gt;</a></span><span class="message">so then I started looking for someting simpler</span></div><div class="line" id="171728"><span class="nick" style="color:#389600"><a href="#171728" label="[17:17:28]">&lt;stikonas&gt;</a></span><span class="message">mode = 2 btw...</span></div><div class="line" id="171735"><span class="nick" style="color:#80b1d3"><a href="#171735" label="[17:17:35]">&lt;janneke&gt;</a></span><span class="message">too much magic...</span></div><div class="line" id="171748"><span class="nick" style="color:#389600"><a href="#171748" label="[17:17:48]">&lt;stikonas&gt;</a></span><span class="message">anyway, perhaps the register had some rubbish there?</span></div><div class="line" id="171752"><span class="nick" style="color:#389600"><a href="#171752" label="[17:17:52]">&lt;stikonas&gt;</a></span><span class="message">so sign extension helps</span></div><div class="line" id="171813"><span class="nick" style="color:#80b1d3"><a href="#171813" label="[17:18:13]">&lt;janneke&gt;</a></span><span class="message">but, working code is always great, it often is a step towards understanding or finding the bug</span></div><div class="line" id="171817"><span class="nick" style="color:#389600"><a href="#171817" label="[17:18:17]">&lt;stikonas&gt;</a></span><span class="message">in the worst case we can add a workaroudn to tcc</span></div><div class="line" id="171819"><span class="nick" style="color:#389600"><a href="#171819" label="[17:18:19]">&lt;stikonas&gt;</a></span><span class="message">but yeah</span></div><div class="line" id="171823"><span class="nick" style="color:#80b1d3"><a href="#171823" label="[17:18:23]">&lt;janneke&gt;</a></span><span class="message">yeah</span></div><div class="line" id="171829"><span class="nick" style="color:#389600"><a href="#171829" label="[17:18:29]">&lt;stikonas&gt;</a></span><span class="message">it would be much better to understand the root cause</span></div><div class="line" id="171832"><span class="nick" style="color:#389600"><a href="#171832" label="[17:18:32]">&lt;stikonas&gt;</a></span><span class="message">and fix it in mescc</span></div><div class="line" id="171855"><span class="nick" style="color:#389600"><a href="#171855" label="[17:18:55]">&lt;stikonas&gt;</a></span><span class="message">so we are probably missing some sign extension somewhere there</span></div><div class="line" id="171930"><span class="nick" style="color:#80b1d3"><a href="#171930" label="[17:19:30]">&lt;janneke&gt;</a></span><span class="message">i've taken quite some pieces of code out of tcc as inspiration for the mescc test suite</span></div><div class="line" id="171948"><span class="nick" style="color:#389600"><a href="#171948" label="[17:19:48]">&lt;stikonas&gt;</a></span><span class="message">yeah, but I guess mostly from i386 file...</span></div><div class="line" id="171952"><span class="nick" style="color:#389600"><a href="#171952" label="[17:19:52]">&lt;stikonas&gt;</a></span><span class="message">this one is x86_64...</span></div><div class="line" id="171954"><span class="nick" style="color:#80b1d3"><a href="#171954" label="[17:19:54]">&lt;janneke&gt;</a></span><span class="message">sure</span></div><div class="line" id="172018"><span class="nick" style="color:#80b1d3"><a href="#172018" label="[17:20:18]">&lt;janneke&gt;</a></span><span class="message">but that could work too; if you could isolate the call and find it to fail in a small test, that would be super helpful</span></div><div class="line" id="172028"><span class="nick" style="color:#389600"><a href="#172028" label="[17:20:28]">&lt;stikonas&gt;</a></span><span class="message">yeah, we do need a smaller reproducer...</span></div><div class="line" id="172046"><span class="nick" style="color:#389600"><a href="#172046" label="[17:20:46]">&lt;stikonas&gt;</a></span><span class="message">small reproducer is usually the next step</span></div><div class="line" id="172057"><span class="nick" style="color:#80b1d3"><a href="#172057" label="[17:20:57]">&lt;janneke&gt;</a></span><span class="message">yep</span></div><div class="line" id="172100"><span class="nick" style="color:#389600"><a href="#172100" label="[17:21:00]">&lt;stikonas&gt;</a></span><span class="message">at least that was often the case when ekaitz and me debugged riscv64...</span></div><div class="line" id="172114"><span class="nick" style="color:#80b1d3"><a href="#172114" label="[17:21:14]">&lt;janneke&gt;</a></span><span class="message">same</span></div><div class="line" id="172135"><span class="nick" style="color:#389600"><a href="#172135" label="[17:21:35]">&lt;stikonas&gt;</a></span><span class="message">we are probably just a few bugs away from working bootstrap</span></div><div class="line" id="172144"><span class="nick" style="color:#389600"><a href="#172144" label="[17:21:44]">&lt;stikonas&gt;</a></span><span class="message">(on x86_64)</span></div><div class="line" id="172246"><span class="nick" style="color:#389600"><a href="#172246" label="[17:22:46]">&lt;stikonas&gt;</a></span><span class="message">(not counting various other integration work that needs to be done)</span></div><div class="line" id="172303"><span class="nick" style="color:#389600"><a href="#172303" label="[17:23:03]">&lt;stikonas&gt;</a></span><span class="message">(for native x86_64 bootstrap to work on guix and live-bootstrap)</span></div><div class="line" id="172649"><span class="nick" style="color:#80b1d3"><a href="#172649" label="[17:26:49]">&lt;janneke&gt;</a></span><span class="message">that would be so great!</span></div><div class="line" id="172703"><span class="nick" style="color:#80b1d3"><a href="#172703" label="[17:27:03]">&lt;janneke&gt;</a></span><span class="message">(but yeah, we need tcc =&gt; gcc-4.6)</span></div><div class="line" id="180644"><span class="nick" style="color:#389600"><a href="#180644" label="[18:06:44]">&lt;stikonas&gt;</a></span><span class="message">well, tcc =&gt; gcc-4.6 shouldn't be too hard if you are willing to package musl</span></div><div class="line" id="180712"><span class="nick" style="color:#389600"><a href="#180712" label="[18:07:12]">&lt;stikonas&gt;</a></span><span class="message">and once gcc is built, we can easily build a fairly new glibc</span></div><div class="line" id="180739"><span class="nick" style="color:#389600"><a href="#180739" label="[18:07:39]">&lt;stikonas&gt;</a></span><span class="message">perhaps eventually meslibc can also include more functions</span></div><div class="line" id="180927"><span class="nick" style="color:#80b1d3"><a href="#180927" label="[18:09:27]">&lt;janneke&gt;</a></span><span class="message">great</span></div><div class="line" id="180944"><span class="nick" style="color:#389600"><a href="#180944" label="[18:09:44]">&lt;stikonas&gt;</a></span><span class="message">well, it's probably harder on riscv64...</span></div><div class="line" id="180955"><span class="nick" style="color:#389600"><a href="#180955" label="[18:09:55]">&lt;stikonas&gt;</a></span><span class="message">we are still hitting various tcc bugs there</span></div><div class="line" id="181017"><span class="nick" style="color:#389600"><a href="#181017" label="[18:10:17]">&lt;stikonas&gt;</a></span><span class="message">but I think x86 and x86_64 should be simple</span></div><div class="line" id="192546"><span class="nick" style="color:#234e69"><a href="#192546" label="[19:25:46]">&lt;Googulator&gt;</a></span><span class="message">fossy: PR for pulling in new builder-hex0 changes: <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/414">https://github.com/fosslinux/live-bootstrap/pull/414</a> </span></div><div class="line" id="192615"><span class="nick" style="color:#234e69"><a href="#192615" label="[19:26:15]">&lt;Googulator&gt;</a></span><span class="message">This should fix boot on IDE and IDE-emulated SATA drives.</span></div><div class="line" id="192801"><span class="nick" style="color:#234e69"><a href="#192801" label="[19:28:01]">&lt;Googulator&gt;</a></span><span class="message">Also, I made it much easier to pull in future builder-hex0 fixes; builder-hex0 is now a submodule linking to rickmasters' repo. (This will be useful when my next batch of changes, fixing USB flash drive boot, gets merged upstream.)</span></div><div class="line" id="221713"><span class="nick" style="color:#234e69"><a href="#221713" label="[22:17:13]">&lt;Googulator&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/ironmeld/builder-hex0/pull/6">https://github.com/ironmeld/builder-hex0/pull/6</a>  for USB flash drive boot support</span></div><div class="line" id="223413"><span class="nick" style="color:#389600"><a href="#223413" label="[22:34:13]">&lt;stikonas&gt;</a></span><span class="message">oh that's nice!</span></div><div class="line" id="232430"><span class="nick" style="color:#6c3d55"><a href="#232430" label="[23:24:30]">&lt;euleritian&gt;</a></span><span class="message">oriansj: thankyou1</span></div><div class="line" id="235406"><span class="nick" style="color:#389600"><a href="#235406" label="[23:54:06]">&lt;stikonas&gt;</a></span><span class="message">janneke: still trying to figure out that tcc &quot;mode&quot; variable issue</span></div><div class="line" id="235425"><span class="nick" style="color:#389600"><a href="#235425" label="[23:54:25]">&lt;stikonas&gt;</a></span><span class="message">something more complicated is going on and so far I have no idea why adding &quot;mode;&quot; helps</span></div><div class="line" id="235501"><span class="nick" style="color:#389600"><a href="#235501" label="[23:55:01]">&lt;stikonas&gt;</a></span><span class="message">without it vtop-&gt;type.t &amp; VT_BTYPE for some reason is evaluated to 9 and goes to VT_DOUBLE switch/case</span></div><div class="line" id="235514"><span class="nick" style="color:#389600"><a href="#235514" label="[23:55:14]">&lt;stikonas&gt;</a></span><span class="message">with it it is VT_VOID and goes to correct case statement</span></div><br /></div></body></html>