<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2020-03-21.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="003855"><span class="nick" style="color:#8dd3c7"><a href="#003855" label="[00:38:55]">&lt;OriansJ&gt;</a></span><span class="message">dddddd: well I figure we give janneke something to play with; as the other pieces are just the bare minimal set.</span></div><div class="line" id="003919"><span class="nick" style="color:#8dd3c7"><a href="#003919" label="[00:39:19]">&lt;OriansJ&gt;</a></span><span class="message">The fully complete and perfect release can of course happen when you feel happy with it dddddd</span></div><div class="line" id="012220"><span class="nick">***</span><span class="message notice">pgreco_ is now known as pgreco</span></div><div class="line" id="014044"><span class="nick" style="color:#2e2a4a"><a href="#014044" label="[01:40:44]">&lt;fossy&gt;</a></span><span class="message">wow. This is weird</span></div><div class="line" id="014048"><span class="nick" style="color:#2e2a4a"><a href="#014048" label="[01:40:48]">&lt;fossy&gt;</a></span><span class="message">guile is randomly hanging</span></div><div class="line" id="014054"><span class="nick" style="color:#2e2a4a"><a href="#014054" label="[01:40:54]">&lt;fossy&gt;</a></span><span class="message">or is it sed.ACM?</span></div><div class="line" id="014059"><span class="nick" style="color:#2e2a4a"><a href="#014059" label="[01:40:59]">&lt;fossy&gt;</a></span><span class="message">sed.scm</span></div><div class="line" id="020542"><span class="nick" style="color:#2e2a4a"><a href="#020542" label="[02:05:42]">&lt;fossy&gt;</a></span><span class="message">wow</span></div><div class="line" id="020545"><span class="nick" style="color:#2e2a4a"><a href="#020545" label="[02:05:45]">&lt;fossy&gt;</a></span><span class="message">so weird</span></div><div class="line" id="020602"><span class="nick" style="color:#2e2a4a"><a href="#020602" label="[02:06:02]">&lt;fossy&gt;</a></span><span class="message">cant even kill the pid with kill -9</span></div><div class="line" id="020719"><span class="nick" style="color:#2e2a4a"><a href="#020719" label="[02:07:19]">&lt;fossy&gt;</a></span><span class="message">oops nevermind</span></div><div class="line" id="020729"><span class="nick" style="color:#2e2a4a"><a href="#020729" label="[02:07:29]">&lt;fossy&gt;</a></span><span class="message">it wouldnt die with kill though...</span></div><div class="line" id="021416"><span class="nick" style="color:#8dd3c7"><a href="#021416" label="[02:14:16]">&lt;OriansJ&gt;</a></span><span class="message">fossy: well gash-utils are currently unfortunately slow; SIGKILL doesn't work on processes that have a handle for that signal the way you expect. Essentially guile tries to clean everything up prior to termination if I remember correctly.</span></div><div class="line" id="021438"><span class="nick" style="color:#2e2a4a"><a href="#021438" label="[02:14:38]">&lt;fossy&gt;</a></span><span class="message">OriansJ: oh, I know</span></div><div class="line" id="021445"><span class="nick" style="color:#2e2a4a"><a href="#021445" label="[02:14:45]">&lt;fossy&gt;</a></span><span class="message">that they are sloe</span></div><div class="line" id="021447"><span class="nick" style="color:#2e2a4a"><a href="#021447" label="[02:14:47]">&lt;fossy&gt;</a></span><span class="message">slow</span></div><div class="line" id="021509"><span class="nick" style="color:#2e2a4a"><a href="#021509" label="[02:15:09]">&lt;fossy&gt;</a></span><span class="message">but I left this for half an hour on the one sed, which normally takes under 30 seconds</span></div><div class="line" id="022414"><span class="nick" style="color:#8dd3c7"><a href="#022414" label="[02:24:14]">&lt;OriansJ&gt;</a></span><span class="message">fossy: did you check the memory usage? It could have hit your swap</span></div><div class="line" id="033246"><span class="nick" style="color:#2e2a4a"><a href="#033246" label="[03:32:46]">&lt;fossy&gt;</a></span><span class="message">OriansJ: hm, good point</span></div><div class="line" id="090648"><span class="nick" style="color:#2e2a4a"><a href="#090648" label="[09:06:48]">&lt;fossy&gt;</a></span><span class="message">Why the actual f&amp;*@ is it so hard to get something working everywhere and not reference anything external</span></div><div class="line" id="105631"><span class="nick" style="color:#6b8072"><a href="#105631" label="[10:56:31]">&lt;janneke&gt;</a></span><span class="message">fossy: in our 3rd implementation of portable lilypond binary pack scripting (GUB), we added a LD_PRELOAD hack to ascertain the [cross] build not to reference /usr</span></div><div class="line" id="105649"><span class="nick" style="color:#6b8072"><a href="#105649" label="[10:56:49]">&lt;janneke&gt;</a></span><span class="message">that proved near-impossible and we needed to relax some usage of /</span></div><div class="line" id="105713"><span class="nick" style="color:#6b8072"><a href="#105713" label="[10:57:13]">&lt;janneke&gt;</a></span><span class="message">which made the problem &quot;smaller&quot;, but still leaky</span></div><div class="line" id="105721"><span class="nick" style="color:#6b8072"><a href="#105721" label="[10:57:21]">&lt;janneke&gt;</a></span><span class="message">or if you want to see it black/white: incorrect</span></div><div class="line" id="105750"><span class="nick" style="color:#6b8072"><a href="#105750" label="[10:57:50]">&lt;janneke&gt;</a></span><span class="message">guix is the first [cross-]build system done right, imo</span></div><div class="line" id="105903"><span class="nick" style="color:#6b8072"><a href="#105903" label="[10:59:03]">&lt;janneke&gt;</a></span><span class="message">(or nix, depending on some details)</span></div><div class="line" id="153146"><span class="nick" style="color:#8dd3c7"><a href="#153146" label="[15:31:46]">&lt;OriansJ&gt;</a></span><span class="message">fossy: the reason is because dynamic linking infected everything; especially when and where it never made sense.</span></div><div class="line" id="153232"><span class="nick" style="color:#8dd3c7"><a href="#153232" label="[15:32:32]">&lt;OriansJ&gt;</a></span><span class="message">you have to go out of your way to statically compile the binary and then suddenly alot of issues &quot;magically&quot; go away.</span></div><div class="line" id="153433"><span class="nick" style="color:#8dd3c7"><a href="#153433" label="[15:34:33]">&lt;OriansJ&gt;</a></span><span class="message">now that disk storage is cheap and nix/guix exist, I can not imagine a reason why we finally give up that terriable idea.</span></div><div class="line" id="153453"><span class="nick" style="color:#8dd3c7"><a href="#153453" label="[15:34:53]">&lt;OriansJ&gt;</a></span><span class="message">^why^why not^</span></div><div class="line" id="154505"><span class="nick" style="color:#80b1d3"><a href="#154505" label="[15:45:05]">&lt;xentrac&gt;</a></span><span class="message">L1 pewaauew</span></div><div class="line" id="154508"><span class="nick" style="color:#80b1d3"><a href="#154508" label="[15:45:08]">&lt;xentrac&gt;</a></span><span class="message">pressure</span></div><div class="line" id="155236"><span class="nick" style="color:#6d2462"><a href="#155236" label="[15:52:36]">&lt;dddddd&gt;</a></span><span class="message">indeed, disk is not the only concern</span></div><div class="line" id="160936"><span class="nick" style="color:#8dd3c7"><a href="#160936" label="[16:09:36]">&lt;OriansJ&gt;</a></span><span class="message">xentrac: I haven't seen any study proving that is actually a real benefit in measurable terms.</span></div><div class="line" id="161109"><span class="nick" style="color:#8dd3c7"><a href="#161109" label="[16:11:09]">&lt;OriansJ&gt;</a></span><span class="message">dddddd: another one is security where static binaries bring numerous benefits.</span></div><div class="line" id="161217"><span class="nick" style="color:#6d2462"><a href="#161217" label="[16:12:17]">&lt;dddddd&gt;</a></span><span class="message">at the cost of rebuilding the world for every vuln? I don't think so.</span></div><div class="line" id="161248"><span class="nick" style="color:#8dd3c7"><a href="#161248" label="[16:12:48]">&lt;OriansJ&gt;</a></span><span class="message">dddddd: not the whole world, just the programs that depend upon the library.</span></div><div class="line" id="161255"><span class="nick" style="color:#6d2462"><a href="#161255" label="[16:12:55]">&lt;dddddd&gt;</a></span><span class="message">Not everyone has 4TB+16GB and multi Ghz setups</span></div><div class="line" id="161318"><span class="nick" style="color:#8dd3c7"><a href="#161318" label="[16:13:18]">&lt;OriansJ&gt;</a></span><span class="message">eg a X11 lib vulnerability would not require a bash recompile</span></div><div class="line" id="161414"><span class="nick" style="color:#8dd3c7"><a href="#161414" label="[16:14:14]">&lt;OriansJ&gt;</a></span><span class="message">and dddddd guix has substitutes for those people</span></div><div class="line" id="161606"><span class="nick" style="color:#8dd3c7"><a href="#161606" label="[16:16:06]">&lt;OriansJ&gt;</a></span><span class="message">not everyone has to compile from source, so there is no build advantages involved in that sort of argument for most users. Only build farms and people like me end up having to waste cycles.</span></div><div class="line" id="161727"><span class="nick" style="color:#8dd3c7"><a href="#161727" label="[16:17:27]">&lt;OriansJ&gt;</a></span><span class="message">but if you look closely at M2-Planet's build process, notice one can build libraries to assembly source once if one wishes to save compile cycles.</span></div><div class="line" id="161820"><span class="nick" style="color:#80b1d3"><a href="#161820" label="[16:18:20]">&lt;xentrac&gt;</a></span><span class="message">yeah, I haven't seen measurements of it either</span></div><div class="line" id="161903"><span class="nick" style="color:#8dd3c7"><a href="#161903" label="[16:19:03]">&lt;OriansJ&gt;</a></span><span class="message">and compiling from entirely source allows the compiler to do even more optimizations for better performance than with binary linking.</span></div><div class="line" id="162027"><span class="nick" style="color:#8dd3c7"><a href="#162027" label="[16:20:27]">&lt;OriansJ&gt;</a></span><span class="message">xentrac: indeed, any claim asserted without evidence can be rejected immediately without evidence.</span></div><div class="line" id="162120"><span class="nick" style="color:#80b1d3"><a href="#162120" label="[16:21:20]">&lt;xentrac&gt;</a></span><span class="message">it's harder to quantify the benefits of xclock not being 6.3 megabytes instead of 40 kilobytes in terms of L1 cache pressure.  how often does xclock bring that code into cache? surely there are large parts of libXmu xclock isn't actually using at all. and probably xclock only wakes up to evict other programs' copies of libc and Xlib from the cache hierarchy rarely, perhaps once a minute</span></div><div class="line" id="162235"><span class="nick" style="color:#8dd3c7"><a href="#162235" label="[16:22:35]">&lt;OriansJ&gt;</a></span><span class="message">xentrac: not to mention C compilers can do dead code elimination to remove most of those 6.3MB that belongs to Xlib which are not being used.</span></div><div class="line" id="162251"><span class="nick" style="color:#80b1d3"><a href="#162251" label="[16:22:51]">&lt;xentrac&gt;</a></span><span class="message">but it seems clear that 6.3 megabytes is a factor of 150 larger, so it would be surprising if the systemwide effect of eliminating sharing of cache lines between processes were insignificant</span></div><div class="line" id="162308"><span class="nick" style="color:#80b1d3"><a href="#162308" label="[16:23:08]">&lt;xentrac&gt;</a></span><span class="message">how big is your statically linked xclock? I don't have one here</span></div><div class="line" id="162318"><span class="nick" style="color:#80b1d3"><a href="#162318" label="[16:23:18]">&lt;xentrac&gt;</a></span><span class="message">I was just adding up the sizes of the libraries</span></div><div class="line" id="162337"><span class="nick" style="color:#80b1d3"><a href="#162337" label="[16:23:37]">&lt;xentrac&gt;</a></span><span class="message">static linking does improve performance generally speaking</span></div><div class="line" id="162345"><span class="nick" style="color:#8dd3c7"><a href="#162345" label="[16:23:45]">&lt;OriansJ&gt;</a></span><span class="message">xentrac: never bothered to compile xclock; never actually used it.</span></div><div class="line" id="162412"><span class="nick" style="color:#8dd3c7"><a href="#162412" label="[16:24:12]">&lt;OriansJ&gt;</a></span><span class="message">But I do know M2-Planet binaries well.</span></div><div class="line" id="162429"><span class="nick" style="color:#6d2462"><a href="#162429" label="[16:24:29]">&lt;dddddd&gt;</a></span><span class="message">If one does not build she downloads the updates, not a free resource also.</span></div><div class="line" id="162504"><span class="nick" style="color:#6d2462"><a href="#162504" label="[16:25:04]">&lt;dddddd&gt;</a></span><span class="message">(download the patched lib v. all the programs affected --if you can id them)</span></div><div class="line" id="162553"><span class="nick" style="color:#8dd3c7"><a href="#162553" label="[16:25:53]">&lt;OriansJ&gt;</a></span><span class="message">not discounting the programs who used the lib but not the vulnerable function(s) which were dead-code eliminated anyway.</span></div><div class="line" id="162936"><span class="nick" style="color:#8dd3c7"><a href="#162936" label="[16:29:36]">&lt;OriansJ&gt;</a></span><span class="message">a staticly built M2-Planet with GCC is 845,416bytes but statically self-built is only 147,029bytes with no size optimizations at all</span></div><div class="line" id="163206"><span class="nick" style="color:#8dd3c7"><a href="#163206" label="[16:32:06]">&lt;OriansJ&gt;</a></span><span class="message">which means GCC is not dead-code eliminating anything from glibc which M2-Planet isn't using.</span></div><div class="line" id="163318"><span class="nick" style="color:#8dd3c7"><a href="#163318" label="[16:33:18]">&lt;OriansJ&gt;</a></span><span class="message">which mean our existing build tools leave lots of room for enhancements and waste elimination.</span></div><div class="line" id="163516"><span class="nick" style="color:#8dd3c7"><a href="#163516" label="[16:35:16]">&lt;OriansJ&gt;</a></span><span class="message">now xentrac I will not argue that people who want dynamic linking shouldn't have it but rather in bootstrapping and bootstrap programs; only static linking should be used.</span></div><div class="line" id="163537"><span class="nick" style="color:#80b1d3"><a href="#163537" label="[16:35:37]">&lt;xentrac&gt;</a></span><span class="message">oh, in that case you are clearly correct</span></div><div class="line" id="163548"><span class="nick" style="color:#80b1d3"><a href="#163548" label="[16:35:48]">&lt;xentrac&gt;</a></span><span class="message">I thought you were making a much broader and more dubious claim</span></div><div class="line" id="163559"><span class="nick" style="color:#80b1d3"><a href="#163559" label="[16:35:59]">&lt;xentrac&gt;</a></span><span class="message">that dynamic linking in general was obsolete</span></div><div class="line" id="163619"><span class="nick" style="color:#80b1d3"><a href="#163619" label="[16:36:19]">&lt;xentrac&gt;</a></span><span class="message">which I doubt, although I suppose it's possible</span></div><div class="line" id="163704"><span class="nick" style="color:#8dd3c7"><a href="#163704" label="[16:37:04]">&lt;OriansJ&gt;</a></span><span class="message">xentrac: it is a technology, where it might be useful but I have yet to see where it has a real measurable advantage.</span></div><div class="line" id="163736"><span class="nick" style="color:#8dd3c7"><a href="#163736" label="[16:37:36]">&lt;OriansJ&gt;</a></span><span class="message">especially in the light of all the work nix/guix do to work around its flaws.</span></div><div class="line" id="164139"><span class="nick" style="color:#80b1d3"><a href="#164139" label="[16:41:39]">&lt;xentrac&gt;</a></span><span class="message">yeah, I certainly agree that dynamic linking is a pain in the ass</span></div><div class="line" id="164211"><span class="nick" style="color:#8dd3c7"><a href="#164211" label="[16:42:11]">&lt;OriansJ&gt;</a></span><span class="message">it previously had an advantage in storage constrained systems but now that we literally are having systems with dozens or more copies of the same library on the same system. Such a benefit seems more dubious than ever.</span></div><div class="line" id="164234"><span class="nick" style="color:#80b1d3"><a href="#164234" label="[16:42:34]">&lt;xentrac&gt;</a></span><span class="message">yeah, agreed; it should be possible to use Nix or Guix to take those measurements</span></div><div class="line" id="164310"><span class="nick" style="color:#8dd3c7"><a href="#164310" label="[16:43:10]">&lt;OriansJ&gt;</a></span><span class="message">especially with certain case that most programs only use a subset of the library's features in most cases.</span></div><div class="line" id="164333"><span class="nick" style="color:#80b1d3"><a href="#164333" label="[16:43:33]">&lt;xentrac&gt;</a></span><span class="message">usually not a statically determinable subset though</span></div><div class="line" id="164410"><span class="nick" style="color:#8dd3c7"><a href="#164410" label="[16:44:10]">&lt;OriansJ&gt;</a></span><span class="message">xentrac: I am not so certain of that, given you know what functions are called by main.</span></div><div class="line" id="164440"><span class="nick" style="color:#80b1d3"><a href="#164440" label="[16:44:40]">&lt;xentrac&gt;</a></span><span class="message">my intuition is that since modern systems are bottlenecked on main memory bandwidth, the order or two of magnitude of space reduction of dynamic linking will make a big difference</span></div><div class="line" id="164454"><span class="nick" style="color:#8dd3c7"><a href="#164454" label="[16:44:54]">&lt;OriansJ&gt;</a></span><span class="message">simply recurse down the source call graph and any function not called can be eliminated.</span></div><div class="line" id="164458"><span class="nick" style="color:#80b1d3"><a href="#164458" label="[16:44:58]">&lt;xentrac&gt;</a></span><span class="message">and a bigger difference, as dddddd points out, in your modem bandwidth, although maybe we can improve that with better delta coding</span></div><div class="line" id="164521"><span class="nick" style="color:#80b1d3"><a href="#164521" label="[16:45:21]">&lt;xentrac&gt;</a></span><span class="message">clearly, and if you put each function in a separate file that's what a standard linker does</span></div><div class="line" id="164827"><span class="nick" style="color:#8dd3c7"><a href="#164827" label="[16:48:27]">&lt;OriansJ&gt;</a></span><span class="message">xentrac: personally I think each group should have a build server they collectively trust which would only need download source diffs from git. and their internal bandwidth be limited by what they choose to setup internally.</span></div><div class="line" id="164930"><span class="nick" style="color:#8dd3c7"><a href="#164930" label="[16:49:30]">&lt;OriansJ&gt;</a></span><span class="message">distribute trust, so that no single compromise impacts the security of the community.</span></div><div class="line" id="165959"><span class="nick" style="color:#8dd3c7"><a href="#165959" label="[16:59:59]">&lt;OriansJ&gt;</a></span><span class="message">a single 56KB internet connection is more than enough for a large group of people with a properly configured mesh network with internal services (such as a youtube-dl caching service)</span></div><div class="line" id="170550"><span class="nick" style="color:#8dd3c7"><a href="#170550" label="[17:05:50]">&lt;OriansJ&gt;</a></span><span class="message">16TB of hard drive cost spread across 100 people is $2.3/YEAR (assuming you want fault tolerance and backups of data)</span></div><div class="line" id="170730"><span class="nick" style="color:#8dd3c7"><a href="#170730" label="[17:07:30]">&lt;OriansJ&gt;</a></span><span class="message">which covers a great deal of educational materials, source code and entertainment.</span></div><div class="line" id="171235"><span class="nick">***</span><span class="message notice">dddddd_ is now known as dddddd</span></div><div class="line" id="174817"><span class="nick" style="color:#80b1d3"><a href="#174817" label="[17:48:17]">&lt;xentrac&gt;</a></span><span class="message">yeah, if you can manage high internal bandwidth</span></div><div class="line" id="182234"><span class="nick" style="color:#8dd3c7"><a href="#182234" label="[18:22:34]">&lt;OriansJ&gt;</a></span><span class="message">well USBv3.0 has considerable bandwidth, microsd to a less degree and not to mention the net bandwidth of carrier pigeons</span></div><div class="line" id="182342"><span class="nick" style="color:#8dd3c7"><a href="#182342" label="[18:23:42]">&lt;OriansJ&gt;</a></span><span class="message">high internal bandwidth is generally quite easy and cheap if one is willing to cooperate with others (scaling laws apply heavily)</span></div><div class="line" id="182425"><span class="nick" style="color:#8dd3c7"><a href="#182425" label="[18:24:25]">&lt;OriansJ&gt;</a></span><span class="message">10s -&gt; KB range easy; 100s -&gt; MB range easy; 1000s -&gt; GB range easy</span></div><div class="line" id="182641"><span class="nick" style="color:#8dd3c7"><a href="#182641" label="[18:26:41]">&lt;OriansJ&gt;</a></span><span class="message">range is from others is also a major constraint problem. (next door neighbor just run some cat6; across a few miles or more fiber optic or directional antenna may be required)</span></div><div class="line" id="195440"><span class="nick" style="color:#80b1d3"><a href="#195440" label="[19:54:40]">&lt;xentrac&gt;</a></span><span class="message">yeah, I was thinking about range</span></div><div class="line" id="195531"><span class="nick" style="color:#80b1d3"><a href="#195531" label="[19:55:31]">&lt;xentrac&gt;</a></span><span class="message">there's also the coercion problem; some friends who set up a neighborhood Ethernet LAN in the 90s in SF had to put signs on all the cables to warn the cable TV folks that those weren't their cables</span></div><div class="line" id="195541"><span class="nick" style="color:#80b1d3"><a href="#195541" label="[19:55:41]">&lt;xentrac&gt;</a></span><span class="message">so please don't cut them</span></div><div class="line" id="195623"><span class="nick" style="color:#80b1d3"><a href="#195623" label="[19:56:23]">&lt;xentrac&gt;</a></span><span class="message">right now if I were to go outside to run cable to my neighbor's house I'd quite plausibly get arrested</span></div><div class="line" id="195922"><span class="nick" style="color:#80b1d3"><a href="#195922" label="[19:59:22]">&lt;xentrac&gt;</a></span><span class="message">this was one of the original major drawbacks of the electric telegraph relative to competing systems like Chappe's optical telegraph: the electric telegraph had to run a cable along the ground that could be cut at any point between the endpoints, while the optical telegraph used much more easily defensible stone towers</span></div><div class="line" id="200155"><span class="nick" style="color:#80b1d3"><a href="#200155" label="[20:01:55]">&lt;xentrac&gt;</a></span><span class="message">(but Wikipedia tells me &quot;on two occasions [the Chappes'] apparatus at Place de l'Ã‰toile, Paris was destroyed by mobs who thought they were communicating with royalist forces&quot;</span></div><div class="line" id="213617"><span class="nick" style="color:#2e2a4a"><a href="#213617" label="[21:36:17]">&lt;fossy&gt;</a></span><span class="message">well OriansJ I still plan to produce static binaries throughout the bootstrap. and luckily gnu programs seem to mostly (*hem hem* guile) honour --disable-shared --enable-static</span></div><div class="line" id="213702"><span class="nick" style="color:#2e2a4a"><a href="#213702" label="[21:37:02]">&lt;fossy&gt;</a></span><span class="message">I would really appreciate thoughts on how to go from here</span></div><div class="line" id="213816"><span class="nick" style="color:#2e2a4a"><a href="#213816" label="[21:38:16]">&lt;fossy&gt;</a></span><span class="message">1. Compile everything in VMs/containers. Pros: certinaly isolates everything. ensures programs do not interact with any host binaries. Cons: added overhead.</span></div><div class="line" id="213927"><span class="nick" style="color:#2e2a4a"><a href="#213927" label="[21:39:27]">&lt;fossy&gt;</a></span><span class="message">2. Attempt to use LD_PRELOAD to restrict interactions with the host. Pros: works wellish and dosent require added overhead. Cons: hacky and as janneke said nearly impossible</span></div><div class="line" id="214111"><span class="nick" style="color:#80b1d3"><a href="#214111" label="[21:41:11]">&lt;xentrac&gt;</a></span><span class="message">why nearly impossible? I must have missed that part</span></div><div class="line" id="214126"><span class="nick" style="color:#2e2a4a"><a href="#214126" label="[21:41:26]">&lt;fossy&gt;</a></span><span class="message">3. Make the build systems never interact with the host. Pros: best in the long run. Cons: no matter which way it is compiled it is often extremely difficult to ensure it restricts the host. we have no idea what environment we are operating in - yet we want a certain environment.</span></div><div class="line" id="214137"><span class="nick" style="color:#2e2a4a"><a href="#214137" label="[21:41:37]">&lt;fossy&gt;</a></span><span class="message">&lt;janneke&gt; fossy: in our 3rd implementation of portable lilypond binary pack scripting (GUB), we added a LD_PRELOAD hack to ascertain the [cross] build not to reference /usr</span></div><div class="line" id="214143"><span class="nick" style="color:#2e2a4a"><a href="#214143" label="[21:41:43]">&lt;fossy&gt;</a></span><span class="message">&lt;janneke&gt; that proved near-impossible and we needed to relax some usage of /</span></div><div class="line" id="214146"><span class="nick" style="color:#2e2a4a"><a href="#214146" label="[21:41:46]">&lt;fossy&gt;</a></span><span class="message">xentrac:</span></div><div class="line" id="214208"><span class="nick" style="color:#80b1d3"><a href="#214208" label="[21:42:08]">&lt;xentrac&gt;</a></span><span class="message">huh, I wonder what went wrong</span></div><div class="line" id="214252"><span class="nick" style="color:#80b1d3"><a href="#214252" label="[21:42:52]">&lt;xentrac&gt;</a></span><span class="message">I think #1 is obviously the right solution in theory, but how practical it is in practice depends on your context.  I'd think Guix already goes pretty far towards #1</span></div><div class="line" id="214322"><span class="nick" style="color:#2e2a4a"><a href="#214322" label="[21:43:22]">&lt;fossy&gt;</a></span><span class="message">xentrac: my goal is to produce a toolchain that any linux distro can use to bootstrap</span></div><div class="line" id="214351"><span class="nick" style="color:#2e2a4a"><a href="#214351" label="[21:43:51]">&lt;fossy&gt;</a></span><span class="message">or, that any project can use</span></div><div class="line" id="214432"><span class="nick" style="color:#2e2a4a"><a href="#214432" label="[21:44:32]">&lt;fossy&gt;</a></span><span class="message">the guix bootstrap is great if you use guix</span></div><div class="line" id="214529"><span class="nick" style="color:#2e2a4a"><a href="#214529" label="[21:45:29]">&lt;fossy&gt;</a></span><span class="message">im extending mescc-tools-seed to gcc essentially</span></div><div class="line" id="214709"><span class="nick" style="color:#6b8072"><a href="#214709" label="[21:47:09]">&lt;janneke&gt;</a></span><span class="message">xentrac: in short: we didn't build a whole system, like guix</span></div><div class="line" id="214719"><span class="nick" style="color:#80b1d3"><a href="#214719" label="[21:47:19]">&lt;xentrac&gt;</a></span><span class="message">can't you bootstrap any linux distro from guix?</span></div><div class="line" id="214722"><span class="nick" style="color:#80b1d3"><a href="#214722" label="[21:47:22]">&lt;xentrac&gt;</a></span><span class="message">janneke: aha</span></div><div class="line" id="214744"><span class="nick" style="color:#6b8072"><a href="#214744" label="[21:47:44]">&lt;janneke&gt;</a></span><span class="message">we used a number of shortcuts, like the shell etc</span></div><div class="line" id="214813"><span class="nick" style="color:#6b8072"><a href="#214813" label="[21:48:13]">&lt;janneke&gt;</a></span><span class="message">when you build everything from scratch, like with guix, it should work</span></div><div class="line" id="214832"><span class="nick" style="color:#6b8072"><a href="#214832" label="[21:48:32]">&lt;janneke&gt;</a></span><span class="message">sorry for the confusion, fossy</span></div><div class="line" id="214848"><span class="nick" style="color:#2e2a4a"><a href="#214848" label="[21:48:48]">&lt;fossy&gt;</a></span><span class="message">ahh</span></div><div class="line" id="233916"><span class="nick" style="color:#8dd3c7"><a href="#233916" label="[23:39:16]">&lt;OriansJ&gt;</a></span><span class="message">xentrac: agreed on the range issue, I however am confused on the arrested for home improvement aspect you expressed. (unless you are renting property in which case completely reasonable but surprising if they don't implement network infrastruture themselves)</span></div><div class="line" id="234006"><span class="nick" style="color:#8dd3c7"><a href="#234006" label="[23:40:06]">&lt;OriansJ&gt;</a></span><span class="message">fossy: well I guess we need to make guile comply with proper behavior.</span></div><div class="line" id="234112"><span class="nick" style="color:#8dd3c7"><a href="#234112" label="[23:41:12]">&lt;OriansJ&gt;</a></span><span class="message">as chroots and VMs are just duct tape and rubber bands around badly behaved software.</span></div><div class="line" id="234320"><span class="nick" style="color:#8dd3c7"><a href="#234320" label="[23:43:20]">&lt;OriansJ&gt;</a></span><span class="message">one can of course use kaem's nightmare-mode to strip out every bit of environment that you pass to programs; then in theory the only things making a program behave badly will be source code and arguments (and the files expressed by those arguments recursively)</span></div><div class="line" id="234519"><span class="nick" style="color:#8dd3c7"><a href="#234519" label="[23:45:19]">&lt;OriansJ&gt;</a></span><span class="message">xentrac: also note that until we have a POSIX kernel that M2-Planet can bootstrap we have a potential vector for a trusting trust attack in the kernels upon which the guix bootstrap runs.</span></div><div class="line" id="234613"><span class="nick" style="color:#80b1d3"><a href="#234613" label="[23:46:13]">&lt;xentrac&gt;</a></span><span class="message">yes</span></div><div class="line" id="234624"><span class="nick" style="color:#80b1d3"><a href="#234624" label="[23:46:24]">&lt;xentrac&gt;</a></span><span class="message">agreed about kernels</span></div><div class="line" id="234707"><span class="nick" style="color:#80b1d3"><a href="#234707" label="[23:47:07]">&lt;xentrac&gt;</a></span><span class="message">since Thursday night there's a country-wide lockdown where people are only allowed to go out of their houses for one of 34 approved reasons, most of which require written permission from your employer</span></div><div class="line" id="234740"><span class="nick" style="color:#80b1d3"><a href="#234740" label="[23:47:40]">&lt;xentrac&gt;</a></span><span class="message">originally there were 24 but they forgot some.  in particular they forgot to include &quot;operating nuclear plants&quot;, which I'm fairly sure was an unintentional omission</span></div><div class="line" id="234801"><span class="nick" style="color:#80b1d3"><a href="#234801" label="[23:48:01]">&lt;xentrac&gt;</a></span><span class="message">building a neighborhood LAN is not among them</span></div><div class="line" id="234847"><span class="nick" style="color:#80b1d3"><a href="#234847" label="[23:48:47]">&lt;xentrac&gt;</a></span><span class="message">yesterday they arrested 300 people for violating the quarantine order, so in absolute terms the risk is low</span></div><div class="line" id="234901"><span class="nick" style="color:#8dd3c7"><a href="#234901" label="[23:49:01]">&lt;OriansJ&gt;</a></span><span class="message">xentrac: a bit of an excessive over reaction to the current virus outbreak.</span></div><div class="line" id="235030"><span class="nick" style="color:#80b1d3"><a href="#235030" label="[23:50:30]">&lt;xentrac&gt;</a></span><span class="message">well, we'll see.  we're at 158 cases today, so probably when we see the results of this lockdown order in 10 days, we'll have around 1500</span></div><div class="line" id="235059"><span class="nick" style="color:#80b1d3"><a href="#235059" label="[23:50:59]">&lt;xentrac&gt;</a></span><span class="message">well, let's say 9 days</span></div><div class="line" id="235120"><span class="nick" style="color:#8dd3c7"><a href="#235120" label="[23:51:20]">&lt;OriansJ&gt;</a></span><span class="message">for a under 5% mortality rate when the average yearly flu is 3-4%</span></div><div class="line" id="235130"><span class="nick" style="color:#80b1d3"><a href="#235130" label="[23:51:30]">&lt;xentrac&gt;</a></span><span class="message">no, that's the 1918 flu</span></div><div class="line" id="235154"><span class="nick" style="color:#80b1d3"><a href="#235154" label="[23:51:54]">&lt;xentrac&gt;</a></span><span class="message">and it's not going to be a 5% mortality rate when the hospitals fill up</span></div><div class="line" id="235204"><span class="nick" style="color:#80b1d3"><a href="#235204" label="[23:52:04]">&lt;xentrac&gt;</a></span><span class="message">since it's guaranteed to have no impact on contagion by the end of the month it's also guaranteed that they'll extend it</span></div><div class="line" id="235224"><span class="nick" style="color:#80b1d3"><a href="#235224" label="[23:52:24]">&lt;xentrac&gt;</a></span><span class="message">I just came back from the grocery store a block away with about 12 days' worth of food</span></div><div class="line" id="235319"><span class="nick" style="color:#234e69"><a href="#235319" label="[23:53:19]">&lt;lfam&gt;</a></span><span class="message">The mortality rate would skyrocket if we run out of hospital space</span></div><div class="line" id="235325"><span class="nick" style="color:#80b1d3"><a href="#235325" label="[23:53:25]">&lt;xentrac&gt;</a></span><span class="message">right</span></div><div class="line" id="235333"><span class="nick" style="color:#80b1d3"><a href="#235333" label="[23:53:33]">&lt;xentrac&gt;</a></span><span class="message">also, doctors</span></div><div class="line" id="235335"><span class="nick" style="color:#234e69"><a href="#235335" label="[23:53:35]">&lt;lfam&gt;</a></span><span class="message">Yes</span></div><div class="line" id="235336"><span class="nick" style="color:#80b1d3"><a href="#235336" label="[23:53:36]">&lt;xentrac&gt;</a></span><span class="message">and nurses</span></div><div class="line" id="235337"><span class="nick" style="color:#234e69"><a href="#235337" label="[23:53:37]">&lt;lfam&gt;</a></span><span class="message">Whatever resource</span></div><div class="line" id="235343"><span class="nick" style="color:#80b1d3"><a href="#235343" label="[23:53:43]">&lt;xentrac&gt;</a></span><span class="message">and ventilators</span></div><div class="line" id="235352"><span class="nick" style="color:#8dd3c7"><a href="#235352" label="[23:53:52]">&lt;OriansJ&gt;</a></span><span class="message">well my Mormon neighbors certainly are prepared, they are religiously required to have a 1year food supply for everyone in their homes</span></div><div class="line" id="235355"><span class="nick" style="color:#80b1d3"><a href="#235355" label="[23:53:55]">&lt;xentrac&gt;</a></span><span class="message">although ventilators really only cut the mortality rate a little</span></div><div class="line" id="235411"><span class="nick" style="color:#80b1d3"><a href="#235411" label="[23:54:11]">&lt;xentrac&gt;</a></span><span class="message">yes, the Mormons will be in a much better position after this</span></div><div class="line" id="235423"><span class="nick" style="color:#234e69"><a href="#235423" label="[23:54:23]">&lt;lfam&gt;</a></span><span class="message">The real issue is they will have to stop treating other kinds of cases, so people will die from things that would normally be treatable</span></div><div class="line" id="235454"><span class="nick" style="color:#80b1d3"><a href="#235454" label="[23:54:54]">&lt;xentrac&gt;</a></span><span class="message">unfortunately I can't go stay with the Mormons because I don't know any and also I can't travel without getting arrested and likely deported</span></div><div class="line" id="235505"><span class="nick" style="color:#8dd3c7"><a href="#235505" label="[23:55:05]">&lt;OriansJ&gt;</a></span><span class="message">lfam: well triage is about doing the actions with the highest likihood of maximizing lives saved</span></div><div class="line" id="235512"><span class="nick" style="color:#234e69"><a href="#235512" label="[23:55:12]">&lt;lfam&gt;</a></span><span class="message">Yes</span></div><div class="line" id="235531"><span class="nick" style="color:#234e69"><a href="#235531" label="[23:55:31]">&lt;lfam&gt;</a></span><span class="message">In Italy they stopped treating anybody over a certain age or with more than one condition</span></div><div class="line" id="235538"><span class="nick" style="color:#234e69"><a href="#235538" label="[23:55:38]">&lt;lfam&gt;</a></span><span class="message">And it still was not enough</span></div><div class="line" id="235552"><span class="nick" style="color:#234e69"><a href="#235552" label="[23:55:52]">&lt;lfam&gt;</a></span><span class="message">Hopefully we can avoid that</span></div><div class="line" id="235828"><span class="nick" style="color:#8dd3c7"><a href="#235828" label="[23:58:28]">&lt;OriansJ&gt;</a></span><span class="message">lfam: well I haven't followed the details in Italy nor know anyone personally there to give me an honest perspective but I would be surprised if doctors gave up on people with a greater than 30% chance for survival unless limited by supply shortages.</span></div><br /></div></body></html>