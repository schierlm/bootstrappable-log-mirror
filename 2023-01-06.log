<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2023-01-06.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="184058"><span class="nick" style="color:#389600"><a href="#184058" label="[18:40:58]">&lt;rickmasters&gt;</a></span><span class="message">Nice to see you here Mikaku!</span></div><div class="line" id="184116"><span class="nick" style="color:#8dd3c7"><a href="#184116" label="[18:41:16]">&lt;Mikaku&gt;</a></span><span class="message">hey! :-)</span></div><div class="line" id="184149"><span class="nick" style="color:#389600"><a href="#184149" label="[18:41:49]">&lt;rickmasters&gt;</a></span><span class="message">Everyone, please welcome the author of Fiwix!</span></div><div class="line" id="184232"><span class="nick" style="color:#8dd3c7"><a href="#184232" label="[18:42:32]">&lt;Mikaku&gt;</a></span><span class="message">well, it's a pleasure for me to join here</span></div><div class="line" id="184300"><span class="nick" style="color:#8dd3c7"><a href="#184300" label="[18:43:00]">&lt;Mikaku&gt;</a></span><span class="message">I'll be glad to answer any question on the Fiwix kernel</span></div><div class="line" id="184313"><span class="nick" style="color:#389600"><a href="#184313" label="[18:43:13]">&lt;rickmasters&gt;</a></span><span class="message">Mikaku: I'm testing your free_vma_pages change right now, by the way.</span></div><div class="line" id="184324"><span class="nick" style="color:#8dd3c7"><a href="#184324" label="[18:43:24]">&lt;Mikaku&gt;</a></span><span class="message">ah, perfect</span></div><div class="line" id="184359"><span class="nick" style="color:#8dd3c7"><a href="#184359" label="[18:43:59]">&lt;Mikaku&gt;</a></span><span class="message">I've make a massive package build with this change and I don't see any regression</span></div><div class="line" id="184543"><span class="nick" style="color:#8dd3c7"><a href="#184543" label="[18:45:43]">&lt;Mikaku&gt;</a></span><span class="message">rickmasters: FYI, I've make some comments about the case 5 in &lt;<a rel="nofollow" href="https://github.com/mikaku/Fiwix/issues/16">https://github.com/mikaku/Fiwix/issues/16</a>&gt; </span></div><div class="line" id="184622"><span class="nick" style="color:#389600"><a href="#184622" label="[18:46:22]">&lt;rickmasters&gt;</a></span><span class="message">Well, I'll start with a question - what do you have planned for Fiwix? It looks like you've been focused on PCI lately...</span></div><div class="line" id="184731"><span class="nick" style="color:#8dd3c7"><a href="#184731" label="[18:47:31]">&lt;Mikaku&gt;</a></span><span class="message">I'm mainly focused right now to include DMA support for hard disk, as the PIO mode is really slow</span></div><div class="line" id="184811"><span class="nick" style="color:#8dd3c7"><a href="#184811" label="[18:48:11]">&lt;Mikaku&gt;</a></span><span class="message">this DMA (UDMA actually) needs the PCI BARs addresses, so I'm including support for the PCI IDE controller</span></div><div class="line" id="184908"><span class="nick" style="color:#389600"><a href="#184908" label="[18:49:08]">&lt;rickmasters&gt;</a></span><span class="message">What kind of machine do you do your work on?</span></div><div class="line" id="185030"><span class="nick" style="color:#8dd3c7"><a href="#185030" label="[18:50:30]">&lt;Mikaku&gt;</a></span><span class="message">I mainly use QEMU for development, and then I test the kernel on old PCs here around me</span></div><div class="line" id="185255"><span class="nick" style="color:#389600"><a href="#185255" label="[18:52:55]">&lt;rickmasters&gt;</a></span><span class="message">As I mentioned before I have a lot of outstanding changes pending for Fiwix to support live-bootstrap.</span></div><div class="line" id="185332"><span class="nick" style="color:#389600"><a href="#185332" label="[18:53:32]">&lt;rickmasters&gt;</a></span><span class="message">I spent the last couple of weeks polishing them and creating test cases (for some).</span></div><div class="line" id="185422"><span class="nick" style="color:#389600"><a href="#185422" label="[18:54:22]">&lt;rickmasters&gt;</a></span><span class="message">I just finished that and will be submitting issues but I was going to do that slowly so as not to overwhelm you.</span></div><div class="line" id="185541"><span class="nick" style="color:#8dd3c7"><a href="#185541" label="[18:55:41]">&lt;Mikaku&gt;</a></span><span class="message">I thank you to submitting the new changes in a slow pace, this makes me life easier because sometimes I have collisions with my local changes and that takes time to merge</span></div><div class="line" id="185658"><span class="nick" style="color:#389600"><a href="#185658" label="[18:56:58]">&lt;rickmasters&gt;</a></span><span class="message">yeah, I figured I should submit PRs against the latest commit once you are done with the previous one.</span></div><div class="line" id="185733"><span class="nick" style="color:#8dd3c7"><a href="#185733" label="[18:57:33]">&lt;Mikaku&gt;</a></span><span class="message">yes, that helps a lot, thanks</span></div><div class="line" id="185850"><span class="nick" style="color:#389600"><a href="#185850" label="[18:58:50]">&lt;rickmasters&gt;</a></span><span class="message">You managed to make over 80 commits since I started so it took me quite a bit of work to rebase my changes but it's all ready to go now.</span></div><div class="line" id="185902"><span class="nick" style="color:#389600"><a href="#185902" label="[18:59:02]">&lt;rickmasters&gt;</a></span><span class="message">You've been quite busy the last couple of months.</span></div><div class="line" id="190013"><span class="nick" style="color:#8dd3c7"><a href="#190013" label="[19:00:13]">&lt;Mikaku&gt;</a></span><span class="message">yes, I have been very productive lately</span></div><div class="line" id="190025"><span class="nick" style="color:#8dd3c7"><a href="#190025" label="[19:00:25]">&lt;Mikaku&gt;</a></span><span class="message">that always depends on my spare time, of course</span></div><div class="line" id="190159"><span class="nick" style="color:#389600"><a href="#190159" label="[19:01:59]">&lt;rickmasters&gt;</a></span><span class="message">Correct me if I'm wrong, but you've been working on this for over 25 years, so it's incredible that you've maintained motivation.</span></div><div class="line" id="190512"><span class="nick" style="color:#8dd3c7"><a href="#190512" label="[19:05:12]">&lt;Mikaku&gt;</a></span><span class="message">you're right, but I've not been working at the same pace all the time (job, life, etc. you know) and regarding the motivation ... I think that this project became like a personal challenge</span></div><div class="line" id="190838"><span class="nick" style="color:#389600"><a href="#190838" label="[19:08:38]">&lt;rickmasters&gt;</a></span><span class="message">Hey, why I have you here, do you remember the reason for this commit?: <a rel="nofollow" href="https://github.com/mikaku/Fiwix/commit/b935b3dfc39d0067c08ac6ac797b8a5aca67cc86">https://github.com/mikaku/Fiwix/commit/b935b3dfc39d0067c08ac6ac797b8a5aca67cc86</a> </span></div><div class="line" id="190916"><span class="nick" style="color:#389600"><a href="#190916" label="[19:09:16]">&lt;rickmasters&gt;</a></span><span class="message">I was having an intermittent problem with Fiwix that I tracked down to that commit but strangely the problem went away...</span></div><div class="line" id="190944"><span class="nick" style="color:#389600"><a href="#190944" label="[19:09:44]">&lt;rickmasters&gt;</a></span><span class="message">But if it comes back it might help to know what was going on with that change.</span></div><div class="line" id="191009"><span class="nick" style="color:#389600"><a href="#191009" label="[19:10:09]">&lt;rickmasters&gt;</a></span><span class="message">(The problem was running out of process slots, but only when I compiled with tcc for some reason)</span></div><div class="line" id="191051"><span class="nick" style="color:#8dd3c7"><a href="#191051" label="[19:10:51]">&lt;Mikaku&gt;</a></span><span class="message">hmm, I think this commit was to make sure that the new running process have full CPU slice time</span></div><div class="line" id="191143"><span class="nick" style="color:#389600"><a href="#191143" label="[19:11:43]">&lt;rickmasters&gt;</a></span><span class="message">Right, it looks like the default time slice is 200ms which is set on the init process and copied to all children.</span></div><div class="line" id="191146"><span class="nick" style="color:#8dd3c7"><a href="#191146" label="[19:11:46]">&lt;Mikaku&gt;</a></span><span class="message">(just change the value of NR_PROCS in include/fiwix/config.h)</span></div><div class="line" id="191319"><span class="nick" style="color:#389600"><a href="#191319" label="[19:13:19]">&lt;rickmasters&gt;</a></span><span class="message">Yeah, when the problem was happening it would manifest even with very large NR_PROCS. But I rebooted my machine and the problem stopped happening.</span></div><div class="line" id="191408"><span class="nick" style="color:#389600"><a href="#191408" label="[19:14:08]">&lt;rickmasters&gt;</a></span><span class="message">The machine is an AWS machine so I might have ended up on different hardware for all I know. It's too bad I wasn't able to track it down while I could.</span></div><div class="line" id="191514"><span class="nick" style="color:#8dd3c7"><a href="#191514" label="[19:15:14]">&lt;Mikaku&gt;</a></span><span class="message">so did you installed FiwixOS on an AWS machine?</span></div><div class="line" id="191545"><span class="nick" style="color:#389600"><a href="#191545" label="[19:15:45]">&lt;rickmasters&gt;</a></span><span class="message">No, I was running under QEMU</span></div><div class="line" id="191550"><span class="nick" style="color:#8dd3c7"><a href="#191550" label="[19:15:50]">&lt;Mikaku&gt;</a></span><span class="message">ah</span></div><div class="line" id="191623"><span class="nick" style="color:#8dd3c7"><a href="#191623" label="[19:16:23]">&lt;Mikaku&gt;</a></span><span class="message">keep in mind that the Fiwix kernel has been only tested by me :-), so there are for sure bugs pending to be discovered (and fixed)</span></div><div class="line" id="191655"><span class="nick" style="color:#8dd3c7"><a href="#191655" label="[19:16:55]">&lt;Mikaku&gt;</a></span><span class="message">the developer is always the worse tester of its own code</span></div><div class="line" id="191728"><span class="nick" style="color:#8dd3c7"><a href="#191728" label="[19:17:28]">&lt;Mikaku&gt;</a></span><span class="message">s/developer/programmer/</span></div><div class="line" id="191909"><span class="nick" style="color:#389600"><a href="#191909" label="[19:19:09]">&lt;rickmasters&gt;</a></span><span class="message">Well live-bootstrap is a solid test of a kernel and I've only found a handful of bugs so it's pretty darn good.</span></div><div class="line" id="192019"><span class="nick" style="color:#389600"><a href="#192019" label="[19:20:19]">&lt;rickmasters&gt;</a></span><span class="message">The vast majority of changes were to support additional system calls.</span></div><div class="line" id="192041"><span class="nick" style="color:#8dd3c7"><a href="#192041" label="[19:20:41]">&lt;Mikaku&gt;</a></span><span class="message">25 years ... :-)</span></div><div class="line" id="192139"><span class="nick" style="color:#8dd3c7"><a href="#192139" label="[19:21:39]">&lt;Mikaku&gt;</a></span><span class="message">yes, I only have been focused on functionality before efficiency</span></div><div class="line" id="192210"><span class="nick" style="color:#8dd3c7"><a href="#192210" label="[19:22:10]">&lt;Mikaku&gt;</a></span><span class="message">now I'm more focused on improving efficiency in some areas</span></div><div class="line" id="192239"><span class="nick" style="color:#389600"><a href="#192239" label="[19:22:39]">&lt;rickmasters&gt;</a></span><span class="message">I haven't noticed any significant difference in performance between Fiwix and Linux</span></div><div class="line" id="192328"><span class="nick" style="color:#8dd3c7"><a href="#192328" label="[19:23:28]">&lt;Mikaku&gt;</a></span><span class="message">there is, really, there is</span></div><div class="line" id="192402"><span class="nick" style="color:#8dd3c7"><a href="#192402" label="[19:24:02]">&lt;Mikaku&gt;</a></span><span class="message">I/O in Fiwix is really slow, that's why is the first thing I want to fix</span></div><div class="line" id="192437"><span class="nick" style="color:#8dd3c7"><a href="#192437" label="[19:24:37]">&lt;Mikaku&gt;</a></span><span class="message">with I/O I mean disk access</span></div><div class="line" id="192443"><span class="nick" style="color:#389600"><a href="#192443" label="[19:24:43]">&lt;rickmasters&gt;</a></span><span class="message">Maybe I haven't noticed because QEMU probably layers over that</span></div><div class="line" id="192541"><span class="nick" style="color:#8dd3c7"><a href="#192541" label="[19:25:41]">&lt;Mikaku&gt;</a></span><span class="message">yes, that's probably the reason</span></div><div class="line" id="192737"><span class="nick" style="color:#8dd3c7"><a href="#192737" label="[19:27:37]">&lt;Mikaku&gt;</a></span><span class="message">Linux has a lot of hacks in its code to be fastest as possible, it's impossible for Fiwix to have even a similar performance</span></div><div class="line" id="192851"><span class="nick" style="color:#8dd3c7"><a href="#192851" label="[19:28:51]">&lt;Mikaku&gt;</a></span><span class="message">these hacks makes Linux code sometimes difficult to follow for an average programmer like me</span></div><div class="line" id="192937"><span class="nick" style="color:#8dd3c7"><a href="#192937" label="[19:29:37]">&lt;Mikaku&gt;</a></span><span class="message">I prefer to have a cleaner code even if this means to sacrifice performance</span></div><div class="line" id="193308"><span class="nick" style="color:#389600"><a href="#193308" label="[19:33:08]">&lt;rickmasters&gt;</a></span><span class="message">Well the smaller size and C89 codebase is ideal for bootstrapping.</span></div><div class="line" id="193512"><span class="nick" style="color:#8dd3c7"><a href="#193512" label="[19:35:12]">&lt;Mikaku&gt;</a></span><span class="message">I loved to know that we are sharing the same ideas :-)</span></div><div class="line" id="194838"><span class="nick" style="color:#389600"><a href="#194838" label="[19:48:38]">&lt;rickmasters&gt;</a></span><span class="message">Mikaku: Are you aware of, or do you follow any similar projects to Fiwix? Small Linux compatible OS? Have you seen <a rel="nofollow" href="https://github.com/vvaltchev/tilck">https://github.com/vvaltchev/tilck</a>  ?</span></div><div class="line" id="195124"><span class="nick" style="color:#8dd3c7"><a href="#195124" label="[19:51:24]">&lt;Mikaku&gt;</a></span><span class="message">yes, I'm aware of this one as it was announced in the OSDev forum</span></div><div class="line" id="195201"><span class="nick" style="color:#8dd3c7"><a href="#195201" label="[19:52:01]">&lt;Mikaku&gt;</a></span><span class="message">I tested it some time ago and I saw the developers follows a different path than me</span></div><div class="line" id="195412"><span class="nick" style="color:#389600"><a href="#195412" label="[19:54:12]">&lt;rickmasters&gt;</a></span><span class="message">It is based on C11 and was out of reach for tcc without significant changes so Fiwix was better in that regard. Was other differences did you notice?</span></div><div class="line" id="195639"><span class="nick" style="color:#8dd3c7"><a href="#195639" label="[19:56:39]">&lt;Mikaku&gt;</a></span><span class="message">yes, I knew the C11 requirement, the rest were just feelings actually, looks like the developer is more focused on newer versions and syscalls like the sys_rt_sig* family, etc.</span></div><div class="line" id="195920"><span class="nick" style="color:#8dd3c7"><a href="#195920" label="[19:59:20]">&lt;Mikaku&gt;</a></span><span class="message">I don't know how to say but sometimes seeing the source code, variable names, structures, layout, etc. just tell me a lot about the project and creates me curiosity or not</span></div><div class="line" id="200213"><span class="nick" style="color:#8dd3c7"><a href="#200213" label="[20:02:13]">&lt;Mikaku&gt;</a></span><span class="message">and about following a similar project, I sometimes followed this guy &lt;<a rel="nofollow" href="https://github.com/posnk">https://github.com/posnk</a>&gt; </span></div><div class="line" id="200536"><span class="nick" style="color:#8dd3c7"><a href="#200536" label="[20:05:36]">&lt;Mikaku&gt;</a></span><span class="message">I use the rest of similar hobby OSes as an alternative to learn how others have programmed specific areas</span></div><div class="line" id="200557"><span class="nick" style="color:#389600"><a href="#200557" label="[20:05:57]">&lt;rickmasters&gt;</a></span><span class="message">Hmm, posnk looks interesting but seems to have stalled since two years ago</span></div><div class="line" id="200606"><span class="nick" style="color:#8dd3c7"><a href="#200606" label="[20:06:06]">&lt;Mikaku&gt;</a></span><span class="message">yes</span></div><div class="line" id="200728"><span class="nick" style="color:#389600"><a href="#200728" label="[20:07:28]">&lt;rickmasters&gt;</a></span><span class="message">I ran live-bootstrap to completion (to building linux) with your free_vma_pages change.</span></div><div class="line" id="200839"><span class="nick" style="color:#8dd3c7"><a href="#200839" label="[20:08:39]">&lt;Mikaku&gt;</a></span><span class="message">wow, this is good news!</span></div><div class="line" id="200913"><span class="nick" style="color:#8dd3c7"><a href="#200913" label="[20:09:13]">&lt;Mikaku&gt;</a></span><span class="message">this means I can submit this change in the next days?</span></div><div class="line" id="200929"><span class="nick" style="color:#389600"><a href="#200929" label="[20:09:29]">&lt;rickmasters&gt;</a></span><span class="message">yes, fine with me. I ran the test ten times simultaneously on different CPUs. I did see one instance of fork failure / procs again, so that's interesting.</span></div><div class="line" id="200951"><span class="nick" style="color:#389600"><a href="#200951" label="[20:09:51]">&lt;rickmasters&gt;</a></span><span class="message">No reason to think that fork problem is related to that change.</span></div><div class="line" id="201101"><span class="nick" style="color:#8dd3c7"><a href="#201101" label="[20:11:01]">&lt;Mikaku&gt;</a></span><span class="message">do you only use the console during the build time?</span></div><div class="line" id="201110"><span class="nick" style="color:#389600"><a href="#201110" label="[20:11:10]">&lt;rickmasters&gt;</a></span><span class="message">Hopefully it can reproduce enough for me to track it down.</span></div><div class="line" id="201140"><span class="nick" style="color:#389600"><a href="#201140" label="[20:11:40]">&lt;rickmasters&gt;</a></span><span class="message">Yes, but I'm using serial console</span></div><div class="line" id="201155"><span class="nick" style="color:#8dd3c7"><a href="#201155" label="[20:11:55]">&lt;Mikaku&gt;</a></span><span class="message">ah, that's what I wanted to know</span></div><div class="line" id="201218"><span class="nick" style="color:#8dd3c7"><a href="#201218" label="[20:12:18]">&lt;Mikaku&gt;</a></span><span class="message">I even redirect the kernel messages to a specific serial console</span></div><div class="line" id="201241"><span class="nick" style="color:#8dd3c7"><a href="#201241" label="[20:12:41]">&lt;Mikaku&gt;</a></span><span class="message">this way is easier to see all them</span></div><div class="line" id="201308"><span class="nick" style="color:#389600"><a href="#201308" label="[20:13:08]">&lt;rickmasters&gt;</a></span><span class="message">Yes. By the way, that requires /dev/console to exist in the file system.</span></div><div class="line" id="201411"><span class="nick" style="color:#8dd3c7"><a href="#201411" label="[20:14:11]">&lt;Mikaku&gt;</a></span><span class="message">yes, the majority of programs involved in the system boot require /dev/console</span></div><div class="line" id="201412"><span class="nick" style="color:#389600"><a href="#201412" label="[20:14:12]">&lt;rickmasters&gt;</a></span><span class="message">I had to pre-populate that in the boot disk. Live-bootstrap runs &quot;naked&quot; - it can boot Linux without devices like that in the file system.</span></div><div class="line" id="201510"><span class="nick" style="color:#8dd3c7"><a href="#201510" label="[20:15:10]">&lt;Mikaku&gt;</a></span><span class="message">ah, so you boots only the kernel, no FiwixOS involed?</span></div><div class="line" id="201518"><span class="nick" style="color:#8dd3c7"><a href="#201518" label="[20:15:18]">&lt;Mikaku&gt;</a></span><span class="message">s/boots/boot/</span></div><div class="line" id="201543"><span class="nick" style="color:#389600"><a href="#201543" label="[20:15:43]">&lt;rickmasters&gt;</a></span><span class="message">I don't use anything from FiwixOS</span></div><div class="line" id="201557"><span class="nick" style="color:#8dd3c7"><a href="#201557" label="[20:15:57]">&lt;Mikaku&gt;</a></span><span class="message">I see</span></div><div class="line" id="201638"><span class="nick" style="color:#8dd3c7"><a href="#201638" label="[20:16:38]">&lt;Mikaku&gt;</a></span><span class="message">so I guess you boot Fiwix using the QEMU parameter -kernel</span></div><div class="line" id="201657"><span class="nick" style="color:#389600"><a href="#201657" label="[20:16:57]">&lt;rickmasters&gt;</a></span><span class="message">Yes</span></div><div class="line" id="201727"><span class="nick" style="color:#8dd3c7"><a href="#201727" label="[20:17:27]">&lt;Mikaku&gt;</a></span><span class="message">so, you are using 80x25 all the time</span></div><div class="line" id="201824"><span class="nick" style="color:#389600"><a href="#201824" label="[20:18:24]">&lt;rickmasters&gt;</a></span><span class="message">Yes, I'm running qemu with -nographic</span></div><div class="line" id="201847"><span class="nick" style="color:#8dd3c7"><a href="#201847" label="[20:18:47]">&lt;Mikaku&gt;</a></span><span class="message">then you'd like to have one of my last changes (not pushed yet), that is the BGA support</span></div><div class="line" id="201906"><span class="nick" style="color:#389600"><a href="#201906" label="[20:19:06]">&lt;rickmasters&gt;</a></span><span class="message">I'm not familiar with BGA</span></div><div class="line" id="201928"><span class="nick" style="color:#8dd3c7"><a href="#201928" label="[20:19:28]">&lt;Mikaku&gt;</a></span><span class="message">Bochs (or QEMU) Graphics Adapter</span></div><div class="line" id="202009"><span class="nick" style="color:#8dd3c7"><a href="#202009" label="[20:20:09]">&lt;Mikaku&gt;</a></span><span class="message">this gives you a console on a framebuffer of (1024x768, or 800x600, ...), you can have a console of 128x48</span></div><div class="line" id="202036"><span class="nick" style="color:#8dd3c7"><a href="#202036" label="[20:20:36]">&lt;Mikaku&gt;</a></span><span class="message">sometimes it's really useful to have a bigger screen</span></div><div class="line" id="202049"><span class="nick" style="color:#389600"><a href="#202049" label="[20:20:49]">&lt;rickmasters&gt;</a></span><span class="message">I run qemu over an ssh session so if it doesn't work with that I probably wouldn't use it</span></div><div class="line" id="202115"><span class="nick" style="color:#8dd3c7"><a href="#202115" label="[20:21:15]">&lt;Mikaku&gt;</a></span><span class="message">ah no, in that case it wouldn't work</span></div><div class="line" id="202350"><span class="nick" style="color:#389600"><a href="#202350" label="[20:23:50]">&lt;rickmasters&gt;</a></span><span class="message">I can run qemu with -vnc but live-bootstrap is currently text / serial oriented so I try to make it work that way.</span></div><div class="line" id="202414"><span class="nick" style="color:#8dd3c7"><a href="#202414" label="[20:24:14]">&lt;Mikaku&gt;</a></span><span class="message">sure</span></div><div class="line" id="203124"><span class="nick" style="color:#8dd3c7"><a href="#203124" label="[20:31:24]">&lt;Mikaku&gt;</a></span><span class="message">rickmasters&gt; Hopefully it can reproduce enough for me to track it down.</span></div><div class="line" id="203208"><span class="nick" style="color:#389600"><a href="#203208" label="[20:32:08]">&lt;rickmasters&gt;</a></span><span class="message">I'm working on it.</span></div><div class="line" id="203229"><span class="nick" style="color:#8dd3c7"><a href="#203229" label="[20:32:29]">&lt;Mikaku&gt;</a></span><span class="message">yes, that would be interesting, although I have never seen it before. Intermittent bugs are really difficult to catch</span></div><div class="line" id="203347"><span class="nick" style="color:#389600"><a href="#203347" label="[20:33:47]">&lt;rickmasters&gt;</a></span><span class="message">Yeah, that's why I run 30 simultaneous tests on a monster AWS bare metal machine. Speeds up the search.</span></div><div class="line" id="203546"><span class="nick" style="color:#389600"><a href="#203546" label="[20:35:46]">&lt;rickmasters&gt;</a></span><span class="message">Unfortunately, this one manifests while building linux, which is the last step after an hour or more of building.</span></div><div class="line" id="203716"><span class="nick" style="color:#389600"><a href="#203716" label="[20:37:16]">&lt;rickmasters&gt;</a></span><span class="message">And when I've tried to start from an intermediate position, it doesn't happen. But if it keeps happening I'll figure it out eventually (I hope)</span></div><div class="line" id="211305"><span class="nick" style="color:#8dd3c7"><a href="#211305" label="[21:13:05]">&lt;Mikaku&gt;</a></span><span class="message">rickmasters: remember you can use the Magic SysReq key grab some kernel information about processes</span></div><div class="line" id="211406"><span class="nick" style="color:#389600"><a href="#211406" label="[21:14:06]">&lt;rickmasters&gt;</a></span><span class="message">Please elaborate. I don't know about this.</span></div><div class="line" id="211435"><span class="nick" style="color:#8dd3c7"><a href="#211435" label="[21:14:35]">&lt;Mikaku&gt;</a></span><span class="message">'alt-sysrq-t' will give you the current list of processes, here you make an idea if the failure is because there are just zombie processes pending to be rapped by its parent</span></div><div class="line" id="211512"><span class="nick" style="color:#8dd3c7"><a href="#211512" label="[21:15:12]">&lt;Mikaku&gt;</a></span><span class="message">it works similar as in Linux &lt;<a rel="nofollow" href="https://en.wikipedia.org/wiki/Magic_SysRq_key">https://en.wikipedia.org/wiki/Magic_SysRq_key</a>&gt; </span></div><div class="line" id="211608"><span class="nick" style="color:#8dd3c7"><a href="#211608" label="[21:16:08]">&lt;Mikaku&gt;</a></span><span class="message">currently only two SysRq keys are supported: t and l</span></div><div class="line" id="211714"><span class="nick" style="color:#8dd3c7"><a href="#211714" label="[21:17:14]">&lt;Mikaku&gt;</a></span><span class="message">s/supported/implemented/</span></div><div class="line" id="211927"><span class="nick" style="color:#389600"><a href="#211927" label="[21:19:27]">&lt;rickmasters&gt;</a></span><span class="message">ok, thanks, I'll look into that</span></div><div class="line" id="212325"><span class="nick" style="color:#8dd3c7"><a href="#212325" label="[21:23:25]">&lt;Mikaku&gt;</a></span><span class="message">of course, the easiest way is using the QEMU monitor (Ctrl-Alt-2) and type 'sendkey alt-sysrq-t'</span></div><div class="line" id="212435"><span class="nick" style="color:#8dd3c7"><a href="#212435" label="[21:24:35]">&lt;Mikaku&gt;</a></span><span class="message">but since you are using a remote serial connection, I think you won't be able to send such combination of keys</span></div><div class="line" id="212451"><span class="nick" style="color:#8dd3c7"><a href="#212451" label="[21:24:51]">&lt;Mikaku&gt;</a></span><span class="message">rickmasters: ^</span></div><div class="line" id="212604"><span class="nick" style="color:#389600"><a href="#212604" label="[21:26:04]">&lt;rickmasters&gt;</a></span><span class="message">The qemu monitor is available with -nographic so that should work. thanks!</span></div><div class="line" id="212630"><span class="nick" style="color:#8dd3c7"><a href="#212630" label="[21:26:30]">&lt;Mikaku&gt;</a></span><span class="message">ah, didn't know that!</span></div><div class="line" id="212649"><span class="nick" style="color:#389600"><a href="#212649" label="[21:26:49]">&lt;rickmasters&gt;</a></span><span class="message">It's ctrl-a then c</span></div><div class="line" id="213434"><span class="nick" style="color:#2e2a4a"><a href="#213434" label="[21:34:34]">&lt;stikonas&gt;</a></span><span class="message">Mikaku: Hi, thanks for your work on Fiwix</span></div><div class="line" id="213552"><span class="nick" style="color:#8dd3c7"><a href="#213552" label="[21:35:52]">&lt;Mikaku&gt;</a></span><span class="message">stikonas: you're welcome! :-)</span></div><div class="line" id="220436"><span class="nick" style="color:#6b8072"><a href="#220436" label="[22:04:36]">&lt;oriansj&gt;</a></span><span class="message">Mikaku: It is an honor to have you here :-D</span></div><div class="line" id="220515"><span class="nick" style="color:#8dd3c7"><a href="#220515" label="[22:05:15]">&lt;Mikaku&gt;</a></span><span class="message">oriansj: heh, please :-)</span></div><div class="line" id="221327"><span class="nick" style="color:#6b8072"><a href="#221327" label="[22:13:27]">&lt;oriansj&gt;</a></span><span class="message">Your kernel was such a happy find for us and when we learned what it could do; I honestly celebrated ^_^</span></div><div class="line" id="221508"><span class="nick" style="color:#8dd3c7"><a href="#221508" label="[22:15:08]">&lt;Mikaku&gt;</a></span><span class="message">I'm still amazed to see how useful Fiwix is for your project</span></div><div class="line" id="221523"><span class="nick" style="color:#8dd3c7"><a href="#221523" label="[22:15:23]">&lt;Mikaku&gt;</a></span><span class="message">this has been a big surprise for me, really</span></div><div class="line" id="221737"><span class="nick" style="color:#80b1d3"><a href="#221737" label="[22:17:37]">&lt;stikonas[m]&gt;</a></span><span class="message">Mikaku: kernel bootstrapping have been a huge problem for us. We managed to do user space some time ago but not kernel</span></div><div class="line" id="221812"><span class="nick" style="color:#80b1d3"><a href="#221812" label="[22:18:12]">&lt;stikonas[m]&gt;</a></span><span class="message">We had nothing until rickmasters joined us half a year ago</span></div><div class="line" id="222123"><span class="nick" style="color:#8dd3c7"><a href="#222123" label="[22:21:23]">&lt;Mikaku&gt;</a></span><span class="message">I see</span></div><div class="line" id="222133"><span class="nick" style="color:#8dd3c7"><a href="#222133" label="[22:21:33]">&lt;Mikaku&gt;</a></span><span class="message">so Linux was not a choice?</span></div><div class="line" id="222141"><span class="nick" style="color:#389600"><a href="#222141" label="[22:21:41]">&lt;rickmasters&gt;</a></span><span class="message">I was in stealth mode for a while. I started on the builder-hex0 kernel on Feb 28, 2022.</span></div><div class="line" id="222205"><span class="nick" style="color:#6b8072"><a href="#222205" label="[22:22:05]">&lt;oriansj&gt;</a></span><span class="message">Mikaku: Linux is a very hard bootstrapping problem when you don't have GCC</span></div><div class="line" id="222222"><span class="nick" style="color:#389600"><a href="#222222" label="[22:22:22]">&lt;rickmasters&gt;</a></span><span class="message">I'm hoping to finish the kernel bootstrap builder-hex0 -&gt; Fiwix -&gt; Linux within a year of effort.</span></div><div class="line" id="222257"><span class="nick" style="color:#8dd3c7"><a href="#222257" label="[22:22:57]">&lt;Mikaku&gt;</a></span><span class="message">oriansj: ah yes, you are using tcc, right?</span></div><div class="line" id="222315"><span class="nick" style="color:#2e2a4a"><a href="#222315" label="[22:23:15]">&lt;stikonas&gt;</a></span><span class="message">Mikaku: indeed</span></div><div class="line" id="222329"><span class="nick" style="color:#6b8072"><a href="#222329" label="[22:23:29]">&lt;oriansj&gt;</a></span><span class="message">Mikaku: well that is the most advanced C compiler we got running on rickmasters' kernel</span></div><div class="line" id="222341"><span class="nick" style="color:#2e2a4a"><a href="#222341" label="[22:23:41]">&lt;stikonas&gt;</a></span><span class="message">I havne't even got to tcc with stage0-uefi</span></div><div class="line" id="222411"><span class="nick" style="color:#2e2a4a"><a href="#222411" label="[22:24:11]">&lt;stikonas&gt;</a></span><span class="message">but for now I'm not going to work further on it... mes would probably need a considerable effort if one wants to run it on UEFI, and tcc even more so</span></div><div class="line" id="222423"><span class="nick" style="color:#6b8072"><a href="#222423" label="[22:24:23]">&lt;oriansj&gt;</a></span><span class="message">and prior to that we only had <a rel="nofollow" href="https://github.com/nanochess/bootOS">https://github.com/nanochess/bootOS</a>  as a bootstrapping option</span></div><div class="line" id="222503"><span class="nick" style="color:#8dd3c7"><a href="#222503" label="[22:25:03]">&lt;Mikaku&gt;</a></span><span class="message">wow, 512 bytes! heh</span></div><div class="line" id="222519"><span class="nick" style="color:#6b8072"><a href="#222519" label="[22:25:19]">&lt;oriansj&gt;</a></span><span class="message">able to bootstrap itself though</span></div><div class="line" id="222540"><span class="nick" style="color:#6b8072"><a href="#222540" label="[22:25:40]">&lt;oriansj&gt;</a></span><span class="message">and rickmasters' kernel too</span></div><div class="line" id="222555"><span class="nick" style="color:#8dd3c7"><a href="#222555" label="[22:25:55]">&lt;Mikaku&gt;</a></span><span class="message">amazing</span></div><div class="line" id="222654"><span class="nick" style="color:#80b1d3"><a href="#222654" label="[22:26:54]">&lt;stikonas[m]&gt;</a></span><span class="message">Well, bootOS is somewhat external</span></div><div class="line" id="222707"><span class="nick" style="color:#80b1d3"><a href="#222707" label="[22:27:07]">&lt;stikonas[m]&gt;</a></span><span class="message">Not produced by people on this channel</span></div><div class="line" id="222752"><span class="nick" style="color:#6b8072"><a href="#222752" label="[22:27:52]">&lt;oriansj&gt;</a></span><span class="message">there just are a few details about populating the source code onto the boot disk which still need to be figured out but it is a viable option</span></div><div class="line" id="222802"><span class="nick" style="color:#8dd3c7"><a href="#222802" label="[22:28:02]">&lt;Mikaku&gt;</a></span><span class="message">I see</span></div><div class="line" id="223002"><span class="nick" style="color:#6b8072"><a href="#223002" label="[22:30:02]">&lt;oriansj&gt;</a></span><span class="message">but effectively, once one has the source code on that boot disk and starts rickmasters' kernel, we have everything working up to TCC (Still need to sort out details of building Fiwix) and then we expect to have Fiwix carry us the rest of the way to Linux and any Distro you want</span></div><div class="line" id="223049"><span class="nick" style="color:#6b8072"><a href="#223049" label="[22:30:49]">&lt;oriansj&gt;</a></span><span class="message">so we are very grateful for your wonderful work and it means so much to us</span></div><div class="line" id="223233"><span class="nick" style="color:#389600"><a href="#223233" label="[22:32:33]">&lt;rickmasters&gt;</a></span><span class="message">Yeah, I was pretty dispirited trying to get an old Linux to build and boot with tcc until fossy said: Hey what about Fiwix?</span></div><div class="line" id="223234"><span class="nick" style="color:#8dd3c7"><a href="#223234" label="[22:32:34]">&lt;Mikaku&gt;</a></span><span class="message">I appreciate your words</span></div><div class="line" id="223309"><span class="nick" style="color:#8dd3c7"><a href="#223309" label="[22:33:09]">&lt;Mikaku&gt;</a></span><span class="message">heh</span></div><div class="line" id="225654"><span class="nick" style="color:#8dd3c7"><a href="#225654" label="[22:56:54]">&lt;Mikaku&gt;</a></span><span class="message">thanks for such a nice chat guys</span></div><div class="line" id="225700"><span class="nick" style="color:#8dd3c7"><a href="#225700" label="[22:57:00]">&lt;Mikaku&gt;</a></span><span class="message">talk to you later</span></div><div class="line" id="225747"><span class="nick" style="color:#389600"><a href="#225747" label="[22:57:47]">&lt;rickmasters&gt;</a></span><span class="message">Mikaku: see you later, thanks again!</span></div><div class="line" id="230955"><span class="nick" style="color:#6b8072"><a href="#230955" label="[23:09:55]">&lt;oriansj&gt;</a></span><span class="message">Mikaku: thank you ^_^</span></div><br /></div></body></html>