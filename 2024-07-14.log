<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2024-07-14.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="003251"><span class="nick" style="color:#389600"><a href="#003251" label="[00:32:51]">&lt;fossy&gt;</a></span><span class="message">stikonas, aggi: python was also fairly average - the most time consuming part was finding all of the pregened files</span></div><div class="line" id="003719"><span class="nick" style="color:#8dd3c7"><a href="#003719" label="[00:37:19]">&lt;stikonas&gt;</a></span><span class="message">well, those pregenerated files are always somewhat unreliable process</span></div><div class="line" id="003734"><span class="nick" style="color:#8dd3c7"><a href="#003734" label="[00:37:34]">&lt;stikonas&gt;</a></span><span class="message">since almost nobody else in distro packaging community cares about them</span></div><div class="line" id="004718"><span class="nick" style="color:#389600"><a href="#004718" label="[00:47:18]">&lt;fossy&gt;</a></span><span class="message">yeah</span></div><div class="line" id="020824"><span class="nick" style="color:#2e2a4a"><a href="#020824" label="[02:08:24]">&lt;oriansj&gt;</a></span><span class="message">the amount of generated crap distributed as &quot;source&quot; is kind of staggering all things considered.</span></div><div class="line" id="022846"><span class="nick" style="color:#2e2a4a"><a href="#022846" label="[02:28:46]">&lt;oriansj&gt;</a></span><span class="message">but I am hoping guix and nixos will allow packagers to finally lose their excuses for generated files being distributed but given their market share (which given their technical superiority is far too low), I have my doubts.</span></div><div class="line" id="023411"><span class="nick" style="color:#389600"><a href="#023411" label="[02:34:11]">&lt;fossy&gt;</a></span><span class="message"> /go 12</span></div><div class="line" id="023417"><span class="nick" style="color:#389600"><a href="#023417" label="[02:34:17]">&lt;fossy&gt;</a></span><span class="message">oops lol</span></div><div class="line" id="162448"><span class="nick" style="color:#8dd3c7"><a href="#162448" label="[16:24:48]">&lt;stikonas&gt;</a></span><span class="message">oriansj: somebody noted that M2-Mesoplanet does not expend preprocessor directives in the case statements <a rel="nofollow" href="https://www.iwriteiam.nl/D2407.html#12b">https://www.iwriteiam.nl/D2407.html#12b</a> </span></div><div class="line" id="171647"><span class="nick" style="color:#2e2a4a"><a href="#171647" label="[17:16:47]">&lt;oriansj&gt;</a></span><span class="message">well I wrote a test: <a rel="nofollow" href="https://paste.debian.net/1323250/">https://paste.debian.net/1323250/</a>  but it doesn't produce the behavior described.</span></div><div class="line" id="171937"><span class="nick" style="color:#8dd3c7"><a href="#171937" label="[17:19:37]">&lt;stikonas&gt;</a></span><span class="message">oh well... I don't know whose blog it is there...</span></div><div class="line" id="172036"><span class="nick" style="color:#8dd3c7"><a href="#172036" label="[17:20:36]">&lt;stikonas&gt;</a></span><span class="message">or did they mean &quot;case foo&quot;</span></div><div class="line" id="172037"><span class="nick" style="color:#8dd3c7"><a href="#172037" label="[17:20:37]">&lt;stikonas&gt;</a></span><span class="message">hmm</span></div><div class="line" id="172055"><span class="nick" style="color:#8dd3c7"><a href="#172055" label="[17:20:55]">&lt;stikonas&gt;</a></span><span class="message">still, why wouldn't it work</span></div><div class="line" id="172100"><span class="nick" style="color:#8dd3c7"><a href="#172100" label="[17:21:00]">&lt;stikonas&gt;</a></span><span class="message">preprocessor runs before compiler</span></div><div class="line" id="174013"><span class="nick" style="color:#2e2a4a"><a href="#174013" label="[17:40:13]">&lt;oriansj&gt;</a></span><span class="message">well doing switch(4) is kind of bad code</span></div><div class="line" id="174029"><span class="nick" style="color:#2e2a4a"><a href="#174029" label="[17:40:29]">&lt;oriansj&gt;</a></span><span class="message">as it will always match on case 4</span></div><div class="line" id="174055"><span class="nick" style="color:#2e2a4a"><a href="#174055" label="[17:40:55]">&lt;oriansj&gt;</a></span><span class="message">and an #ifdef is probably the more correct C thing in that case</span></div><div class="line" id="174151"><span class="nick" style="color:#2e2a4a"><a href="#174151" label="[17:41:51]">&lt;oriansj&gt;</a></span><span class="message">and I must admit; I didn't test using a constant value in the switch part. So I will have to check to see if that will even work in M2-Planet</span></div><div class="line" id="174654"><span class="nick" style="color:#2e2a4a"><a href="#174654" label="[17:46:54]">&lt;oriansj&gt;</a></span><span class="message">yeah, it isn't expanding after case for some reason.</span></div><div class="line" id="175708"><span class="nick" style="color:#2e2a4a"><a href="#175708" label="[17:57:08]">&lt;oriansj&gt;</a></span><span class="message">oh, I see why</span></div><div class="line" id="175802"><span class="nick" style="color:#2e2a4a"><a href="#175802" label="[17:58:02]">&lt;oriansj&gt;</a></span><span class="message">they need to put a space between case foo: and make it look like case foo :</span></div><div class="line" id="175808"><span class="nick" style="color:#2e2a4a"><a href="#175808" label="[17:58:08]">&lt;oriansj&gt;</a></span><span class="message">as foo: is a label</span></div><div class="line" id="175821"><span class="nick" style="color:#2e2a4a"><a href="#175821" label="[17:58:21]">&lt;oriansj&gt;</a></span><span class="message">not something for a #define to expand</span></div><div class="line" id="180221"><span class="nick" style="color:#2e2a4a"><a href="#180221" label="[18:02:21]">&lt;oriansj&gt;</a></span><span class="message">we could add a check in maybe_expand to check to see if the previous token was case or we could make the tokenizer a little smarter to cover that case.</span></div><div class="line" id="185754"><span class="nick" style="color:#6b8072"><a href="#185754" label="[18:57:54]">&lt;mihi&gt;</a></span><span class="message">oriansj, what makes you think #defines should not be expanded in labels? I just double-checked and gcc's cpp replaces both FOO in &quot;FOO: goto FOO;&quot;. TBH I did not read a recent specification how a preprocessor should work, but since it also replaces keywords I am surprised that it should not replace labels (in fact, is there anything except string literals and comments where it should not replace identifiers which</span></div><div class="line" id="185754"><span class="nick" style="color:#6b8072"><a href="#185754" label="[18:57:54]">&lt;mihi&gt;</a></span><span class="message">are separated by non-identifier chars?)</span></div><div class="line" id="185849"><span class="nick" style="color:#2e2a4a"><a href="#185849" label="[18:58:49]">&lt;oriansj&gt;</a></span><span class="message">mihi: completely valid point</span></div><div class="line" id="190022"><span class="nick" style="color:#2e2a4a"><a href="#190022" label="[19:00:22]">&lt;oriansj&gt;</a></span><span class="message">the reason I wouldn't want that behavior is that labels don't get translated beyond going from FOO: to :FOO and being passed straight to M1 to be handled</span></div><div class="line" id="190148"><span class="nick" style="color:#2e2a4a"><a href="#190148" label="[19:01:48]">&lt;oriansj&gt;</a></span><span class="message">and thus labels are global (doing FOO: in function A and goto FOO; in function B is valid but can cause problems)</span></div><br /></div></body></html>