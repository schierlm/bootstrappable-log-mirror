<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2021-11-28.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000454"><span class="nick" style="color:#389600"><a href="#000454" label="[00:04:54]">&lt;stikonas&gt;</a></span><span class="message">and PR is now up: <a rel="nofollow" href="https://github.com/oriansj/M2-Mesoplanet/pull/2">https://github.com/oriansj/M2-Mesoplanet/pull/2</a> </span></div><div class="line" id="002747"><span class="nick" style="color:#8dd3c7"><a href="#002747" label="[00:27:47]">&lt;oriansj&gt;</a></span><span class="message">stikonas: nicely done</span></div><div class="line" id="002809"><span class="nick" style="color:#389600"><a href="#002809" label="[00:28:09]">&lt;stikonas&gt;</a></span><span class="message">well, that was probably the easiest way to deal with whitespaces without breaking everything</span></div><div class="line" id="002828"><span class="nick" style="color:#389600"><a href="#002828" label="[00:28:28]">&lt;stikonas&gt;</a></span><span class="message">basically whitespace by default should work more or less the same way as before</span></div><div class="line" id="003028"><span class="nick" style="color:#389600"><a href="#003028" label="[00:30:28]">&lt;stikonas&gt;</a></span><span class="message">oriansj: regarding line numbers in M2-Planet</span></div><div class="line" id="003029"><span class="nick" style="color:#8dd3c7"><a href="#003029" label="[00:30:29]">&lt;oriansj&gt;</a></span><span class="message">well I was wondering if comments should pass through unmodified; So that the output will be easier to do a diff against the original</span></div><div class="line" id="003033"><span class="nick" style="color:#389600"><a href="#003033" label="[00:30:33]">&lt;stikonas&gt;</a></span><span class="message">do we actually need to do anything?</span></div><div class="line" id="003039"><span class="nick" style="color:#389600"><a href="#003039" label="[00:30:39]">&lt;stikonas&gt;</a></span><span class="message">oh, maybe that's true</span></div><div class="line" id="003057"><span class="nick" style="color:#389600"><a href="#003057" label="[00:30:57]">&lt;stikonas&gt;</a></span><span class="message">oh, maybe we do when we have ifndef...</span></div><div class="line" id="003101"><span class="nick" style="color:#8dd3c7"><a href="#003101" label="[00:31:01]">&lt;oriansj&gt;</a></span><span class="message">stikonas: well yes, because now M2-Planet is only going to see a single file</span></div><div class="line" id="003109"><span class="nick" style="color:#389600"><a href="#003109" label="[00:31:09]">&lt;stikonas&gt;</a></span><span class="message">oh right...</span></div><div class="line" id="003127"><span class="nick" style="color:#389600"><a href="#003127" label="[00:31:27]">&lt;stikonas&gt;</a></span><span class="message">yeah, it only works fine as long as you build a single file...</span></div><div class="line" id="003142"><span class="nick" style="color:#8dd3c7"><a href="#003142" label="[00:31:42]">&lt;oriansj&gt;</a></span><span class="message">so I was thinking something like // FILENAME $name $number</span></div><div class="line" id="003212"><span class="nick" style="color:#389600"><a href="#003212" label="[00:32:12]">&lt;stikonas&gt;</a></span><span class="message">well, it's just that // comments often break things...</span></div><div class="line" id="003220"><span class="nick" style="color:#8dd3c7"><a href="#003220" label="[00:32:20]">&lt;oriansj&gt;</a></span><span class="message">and M2-Mesoplanet could embed those comments in the token output string at the start of a file and after the end of an include</span></div><div class="line" id="003223"><span class="nick" style="color:#389600"><a href="#003223" label="[00:32:23]">&lt;stikonas&gt;</a></span><span class="message">right now Mesoplanet does not deal with them at all</span></div><div class="line" id="003301"><span class="nick" style="color:#389600"><a href="#003301" label="[00:33:01]">&lt;stikonas&gt;</a></span><span class="message">or maybe incorrectly deals with themn</span></div><div class="line" id="003309"><span class="nick" style="color:#389600"><a href="#003309" label="[00:33:09]">&lt;stikonas&gt;</a></span><span class="message">when I run ./bin/M2-Mesoplanet -E -f ../mes/include/mes/macros.h</span></div><div class="line" id="003310"><span class="nick" style="color:#8dd3c7"><a href="#003310" label="[00:33:10]">&lt;oriansj&gt;</a></span><span class="message">and I could add a function to M2-Planet's cc_reader to check for a matching token and update filename and line number accordingly</span></div><div class="line" id="003321"><span class="nick" style="color:#389600"><a href="#003321" label="[00:33:21]">&lt;stikonas&gt;</a></span><span class="message">I get the following error: ../mes/include/mes/macros.h:81:newline expected at end of macro directive\</span></div><div class="line" id="003330"><span class="nick" style="color:#389600"><a href="#003330" label="[00:33:30]">&lt;stikonas&gt;</a></span><span class="message">found: '__MES_MACROS_H'</span></div><div class="line" id="003343"><span class="nick" style="color:#389600"><a href="#003343" label="[00:33:43]">&lt;stikonas&gt;</a></span><span class="message">and the last line in that file is #endif //__MES_MACROS_H</span></div><div class="line" id="004039"><span class="nick">***</span><span class="message notice">mab is now known as bandali</span></div><div class="line" id="004157"><span class="nick" style="color:#8dd3c7"><a href="#004157" label="[00:41:57]">&lt;oriansj&gt;</a></span><span class="message">sounds like a require</span></div><div class="line" id="004353"><span class="nick" style="color:#8dd3c7"><a href="#004353" label="[00:43:53]">&lt;oriansj&gt;</a></span><span class="message">923</span></div><div class="line" id="004645"><span class="nick" style="color:#389600"><a href="#004645" label="[00:46:45]">&lt;stikonas&gt;</a></span><span class="message">yes, it's that one</span></div><div class="line" id="004737"><span class="nick" style="color:#8dd3c7"><a href="#004737" label="[00:47:37]">&lt;oriansj&gt;</a></span><span class="message">we might not even need that block</span></div><div class="line" id="004758"><span class="nick" style="color:#8dd3c7"><a href="#004758" label="[00:47:58]">&lt;oriansj&gt;</a></span><span class="message">I forget why it was originally added</span></div><div class="line" id="005102"><span class="nick" style="color:#8dd3c7"><a href="#005102" label="[00:51:02]">&lt;oriansj&gt;</a></span><span class="message">commit 1ac5bb6e</span></div><div class="line" id="005143"><span class="nick" style="color:#8dd3c7"><a href="#005143" label="[00:51:43]">&lt;oriansj&gt;</a></span><span class="message">looks like something bulk imported from M2-Planet</span></div><div class="line" id="005221"><span class="nick" style="color:#8dd3c7"><a href="#005221" label="[00:52:21]">&lt;oriansj&gt;</a></span><span class="message">M2-Planet commit 0ab7cb78</span></div><div class="line" id="005256"><span class="nick" style="color:#8dd3c7"><a href="#005256" label="[00:52:56]">&lt;oriansj&gt;</a></span><span class="message">correction 46cf81af</span></div><div class="line" id="005403"><span class="nick" style="color:#8dd3c7"><a href="#005403" label="[00:54:03]">&lt;oriansj&gt;</a></span><span class="message">nope even older</span></div><div class="line" id="005506"><span class="nick" style="color:#389600"><a href="#005506" label="[00:55:06]">&lt;stikonas&gt;</a></span><span class="message">indeed, it might just work if we remove it</span></div><div class="line" id="005658"><span class="nick" style="color:#8dd3c7"><a href="#005658" label="[00:56:58]">&lt;oriansj&gt;</a></span><span class="message">commit 0ab7cb78eb5d1bcc970887cf7c6a18e780d624d9</span></div><div class="line" id="005726"><span class="nick" style="color:#8dd3c7"><a href="#005726" label="[00:57:26]">&lt;oriansj&gt;</a></span><span class="message">correction: 63bb59404de9d84f0ea4f837fabab53216ab21d1</span></div><div class="line" id="005815"><span class="nick" style="color:#8dd3c7"><a href="#005815" label="[00:58:15]">&lt;oriansj&gt;</a></span><span class="message">we just simply assumed a newline was required at the end of a #define and used that block to catch it</span></div><div class="line" id="005837"><span class="nick" style="color:#389600"><a href="#005837" label="[00:58:37]">&lt;stikonas&gt;</a></span><span class="message">well, that's not true if comments are kept...</span></div><div class="line" id="005906"><span class="nick" style="color:#8dd3c7"><a href="#005906" label="[00:59:06]">&lt;oriansj&gt;</a></span><span class="message">indeed</span></div><div class="line" id="005909"><span class="nick" style="color:#389600"><a href="#005909" label="[00:59:09]">&lt;stikonas&gt;</a></span><span class="message">although, it does catch other random rubbish</span></div><div class="line" id="005915"><span class="nick" style="color:#389600"><a href="#005915" label="[00:59:15]">&lt;stikonas&gt;</a></span><span class="message">like #endif a</span></div><div class="line" id="022840"><span class="nick" style="color:#389600"><a href="#022840" label="[02:28:40]">&lt;stikonas&gt;</a></span><span class="message">gbrlwck: I just tried mescc and crt1.c builds fine</span></div><div class="line" id="023057"><span class="nick" style="color:#389600"><a href="#023057" label="[02:30:57]">&lt;stikonas&gt;</a></span><span class="message">maybe you have not set up all env variables (MES_PREFIX, GUILE_LOAD_PATH=${MES_PREFIX}/mes/module:${MES_PREFIX}/module:../nyacc/module, MES_ARENA=20000000, MES_MAX_ARENA=20000000, MES_STACK=6000000)</span></div><div class="line" id="023146"><span class="nick" style="color:#389600"><a href="#023146" label="[02:31:46]">&lt;stikonas&gt;</a></span><span class="message">or maybe nyacc is at wrong version</span></div><div class="line" id="024411"><span class="nick" style="color:#8dd3c7"><a href="#024411" label="[02:44:11]">&lt;oriansj&gt;</a></span><span class="message">stikonas: we really just need to do a sanity checker script for mes-m2</span></div><div class="line" id="024442"><span class="nick" style="color:#8dd3c7"><a href="#024442" label="[02:44:42]">&lt;oriansj&gt;</a></span><span class="message">that will download the correct versions if they don't exist already locally and prompt to export the correct enviroment variables</span></div><div class="line" id="024522"><span class="nick" style="color:#389600"><a href="#024522" label="[02:45:22]">&lt;stikonas&gt;</a></span><span class="message">we kind of already have live-bootstrap...</span></div><div class="line" id="024549"><span class="nick" style="color:#389600"><a href="#024549" label="[02:45:49]">&lt;stikonas&gt;</a></span><span class="message">just need to update stage0-posix and mes-m2</span></div><div class="line" id="024605"><span class="nick" style="color:#389600"><a href="#024605" label="[02:46:05]">&lt;stikonas&gt;</a></span><span class="message">if one wants to test newst versions</span></div><div class="line" id="025004"><span class="nick" style="color:#6b8072"><a href="#025004" label="[02:50:04]">&lt;stikonas[m]&gt;</a></span><span class="message">But maybe something simpler also makes sense</span></div><div class="line" id="135033"><span class="nick">***</span><span class="message notice">bandali is now known as mab</span></div><div class="line" id="234204"><span class="nick">***</span><span class="message notice">stikonas_ is now known as stikonas</span></div><div class="line" id="234206"><span class="nick" style="color:#389600"><a href="#234206" label="[23:42:06]">&lt;stikonas&gt;</a></span><span class="message">oriansj: <a rel="nofollow" href="https://github.com/oriansj/bootstrap-seeds/pull/13">https://github.com/oriansj/bootstrap-seeds/pull/13</a> </span></div><div class="line" id="234604"><span class="nick" style="color:#8dd3c7"><a href="#234604" label="[23:46:04]">&lt;oriansj&gt;</a></span><span class="message">stikonas: merged</span></div><div class="line" id="234626"><span class="nick" style="color:#389600"><a href="#234626" label="[23:46:26]">&lt;stikonas&gt;</a></span><span class="message">ok, I'll update submodule in stage0-posix, but I can do it myself there</span></div><div class="line" id="234703"><span class="nick" style="color:#389600"><a href="#234703" label="[23:47:03]">&lt;stikonas&gt;</a></span><span class="message">also need to add actual kaem scripts (although they wouldn't run till the end as port is only done until cc_riscv32)</span></div><div class="line" id="235517"><span class="nick" style="color:#8dd3c7"><a href="#235517" label="[23:55:17]">&lt;oriansj&gt;</a></span><span class="message">and we have M2libc and M2-Planet porting work to do as well</span></div><div class="line" id="235642"><span class="nick" style="color:#389600"><a href="#235642" label="[23:56:42]">&lt;stikonas&gt;</a></span><span class="message">yeah, that's what's left now...</span></div><div class="line" id="235650"><span class="nick" style="color:#389600"><a href="#235650" label="[23:56:50]">&lt;stikonas&gt;</a></span><span class="message">just pushed the scripts</span></div><div class="line" id="235655"><span class="nick" style="color:#389600"><a href="#235655" label="[23:56:55]">&lt;stikonas&gt;</a></span><span class="message">builds fine up to cc_riscv32</span></div><div class="line" id="235700"><span class="nick" style="color:#389600"><a href="#235700" label="[23:57:00]">&lt;stikonas&gt;</a></span><span class="message">then fails on M2-Planet as expected</span></div><div class="line" id="235912"><span class="nick" style="color:#389600"><a href="#235912" label="[23:59:12]">&lt;stikonas&gt;</a></span><span class="message">M2libc and M2-Planet should be quite simple (maybe with the exception of waitpid/wait4, need to implement it using waitid)</span></div><br /></div></body></html>