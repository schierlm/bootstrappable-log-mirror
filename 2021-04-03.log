<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2021-04-03.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000134"><span class="nick" style="color:#389600"><a href="#000134" label="[00:01:34]">&lt;stikonas&gt;</a></span><span class="message">possibly need to adjust compile flags</span></div><div class="line" id="000301"><span class="nick" style="color:#389600"><a href="#000301" label="[00:03:01]">&lt;stikonas&gt;</a></span><span class="message">OriansJ`: I think this fails <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/blob/master/sysa/tcc-0.9.26/tcc-0.9.26.kaem#L48">https://github.com/fosslinux/live-bootstrap/blob/master/sysa/tcc-0.9.26/tcc-0.9.26.kaem#L48</a> </span></div><div class="line" id="000317"><span class="nick" style="color:#389600"><a href="#000317" label="[00:03:17]">&lt;stikonas&gt;</a></span><span class="message">so we probably still need to build libc...</span></div><div class="line" id="000322"><span class="nick" style="color:#389600"><a href="#000322" label="[00:03:22]">&lt;stikonas&gt;</a></span><span class="message">just maybe can skip mes rebuild...</span></div><div class="line" id="000526"><span class="nick" style="color:#389600"><a href="#000526" label="[00:05:26]">&lt;stikonas&gt;</a></span><span class="message">so in the end I think it's rougly the same time 1) rebuilding mes and building tcc a bit faster or 2) building tcc slower</span></div><div class="line" id="001103"><span class="nick" style="color:#8dd3c7"><a href="#001103" label="[00:11:03]">&lt;OriansJ`&gt;</a></span><span class="message">stikonas: mescc probably implicitly links against the libc but now we know something we didn't earlier.</span></div><div class="line" id="002200"><span class="nick" style="color:#2e2a4a"><a href="#002200" label="[00:22:00]">&lt;bauen1&gt;</a></span><span class="message">spolier alert: mixing up autoconf, automake, 1.6.3, 2.52 randomly does not usually yield the desired result</span></div><div class="line" id="002250"><span class="nick" style="color:#2e2a4a"><a href="#002250" label="[00:22:50]">&lt;bauen1&gt;</a></span><span class="message">but now i know that it takes me roughly 50m to get to the stage where stow could be used to easily skip build steps</span></div><div class="line" id="002521"><span class="nick" style="color:#389600"><a href="#002521" label="[00:25:21]">&lt;stikonas&gt;</a></span><span class="message">OriansJ`: ok, I just built libmescc and directly tcc and that works</span></div><div class="line" id="002533"><span class="nick" style="color:#389600"><a href="#002533" label="[00:25:33]">&lt;stikonas&gt;</a></span><span class="message">although, not sure if it's worth chaning build process now...</span></div><div class="line" id="002544"><span class="nick" style="color:#389600"><a href="#002544" label="[00:25:44]">&lt;stikonas&gt;</a></span><span class="message">given that it takes roughly the same amount of time</span></div><div class="line" id="002632"><span class="nick" style="color:#389600"><a href="#002632" label="[00:26:32]">&lt;stikonas&gt;</a></span><span class="message">bauen1: you can use pder/overlay to speed up initial builds (it's prebuilt until tcc)</span></div><div class="line" id="005336"><span class="nick" style="color:#8dd3c7"><a href="#005336" label="[00:53:36]">&lt;OriansJ`&gt;</a></span><span class="message">stikonas: completely fair</span></div><div class="line" id="023858"><span class="nick" style="color:#80b1d3"><a href="#023858" label="[02:38:58]">&lt;pabs3&gt;</a></span><span class="message">debian-java (failed) attempt at bootstrapping Kotlin from scratch: <a rel="nofollow" href="https://lists.debian.org/msgid-search/ef374c2a-f5e1-cfd3-c09d-943cca56c47c@apache.org">https://lists.debian.org/msgid-search/ef374c2a-f5e1-cfd3-c09d-943cca56c47c@apache.org</a> </span></div><div class="line" id="023930"><span class="nick" style="color:#80b1d3"><a href="#023930" label="[02:39:30]">&lt;pabs3&gt;</a></span><span class="message">(start using an old version of kotlin that didn't build using itself)</span></div><div class="line" id="032448"><span class="nick" style="color:#8dd3c7"><a href="#032448" label="[03:24:48]">&lt;OriansJ`&gt;</a></span><span class="message">pabs3: looks like a case where guix can help as we should have older javas available.</span></div><div class="line" id="055526"><span class="nick" style="color:#6d2462"><a href="#055526" label="[05:55:26]">&lt;fossy&gt;</a></span><span class="message">&lt;stikonas&gt; fossy: strange, is this new perl or current perl?</span></div><div class="line" id="055541"><span class="nick" style="color:#6d2462"><a href="#055541" label="[05:55:41]">&lt;fossy&gt;</a></span><span class="message">further investigation confirms something I added is clobbering it</span></div><div class="line" id="055812"><span class="nick" style="color:#6d2462"><a href="#055812" label="[05:58:12]">&lt;fossy&gt;</a></span><span class="message">&lt;stikonas&gt; although, I'm not sure what fossy's plans are towards x86_64 right now</span></div><div class="line" id="055832"><span class="nick" style="color:#6d2462"><a href="#055832" label="[05:58:32]">&lt;fossy&gt;</a></span><span class="message">i386 first, then x86_64</span></div><div class="line" id="055908"><span class="nick" style="color:#6d2462"><a href="#055908" label="[05:59:08]">&lt;fossy&gt;</a></span><span class="message">&lt;stikonas&gt; fossy: I'm now looking at tar (and I guess same is true for some other new GNU software). When gnulib is used, Makefile.am is basically generated by gnulib-tool <a rel="nofollow" href="https://git.savannah.gnu.org/cgit/gnulib.git/tree/gnulib-tool">https://git.savannah.gnu.org/cgit/gnulib.git/tree/gnulib-tool</a> </span></div><div class="line" id="055918"><span class="nick" style="color:#6d2462"><a href="#055918" label="[05:59:18]">&lt;fossy&gt;</a></span><span class="message">please open an issue if you havenr already</span></div><div class="line" id="062909"><span class="nick" style="color:#80b1d3"><a href="#062909" label="[06:29:09]">&lt;pabs3&gt;</a></span><span class="message">anyone know how to contact rain1?</span></div><div class="line" id="071718"><span class="nick" style="color:#80b1d3"><a href="#071718" label="[07:17:18]">&lt;pabs3&gt;</a></span><span class="message">does one need to be subscribed to the mailing list to post?</span></div><div class="line" id="075449"><span class="nick" style="color:#234e69"><a href="#075449" label="[07:54:49]">&lt;siraben&gt;</a></span><span class="message">pabs3: you can just send an email to the mailing list regardless</span></div><div class="line" id="075639"><span class="nick" style="color:#80b1d3"><a href="#075639" label="[07:56:39]">&lt;pabs3&gt;</a></span><span class="message">hmm, ok. my mail doesn't appear to have reach the archives</span></div><div class="line" id="100218"><span class="nick" style="color:#6d2462"><a href="#100218" label="[10:02:18]">&lt;fossy&gt;</a></span><span class="message">i think it's a daily dump to the archives</span></div><div class="line" id="100220"><span class="nick" style="color:#6d2462"><a href="#100220" label="[10:02:20]">&lt;fossy&gt;</a></span><span class="message">don't quote me on that</span></div><div class="line" id="105019"><span class="nick" style="color:#6c3d55"><a href="#105019" label="[10:50:19]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: <a rel="nofollow" href="http://intercity-vpn.de/bootstrap-dcec416d0fe1d8d6effdfa985c9bd51995490381.txt">http://intercity-vpn.de/bootstrap-dcec416d0fe1d8d6effdfa985c9bd51995490381.txt</a> </span></div><div class="line" id="105118"><span class="nick" style="color:#6c3d55"><a href="#105118" label="[10:51:18]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: what can we do about changing bash-checksums? would it be a workaround for now to make the sha256-check nonfatal aka: check &quot;$file&quot; || true ?</span></div><div class="line" id="110401"><span class="nick" style="color:#389600"><a href="#110401" label="[11:04:01]">&lt;stikonas&gt;</a></span><span class="message">fossy: <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/issues/88">https://github.com/fosslinux/live-bootstrap/issues/88</a> </span></div><div class="line" id="110414"><span class="nick" style="color:#389600"><a href="#110414" label="[11:04:14]">&lt;stikonas&gt;</a></span><span class="message">as for checksums, I'm not sure ignoring them is helpful though...</span></div><div class="line" id="110526"><span class="nick" style="color:#389600"><a href="#110526" label="[11:05:26]">&lt;stikonas&gt;</a></span><span class="message">ingoring checksum failure, then there isn't much point in running it</span></div><div class="line" id="110616"><span class="nick" style="color:#6c3d55"><a href="#110616" label="[11:06:16]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: it is really a showblocker for me. i think it's better to just print the error and check in CI the log for 'sha256sum: WARNING:'</span></div><div class="line" id="110639"><span class="nick" style="color:#6c3d55"><a href="#110639" label="[11:06:39]">&lt;gforce_de1977&gt;</a></span><span class="message">(after full run)</span></div><div class="line" id="110659"><span class="nick" style="color:#389600"><a href="#110659" label="[11:06:59]">&lt;stikonas&gt;</a></span><span class="message">fossy: what do you think? ^^</span></div><div class="line" id="112930"><span class="nick" style="color:#6c3d55"><a href="#112930" label="[11:29:30]">&lt;gforce_de1977&gt;</a></span><span class="message">(i will run a full testrun regarding checksum ignore and report)</span></div><div class="line" id="113721"><span class="nick" style="color:#389600"><a href="#113721" label="[11:37:21]">&lt;stikonas&gt;</a></span><span class="message">gforce_de1977: by the way, your last log has now the same size</span></div><div class="line" id="113727"><span class="nick" style="color:#389600"><a href="#113727" label="[11:37:27]">&lt;stikonas&gt;</a></span><span class="message">as other normal runs</span></div><div class="line" id="113732"><span class="nick" style="color:#389600"><a href="#113732" label="[11:37:32]">&lt;stikonas&gt;</a></span><span class="message">2621878</span></div><div class="line" id="113738"><span class="nick" style="color:#389600"><a href="#113738" label="[11:37:38]">&lt;stikonas&gt;</a></span><span class="message">maybe worth diffing this binary...</span></div><div class="line" id="113746"><span class="nick" style="color:#389600"><a href="#113746" label="[11:37:46]">&lt;stikonas&gt;</a></span><span class="message">not sure what has changed...</span></div><div class="line" id="113807"><span class="nick" style="color:#389600"><a href="#113807" label="[11:38:07]">&lt;stikonas&gt;</a></span><span class="message">last time I ran diff, they had different sizes and were completely different binaries</span></div><div class="line" id="115130"><span class="nick" style="color:#6c3d55"><a href="#115130" label="[11:51:30]">&lt;gforce_de1977&gt;</a></span><span class="message">d</span></div><div class="line" id="115157"><span class="nick" style="color:#6c3d55"><a href="#115157" label="[11:51:57]">&lt;gforce_de1977&gt;</a></span><span class="message">sorry, this was a &quot;CI&quot; runs and the image is vanished already</span></div><div class="line" id="115412"><span class="nick" style="color:#6c3d55"><a href="#115412" label="[11:54:12]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: in the bash-build-script you are doing &quot;tricks&quot; with sleep...is command &quot;sleep&quot; already built?</span></div><div class="line" id="115443"><span class="nick" style="color:#389600"><a href="#115443" label="[11:54:43]">&lt;stikonas&gt;</a></span><span class="message">gforce_de1977: yes, of course</span></div><div class="line" id="115452"><span class="nick" style="color:#389600"><a href="#115452" label="[11:54:52]">&lt;stikonas&gt;</a></span><span class="message">otherwise it would just error out with command not found</span></div><div class="line" id="115528"><span class="nick" style="color:#389600"><a href="#115528" label="[11:55:28]">&lt;stikonas&gt;</a></span><span class="message">sleep is built really early</span></div><div class="line" id="115536"><span class="nick" style="color:#389600"><a href="#115536" label="[11:55:36]">&lt;stikonas&gt;</a></span><span class="message">well, I guess it's a very simple program anyway</span></div><div class="line" id="115538"><span class="nick" style="color:#389600"><a href="#115538" label="[11:55:38]">&lt;stikonas&gt;</a></span><span class="message">it doesn't do much</span></div><div class="line" id="115621"><span class="nick" style="color:#389600"><a href="#115621" label="[11:56:21]">&lt;stikonas&gt;</a></span><span class="message">by the way, I didn't add sleep, upstream bash build process uses sleep, I just added sync after it... Although, probably anything would work</span></div><div class="line" id="115745"><span class="nick" style="color:#6c3d55"><a href="#115745" label="[11:57:45]">&lt;gforce_de1977&gt;</a></span><span class="message">ok, sync is IMHO a &quot;builtin&quot; but 'sleep' should be missing if not build via e.g. coreutils?</span></div><div class="line" id="115840"><span class="nick" style="color:#6c3d55"><a href="#115840" label="[11:58:40]">&lt;gforce_de1977&gt;</a></span><span class="message">here is another run with the SAME checkout, i just implemented the above idea with: checksum || true ---- but now everything is fine: <a rel="nofollow" href="http://intercity-vpn.de/live-bootstrap-329afda94d6b5f412e43f30d6be7a210ffa1e490-ignorebadsha256.txt">http://intercity-vpn.de/live-bootstrap-329afda94d6b5f412e43f30d6be7a210ffa1e490-ignorebadsha256.txt</a> </span></div><div class="line" id="115913"><span class="nick" style="color:#6c3d55"><a href="#115913" label="[11:59:13]">&lt;gforce_de1977&gt;</a></span><span class="message">search for &quot;/after/bin/bash: OK&quot; (for convience i added always output the sha256)</span></div><div class="line" id="120046"><span class="nick" style="color:#6c3d55"><a href="#120046" label="[12:00:46]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: sorry, i overread your explanation about &quot;we build sleep early&quot;, thanks for clarification</span></div><div class="line" id="120130"><span class="nick" style="color:#6d2462"><a href="#120130" label="[12:01:30]">&lt;fossy&gt;</a></span><span class="message">we have had this conversation before, i am still firmly against making checksums *ever* be allowed to be non-fatal</span></div><div class="line" id="120205"><span class="nick" style="color:#6d2462"><a href="#120205" label="[12:02:05]">&lt;fossy&gt;</a></span><span class="message">if that is happening, there is a misconfiguration somewhere</span></div><div class="line" id="120213"><span class="nick" style="color:#389600"><a href="#120213" label="[12:02:13]">&lt;stikonas&gt;</a></span><span class="message">both sync and sleep are built in coreutils</span></div><div class="line" id="120229"><span class="nick" style="color:#389600"><a href="#120229" label="[12:02:29]">&lt;stikonas&gt;</a></span><span class="message">well, yeah, I also didn't want to make checksums non-fatal</span></div><div class="line" id="120233"><span class="nick" style="color:#6d2462"><a href="#120233" label="[12:02:33]">&lt;fossy&gt;</a></span><span class="message">/ a hardware proble,m</span></div><div class="line" id="120243"><span class="nick" style="color:#6d2462"><a href="#120243" label="[12:02:43]">&lt;fossy&gt;</a></span><span class="message">/ malicious issue</span></div><div class="line" id="120248"><span class="nick" style="color:#6d2462"><a href="#120248" label="[12:02:48]">&lt;fossy&gt;</a></span><span class="message">/ non-reproducibility</span></div><div class="line" id="120252"><span class="nick" style="color:#6d2462"><a href="#120252" label="[12:02:52]">&lt;fossy&gt;</a></span><span class="message">all of which are bad things</span></div><div class="line" id="120309"><span class="nick" style="color:#389600"><a href="#120309" label="[12:03:09]">&lt;stikonas&gt;</a></span><span class="message">yeah, most likely third which is least bad but still a bit bad because you can't rule out first two</span></div><div class="line" id="120332"><span class="nick" style="color:#6d2462"><a href="#120332" label="[12:03:32]">&lt;fossy&gt;</a></span><span class="message">yeah</span></div><div class="line" id="120332"><span class="nick" style="color:#389600"><a href="#120332" label="[12:03:32]">&lt;stikonas&gt;</a></span><span class="message">fossy: any ideas how we should handle gnulib?</span></div><div class="line" id="120337"><span class="nick" style="color:#389600"><a href="#120337" label="[12:03:37]">&lt;stikonas&gt;</a></span><span class="message">since it has not releases</span></div><div class="line" id="120340"><span class="nick" style="color:#6d2462"><a href="#120340" label="[12:03:40]">&lt;fossy&gt;</a></span><span class="message">not yet. haven't looked into it</span></div><div class="line" id="120351"><span class="nick" style="color:#6d2462"><a href="#120351" label="[12:03:51]">&lt;fossy&gt;</a></span><span class="message">from my experience on it in void though i think most people vendor it</span></div><div class="line" id="120359"><span class="nick" style="color:#389600"><a href="#120359" label="[12:03:59]">&lt;stikonas&gt;</a></span><span class="message">yeah, everybody just vendors it</span></div><div class="line" id="120414"><span class="nick" style="color:#389600"><a href="#120414" label="[12:04:14]">&lt;stikonas&gt;</a></span><span class="message">that wendoring process specifies what modules you wanta to import</span></div><div class="line" id="120420"><span class="nick" style="color:#6d2462"><a href="#120420" label="[12:04:20]">&lt;fossy&gt;</a></span><span class="message">i see</span></div><div class="line" id="120446"><span class="nick" style="color:#389600"><a href="#120446" label="[12:04:46]">&lt;stikonas&gt;</a></span><span class="message">and sometimes people embed command to reproduce it (although it's not clear which gnulib-tools checkout was used, but maybe that can be found out using other means)</span></div><div class="line" id="120452"><span class="nick" style="color:#389600"><a href="#120452" label="[12:04:52]">&lt;stikonas&gt;</a></span><span class="message">but sometimes command is not even embedded</span></div><div class="line" id="120458"><span class="nick" style="color:#389600"><a href="#120458" label="[12:04:58]">&lt;stikonas&gt;</a></span><span class="message">(especially in older releases)</span></div><div class="line" id="120459"><span class="nick" style="color:#6d2462"><a href="#120459" label="[12:04:59]">&lt;fossy&gt;</a></span><span class="message">all of our packages, do they vendor gnulib?</span></div><div class="line" id="120507"><span class="nick" style="color:#389600"><a href="#120507" label="[12:05:07]">&lt;stikonas&gt;</a></span><span class="message">all</span></div><div class="line" id="120515"><span class="nick" style="color:#389600"><a href="#120515" label="[12:05:15]">&lt;stikonas&gt;</a></span><span class="message">although, before we use autotools, that doesn't really matter</span></div><div class="line" id="120521"><span class="nick" style="color:#6d2462"><a href="#120521" label="[12:05:21]">&lt;fossy&gt;</a></span><span class="message">yeah ofc</span></div><div class="line" id="120531"><span class="nick" style="color:#389600"><a href="#120531" label="[12:05:31]">&lt;stikonas&gt;</a></span><span class="message">well, gnulib simply has no releases...</span></div><div class="line" id="120536"><span class="nick" style="color:#389600"><a href="#120536" label="[12:05:36]">&lt;stikonas&gt;</a></span><span class="message">so vendring is the only option</span></div><div class="line" id="120547"><span class="nick" style="color:#6d2462"><a href="#120547" label="[12:05:47]">&lt;fossy&gt;</a></span><span class="message">would be a nightmare for distros otherwise</span></div><div class="line" id="120623"><span class="nick" style="color:#389600"><a href="#120623" label="[12:06:23]">&lt;stikonas&gt;</a></span><span class="message">indeed...</span></div><div class="line" id="120639"><span class="nick" style="color:#389600"><a href="#120639" label="[12:06:39]">&lt;stikonas&gt;</a></span><span class="message">although, it would be a bit of nightmare for us too if we want to reimport everything</span></div><div class="line" id="120642"><span class="nick" style="color:#6d2462"><a href="#120642" label="[12:06:42]">&lt;fossy&gt;</a></span><span class="message">can you give an example of a package that uses gnulib? (e.g. bintuils dosen't seem to)</span></div><div class="line" id="120646"><span class="nick" style="color:#6d2462"><a href="#120646" label="[12:06:46]">&lt;fossy&gt;</a></span><span class="message">probably gcc does</span></div><div class="line" id="120702"><span class="nick" style="color:#389600"><a href="#120702" label="[12:07:02]">&lt;stikonas&gt;</a></span><span class="message">oh, they use libiberty</span></div><div class="line" id="120709"><span class="nick" style="color:#389600"><a href="#120709" label="[12:07:09]">&lt;stikonas&gt;</a></span><span class="message">I think gnulib was based on libiberty</span></div><div class="line" id="120713"><span class="nick" style="color:#6d2462"><a href="#120713" label="[12:07:13]">&lt;fossy&gt;</a></span><span class="message">oooh</span></div><div class="line" id="120714"><span class="nick" style="color:#389600"><a href="#120714" label="[12:07:14]">&lt;stikonas&gt;</a></span><span class="message">findutils does have it</span></div><div class="line" id="120727"><span class="nick" style="color:#6d2462"><a href="#120727" label="[12:07:27]">&lt;fossy&gt;</a></span><span class="message">yes</span></div><div class="line" id="120759"><span class="nick" style="color:#6d2462"><a href="#120759" label="[12:07:59]">&lt;fossy&gt;</a></span><span class="message">ok i am in understanding of the issue now</span></div><div class="line" id="120807"><span class="nick" style="color:#6d2462"><a href="#120807" label="[12:08:07]">&lt;fossy&gt;</a></span><span class="message">s/in//</span></div><div class="line" id="120814"><span class="nick" style="color:#389600"><a href="#120814" label="[12:08:14]">&lt;stikonas&gt;</a></span><span class="message">m4 has gnulib too</span></div><div class="line" id="120822"><span class="nick" style="color:#389600"><a href="#120822" label="[12:08:22]">&lt;stikonas&gt;</a></span><span class="message">although, we've built it manually</span></div><div class="line" id="120907"><span class="nick" style="color:#6d2462"><a href="#120907" label="[12:09:07]">&lt;fossy&gt;</a></span><span class="message">import-gnulib.config seems to have gnulib_version in almost all cases which hash the hash of gnulib</span></div><div class="line" id="120926"><span class="nick" style="color:#6d2462"><a href="#120926" label="[12:09:26]">&lt;fossy&gt;</a></span><span class="message">has the commit hash of the version used*</span></div><div class="line" id="120939"><span class="nick" style="color:#389600"><a href="#120939" label="[12:09:39]">&lt;stikonas&gt;</a></span><span class="message">oh, ok, that's good</span></div><div class="line" id="121000"><span class="nick" style="color:#389600"><a href="#121000" label="[12:10:00]">&lt;stikonas&gt;</a></span><span class="message">where is that file?</span></div><div class="line" id="121010"><span class="nick" style="color:#6d2462"><a href="#121010" label="[12:10:10]">&lt;fossy&gt;</a></span><span class="message">for findutils in the root dir of the tarball</span></div><div class="line" id="121015"><span class="nick" style="color:#6d2462"><a href="#121015" label="[12:10:15]">&lt;fossy&gt;</a></span><span class="message">alongside import-gnulib.sh</span></div><div class="line" id="121036"><span class="nick" style="color:#389600"><a href="#121036" label="[12:10:36]">&lt;stikonas&gt;</a></span><span class="message">oh I see</span></div><div class="line" id="121053"><span class="nick" style="color:#389600"><a href="#121053" label="[12:10:53]">&lt;stikonas&gt;</a></span><span class="message">ok, so findutils has it, not sure about others</span></div><div class="line" id="121054"><span class="nick" style="color:#389600"><a href="#121054" label="[12:10:54]">&lt;stikonas&gt;</a></span><span class="message">let's checkj</span></div><div class="line" id="121114"><span class="nick" style="color:#389600"><a href="#121114" label="[12:11:14]">&lt;stikonas&gt;</a></span><span class="message">tar 1.34 doesn't</span></div><div class="line" id="121133"><span class="nick" style="color:#6d2462"><a href="#121133" label="[12:11:33]">&lt;fossy&gt;</a></span><span class="message">only findutils</span></div><div class="line" id="121139"><span class="nick" style="color:#6d2462"><a href="#121139" label="[12:11:39]">&lt;fossy&gt;</a></span><span class="message">➜ find . -name gnulib</span></div><div class="line" id="121141"><span class="nick" style="color:#6d2462"><a href="#121141" label="[12:11:41]">&lt;fossy&gt;</a></span><span class="message">./findutils-4.2.33/gnulib</span></div><div class="line" id="121143"><span class="nick" style="color:#6d2462"><a href="#121143" label="[12:11:43]">&lt;fossy&gt;</a></span><span class="message">with all tarballs extracted</span></div><div class="line" id="121153"><span class="nick" style="color:#389600"><a href="#121153" label="[12:11:53]">&lt;stikonas&gt;</a></span><span class="message">oh, lib name can be different</span></div><div class="line" id="121155"><span class="nick" style="color:#6d2462"><a href="#121155" label="[12:11:55]">&lt;fossy&gt;</a></span><span class="message">oh</span></div><div class="line" id="121157"><span class="nick" style="color:#389600"><a href="#121157" label="[12:11:57]">&lt;stikonas&gt;</a></span><span class="message">often it is in lib</span></div><div class="line" id="121203"><span class="nick" style="color:#6d2462"><a href="#121203" label="[12:12:03]">&lt;fossy&gt;</a></span><span class="message">oh</span></div><div class="line" id="121209"><span class="nick" style="color:#6c3d55"><a href="#121209" label="[12:12:09]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: we alreay have base64, have we?</span></div><div class="line" id="121213"><span class="nick" style="color:#389600"><a href="#121213" label="[12:12:13]">&lt;stikonas&gt;</a></span><span class="message">sometimes in gnu</span></div><div class="line" id="121216"><span class="nick" style="color:#6d2462"><a href="#121216" label="[12:12:16]">&lt;fossy&gt;</a></span><span class="message">yes i believe so gforce_de1977</span></div><div class="line" id="121225"><span class="nick" style="color:#389600"><a href="#121225" label="[12:12:25]">&lt;stikonas&gt;</a></span><span class="message">easy to check in coreutils makefile</span></div><div class="line" id="121229"><span class="nick" style="color:#389600"><a href="#121229" label="[12:12:29]">&lt;stikonas&gt;</a></span><span class="message">or checksums file</span></div><div class="line" id="121244"><span class="nick" style="color:#6d2462"><a href="#121244" label="[12:12:44]">&lt;fossy&gt;</a></span><span class="message">stikonas: also bison (sigh), automake?, m4, coreutils</span></div><div class="line" id="121245"><span class="nick" style="color:#6d2462"><a href="#121245" label="[12:12:45]">&lt;fossy&gt;</a></span><span class="message">i think</span></div><div class="line" id="121251"><span class="nick" style="color:#6c3d55"><a href="#121251" label="[12:12:51]">&lt;gforce_de1977&gt;</a></span><span class="message">in case if an sha256 mismatch we can at least do: echo STARTMARKER &amp;&amp; base64 /after/bin/myfile &amp;&amp; echo ENDMARKER</span></div><div class="line" id="121256"><span class="nick" style="color:#389600"><a href="#121256" label="[12:12:56]">&lt;stikonas&gt;</a></span><span class="message">no, we don't have  base64</span></div><div class="line" id="121303"><span class="nick" style="color:#6d2462"><a href="#121303" label="[12:13:03]">&lt;fossy&gt;</a></span><span class="message">oh</span></div><div class="line" id="121319"><span class="nick" style="color:#389600"><a href="#121319" label="[12:13:19]">&lt;stikonas&gt;</a></span><span class="message">I think you have to inject busybox</span></div><div class="line" id="121321"><span class="nick" style="color:#389600"><a href="#121321" label="[12:13:21]">&lt;stikonas&gt;</a></span><span class="message">for debugging</span></div><div class="line" id="121322"><span class="nick" style="color:#6c3d55"><a href="#121322" label="[12:13:22]">&lt;gforce_de1977&gt;</a></span><span class="message">this would make it more easy to get the file out of an CI run</span></div><div class="line" id="121345"><span class="nick" style="color:#6c3d55"><a href="#121345" label="[12:13:45]">&lt;gforce_de1977&gt;</a></span><span class="message">locally i have injected busybox, no prob here</span></div><div class="line" id="121348"><span class="nick" style="color:#6d2462"><a href="#121348" label="[12:13:48]">&lt;fossy&gt;</a></span><span class="message">hm</span></div><div class="line" id="121355"><span class="nick" style="color:#389600"><a href="#121355" label="[12:13:55]">&lt;stikonas&gt;</a></span><span class="message">well, then use busybox base64</span></div><div class="line" id="121358"><span class="nick" style="color:#389600"><a href="#121358" label="[12:13:58]">&lt;stikonas&gt;</a></span><span class="message">that should work</span></div><div class="line" id="121425"><span class="nick" style="color:#389600"><a href="#121425" label="[12:14:25]">&lt;stikonas&gt;</a></span><span class="message">fossy: automake is a red herring I think</span></div><div class="line" id="121441"><span class="nick" style="color:#389600"><a href="#121441" label="[12:14:41]">&lt;stikonas&gt;</a></span><span class="message">coreutils definitely, but so far we only attempted manual builds</span></div><div class="line" id="121454"><span class="nick" style="color:#389600"><a href="#121454" label="[12:14:54]">&lt;stikonas&gt;</a></span><span class="message">so I think right now findutils and sed? are affected?</span></div><div class="line" id="121454"><span class="nick" style="color:#6d2462"><a href="#121454" label="[12:14:54]">&lt;fossy&gt;</a></span><span class="message">when i figure out a new approach to kernel work (idea in progress) then we can probably do a host nfs mount or smth</span></div><div class="line" id="121456"><span class="nick" style="color:#6d2462"><a href="#121456" label="[12:14:56]">&lt;fossy&gt;</a></span><span class="message">later</span></div><div class="line" id="121500"><span class="nick" style="color:#6d2462"><a href="#121500" label="[12:15:00]">&lt;fossy&gt;</a></span><span class="message">coreutils also</span></div><div class="line" id="121511"><span class="nick" style="color:#6d2462"><a href="#121511" label="[12:15:11]">&lt;fossy&gt;</a></span><span class="message">coreutils-6.3/lib/gnulib.mk has &quot;# Generated by gnulib-tool.&quot;</span></div><div class="line" id="121517"><span class="nick" style="color:#389600"><a href="#121517" label="[12:15:17]">&lt;stikonas&gt;</a></span><span class="message">yes, but we don't use it</span></div><div class="line" id="121523"><span class="nick" style="color:#389600"><a href="#121523" label="[12:15:23]">&lt;stikonas&gt;</a></span><span class="message">well, it's vendored source</span></div><div class="line" id="121530"><span class="nick" style="color:#389600"><a href="#121530" label="[12:15:30]">&lt;stikonas&gt;</a></span><span class="message">but we don't use pregen'ed files from there</span></div><div class="line" id="121535"><span class="nick" style="color:#6d2462"><a href="#121535" label="[12:15:35]">&lt;fossy&gt;</a></span><span class="message">oh duh</span></div><div class="line" id="121542"><span class="nick" style="color:#389600"><a href="#121542" label="[12:15:42]">&lt;stikonas&gt;</a></span><span class="message">coreutils -6.10 now, not 6.3</span></div><div class="line" id="121550"><span class="nick" style="color:#6d2462"><a href="#121550" label="[12:15:50]">&lt;fossy&gt;</a></span><span class="message">yea</span></div><div class="line" id="121620"><span class="nick" style="color:#389600"><a href="#121620" label="[12:16:20]">&lt;stikonas&gt;</a></span><span class="message">but they oftne have that gnulib.mk</span></div><div class="line" id="121628"><span class="nick" style="color:#389600"><a href="#121628" label="[12:16:28]">&lt;stikonas&gt;</a></span><span class="message">which is autogenerated part of Makefile.am</span></div><div class="line" id="121648"><span class="nick" style="color:#389600"><a href="#121648" label="[12:16:48]">&lt;stikonas&gt;</a></span><span class="message">it's fairly readable though</span></div><div class="line" id="121725"><span class="nick" style="color:#389600"><a href="#121725" label="[12:17:25]">&lt;stikonas&gt;</a></span><span class="message">and at least not as big as gcc's Makefile.in (which is about 1 MB)</span></div><div class="line" id="121733"><span class="nick" style="color:#6d2462"><a href="#121733" label="[12:17:33]">&lt;fossy&gt;</a></span><span class="message">wow</span></div><div class="line" id="121736"><span class="nick" style="color:#6d2462"><a href="#121736" label="[12:17:36]">&lt;fossy&gt;</a></span><span class="message">that's a lot</span></div><div class="line" id="121759"><span class="nick" style="color:#389600"><a href="#121759" label="[12:17:59]">&lt;stikonas&gt;</a></span><span class="message">also m4/gnulib-comp.m4 is gnulib-tool'ed</span></div><div class="line" id="121809"><span class="nick" style="color:#6d2462"><a href="#121809" label="[12:18:09]">&lt;fossy&gt;</a></span><span class="message">in what?</span></div><div class="line" id="121843"><span class="nick" style="color:#389600"><a href="#121843" label="[12:18:43]">&lt;stikonas&gt;</a></span><span class="message">e.g. coreutils</span></div><div class="line" id="121848"><span class="nick" style="color:#389600"><a href="#121848" label="[12:18:48]">&lt;stikonas&gt;</a></span><span class="message">others too I think</span></div><div class="line" id="121853"><span class="nick" style="color:#6d2462"><a href="#121853" label="[12:18:53]">&lt;fossy&gt;</a></span><span class="message">oh right</span></div><div class="line" id="121906"><span class="nick" style="color:#389600"><a href="#121906" label="[12:19:06]">&lt;stikonas&gt;</a></span><span class="message">yes, m4 has it too</span></div><div class="line" id="121922"><span class="nick" style="color:#389600"><a href="#121922" label="[12:19:22]">&lt;stikonas&gt;</a></span><span class="message">it's just 10 lines</span></div><div class="line" id="121929"><span class="nick" style="color:#6d2462"><a href="#121929" label="[12:19:29]">&lt;fossy&gt;</a></span><span class="message">that's not bad</span></div><div class="line" id="121932"><span class="nick" style="color:#389600"><a href="#121932" label="[12:19:32]">&lt;stikonas&gt;</a></span><span class="message">have to go afk for a while...</span></div><div class="line" id="121941"><span class="nick" style="color:#389600"><a href="#121941" label="[12:19:41]">&lt;stikonas&gt;</a></span><span class="message">some other m4's are larger</span></div><div class="line" id="121944"><span class="nick" style="color:#6d2462"><a href="#121944" label="[12:19:44]">&lt;fossy&gt;</a></span><span class="message">ok talk later</span></div><div class="line" id="121950"><span class="nick" style="color:#389600"><a href="#121950" label="[12:19:50]">&lt;stikonas&gt;</a></span><span class="message">coreutils gnulib.mk is 70K...</span></div><div class="line" id="122020"><span class="nick" style="color:#6d2462"><a href="#122020" label="[12:20:20]">&lt;fossy&gt;</a></span><span class="message">not nice</span></div><div class="line" id="130043"><span class="nick" style="color:#389600"><a href="#130043" label="[13:00:43]">&lt;stikonas&gt;</a></span><span class="message">fossy: although, I guess a lot of configure.ac files are initially generated using autoscan too</span></div><div class="line" id="130050"><span class="nick" style="color:#389600"><a href="#130050" label="[13:00:50]">&lt;stikonas&gt;</a></span><span class="message">and then hand tweaked</span></div><div class="line" id="130137"><span class="nick" style="color:#389600"><a href="#130137" label="[13:01:37]">&lt;stikonas&gt;</a></span><span class="message">although, configure.ac usually is a bit smaller</span></div><div class="line" id="151405"><span class="nick" style="color:#6c3d55"><a href="#151405" label="[15:14:05]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: fossy: bauen1: i just tried to built coreutils 'base64' (just in case my private CI-run fails again and i want to automatically output the bash5-binary to logfile) but adding 'base64' to the list of utils abort with an error &quot;no rule to make target src/base64.o&quot;...is the magic needed?</span></div><div class="line" id="151452"><span class="nick" style="color:#8dd3c7"><a href="#151452" label="[15:14:52]">&lt;OriansJ`&gt;</a></span><span class="message">xeh ix a program in stage0 that would dump any file into hex and it can easily be built by cc_* or better</span></div><div class="line" id="151556"><span class="nick" style="color:#8dd3c7"><a href="#151556" label="[15:15:56]">&lt;OriansJ`&gt;</a></span><span class="message">it isn't as efficient as base64 but it could trivially be added early on and enable dumping the hex of any binary that doesn't have a matching checksum, which would enable CI to give you the binary (in hex form) that you could then diff locally</span></div><div class="line" id="155338"><span class="nick" style="color:#389600"><a href="#155338" label="[15:53:38]">&lt;stikonas&gt;</a></span><span class="message">gforce_de1977: which version coreutils are you building?</span></div><div class="line" id="155453"><span class="nick" style="color:#389600"><a href="#155453" label="[15:54:53]">&lt;stikonas&gt;</a></span><span class="message">if it's 5 then the answer is simply it's not there</span></div><div class="line" id="155456"><span class="nick" style="color:#389600"><a href="#155456" label="[15:54:56]">&lt;stikonas&gt;</a></span><span class="message">which is what make says</span></div><div class="line" id="155540"><span class="nick" style="color:#389600"><a href="#155540" label="[15:55:40]">&lt;stikonas&gt;</a></span><span class="message">no rule to make base64.o means it does not know how to compile base64.o file which normally means base64.c file is not there</span></div><div class="line" id="155559"><span class="nick" style="color:#389600"><a href="#155559" label="[15:55:59]">&lt;stikonas&gt;</a></span><span class="message">(make has implicit rule of how to build .c -&gt; .o)</span></div><div class="line" id="170834"><span class="nick" style="color:#8dd3c7"><a href="#170834" label="[17:08:34]">&lt;OriansJ`&gt;</a></span><span class="message">That reminds me, I probably should update that and make it more C standard with M2libc</span></div><div class="line" id="172248"><span class="nick" style="color:#8dd3c7"><a href="#172248" label="[17:22:48]">&lt;OriansJ`&gt;</a></span><span class="message">and the revised xeh.c is now up in stage0-posix</span></div><div class="line" id="172330"><span class="nick" style="color:#8dd3c7"><a href="#172330" label="[17:23:30]">&lt;OriansJ`&gt;</a></span><span class="message">build with: M2-Planet --architecture amd64 -f sys/types.h -f stddef.h -f string.c -f amd64/Linux/unistd.h -f stdlib.c -f amd64/Linux/fcntl.h -f stdio.c -f bootstrappable.c -f ../stage0-posix/Legacy_pieces/xeh.c -o foo.M1 --debug &amp;&amp; blood-elf -f foo.M1 --64 -o foo-footer.M1 &amp;&amp; M1 --architecture amd64 --little-endian -f amd64/amd64_defs.M1 -f amd64/libc-full.M1 -f foo.M1 -f foo-footer.M1 -o foo.hex2 &amp;&amp; hex2 --architecture amd64</span></div><div class="line" id="172330"><span class="nick" style="color:#8dd3c7"><a href="#172330" label="[17:23:30]">&lt;OriansJ`&gt;</a></span><span class="message">--little-endian --base-address 0x10000 -f amd64/ELF-amd64-debug.hex2 -f foo.hex2 -o foo &amp;&amp; ./foo filename</span></div><div class="line" id="172737"><span class="nick" style="color:#8dd3c7"><a href="#172737" label="[17:27:37]">&lt;OriansJ`&gt;</a></span><span class="message">probably could drop a couple of those libraries but I'll deal with that when I include it in the standard bin output</span></div><div class="line" id="175854"><span class="nick" style="color:#6c3d55"><a href="#175854" label="[17:58:54]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: you are right, i tried with coreutils5, so in version 6.x it is possible? i will just try...</span></div><div class="line" id="180458"><span class="nick" style="color:#389600"><a href="#180458" label="[18:04:58]">&lt;stikonas&gt;</a></span><span class="message">well, yeah, coreutils 6.10 has base64.c</span></div><div class="line" id="180525"><span class="nick" style="color:#389600"><a href="#180525" label="[18:05:25]">&lt;stikonas&gt;</a></span><span class="message">if it builds, just make a PR, so that everybody has base64, it is useful to have...</span></div><div class="line" id="181851"><span class="nick" style="color:#6c3d55"><a href="#181851" label="[18:18:51]">&lt;gforce_de1977&gt;</a></span><span class="message">ok, will try to build base64</span></div><div class="line" id="190448"><span class="nick" style="color:#8dd3c7"><a href="#190448" label="[19:04:48]">&lt;OriansJ`&gt;</a></span><span class="message">I think I can get the M2-Planet built version of Mes.c up to speed by converting it to be built with m2libc</span></div><div class="line" id="192845"><span class="nick" style="color:#389600"><a href="#192845" label="[19:28:45]">&lt;stikonas&gt;</a></span><span class="message">well, we still need to wait until mes-m2 can be built with m2libc</span></div><div class="line" id="192859"><span class="nick" style="color:#389600"><a href="#192859" label="[19:28:59]">&lt;stikonas&gt;</a></span><span class="message">I think at the moment there was some incompatibility</span></div><div class="line" id="200904"><span class="nick" style="color:#6c3d55"><a href="#200904" label="[20:09:04]">&lt;gforce_de1977&gt;</a></span><span class="message">funny: another working bash5.1 with &quot;invalid&quot; checksum qemu: 6af92e0a1b5db87220ae2ae5d345bfba4801bb4011c3386ce87b975bf9c24637</span></div><div class="line" id="201147"><span class="nick" style="color:#6c3d55"><a href="#201147" label="[20:11:47]">&lt;gforce_de1977&gt;</a></span><span class="message"> <a rel="nofollow" href="http://intercity-vpn.de/live-bootstrap-329afda94d6b5f412e43f30d6be7a210ffa1e490-ignorebadsha256.txt">http://intercity-vpn.de/live-bootstrap-329afda94d6b5f412e43f30d6be7a210ffa1e490-ignorebadsha256.txt</a> </span></div><div class="line" id="201150"><span class="nick" style="color:#6c3d55"><a href="#201150" label="[20:11:50]">&lt;gforce_de1977&gt;</a></span><span class="message">and</span></div><div class="line" id="201155"><span class="nick" style="color:#6c3d55"><a href="#201155" label="[20:11:55]">&lt;gforce_de1977&gt;</a></span><span class="message">live-bootstrap-329afda94d6b5f412e43f30d6be7a210ffa1e490-ignorebadsha256-II.txt</span></div><div class="line" id="201211"><span class="nick" style="color:#6c3d55"><a href="#201211" label="[20:12:11]">&lt;gforce_de1977&gt;</a></span><span class="message"> <a rel="nofollow" href="http://intercity-vpn.de/live-bootstrap-329afda94d6b5f412e43f30d6be7a210ffa1e490-ignorebadsha256-II.txt">http://intercity-vpn.de/live-bootstrap-329afda94d6b5f412e43f30d6be7a210ffa1e490-ignorebadsha256-II.txt</a> </span></div><div class="line" id="201409"><span class="nick" style="color:#8dd3c7"><a href="#201409" label="[20:14:09]">&lt;OriansJ`&gt;</a></span><span class="message">stikonas: that is my project for today (child willing)</span></div><div class="line" id="202524"><span class="nick" style="color:#6c3d55"><a href="#202524" label="[20:25:24]">&lt;gforce_de1977&gt;</a></span><span class="message">my project this weekend is: <a rel="nofollow" href="https://2021.revision-party.net/start">https://2021.revision-party.net/start</a> </span></div><div class="line" id="204841"><span class="nick" style="color:#6c3d55"><a href="#204841" label="[20:48:41]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: just adding 'base64' to the makefile list of coreutils-6.x does not work: tcc: error: undefined symbol 'base64_encode'</span></div><div class="line" id="204856"><span class="nick" style="color:#6c3d55"><a href="#204856" label="[20:48:56]">&lt;gforce_de1977&gt;</a></span><span class="message">(i have to look deeper)</span></div><div class="line" id="205000"><span class="nick" style="color:#389600"><a href="#205000" label="[20:50:00]">&lt;stikonas&gt;</a></span><span class="message">well, find which while has that symbols and compile it too</span></div><div class="line" id="205027"><span class="nick" style="color:#389600"><a href="#205027" label="[20:50:27]">&lt;stikonas&gt;</a></span><span class="message">you then might need to add custom linking rule if it's more than one .o file -&gt; base64 binary</span></div><div class="line" id="205226"><span class="nick" style="color:#6c3d55"><a href="#205226" label="[20:52:26]">&lt;gforce_de1977&gt;</a></span><span class="message">ok, will do</span></div><div class="line" id="212301"><span class="nick" style="color:#389600"><a href="#212301" label="[21:23:01]">&lt;stikonas&gt;</a></span><span class="message">an my projecet for today was building GMP <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/89">https://github.com/fosslinux/live-bootstrap/pull/89</a> </span></div><div class="line" id="212316"><span class="nick" style="color:#389600"><a href="#212316" label="[21:23:16]">&lt;stikonas&gt;</a></span><span class="message">GMP is needed both by Guile and newer GCC</span></div><div class="line" id="212809"><span class="nick" style="color:#8dd3c7"><a href="#212809" label="[21:28:09]">&lt;OriansJ`&gt;</a></span><span class="message">my project for today, get Mes.c building and MesCC in mes-m2 running so that when I upgrade stage0-posix, we don't build a worthless binary</span></div><div class="line" id="221548"><span class="nick" style="color:#8dd3c7"><a href="#221548" label="[22:15:48]">&lt;OriansJ`&gt;</a></span><span class="message">there finally</span></div><div class="line" id="221643"><span class="nick" style="color:#8dd3c7"><a href="#221643" label="[22:16:43]">&lt;OriansJ`&gt;</a></span><span class="message">&gt;.&lt; I was too hopeful</span></div><div class="line" id="221742"><span class="nick" style="color:#8dd3c7"><a href="#221742" label="[22:17:42]">&lt;OriansJ`&gt;</a></span><span class="message">probably a missing scheme file (but copying them all over breaks guile's ablity to run MesCC)</span></div><div class="line" id="221810"><span class="nick" style="color:#8dd3c7"><a href="#221810" label="[22:18:10]">&lt;OriansJ`&gt;</a></span><span class="message">Let us call it a half-step</span></div><div class="line" id="223022"><span class="nick" style="color:#8dd3c7"><a href="#223022" label="[22:30:22]">&lt;OriansJ`&gt;</a></span><span class="message">oh god it isn't buildable by GCC again &gt;.&lt;</span></div><div class="line" id="223850"><span class="nick" style="color:#d9d9d9"><a href="#223850" label="[22:38:50]">&lt;vagrantc&gt;</a></span><span class="message">first successful armhf build for mes on Debian: <a rel="nofollow" href="https://buildd.debian.org/status/logs.php?pkg=mes&amp;ver=0.23-1&amp;arch=armhf">https://buildd.debian.org/status/logs.php?pkg=mes&amp;ver=0.23-1&amp;arch=armhf</a> </span></div><div class="line" id="223953"><span class="nick" style="color:#d9d9d9"><a href="#223953" label="[22:39:53]">&lt;vagrantc&gt;</a></span><span class="message">failed on armel, though: ++ /usr/bin/gcc -nostdlib -g lib/linux/arm-mes-gcc/exit-42.S -o exit-42</span></div><div class="line" id="223956"><span class="nick" style="color:#d9d9d9"><a href="#223956" label="[22:39:56]">&lt;vagrantc&gt;</a></span><span class="message">lib/linux/arm-mes-gcc/exit-42.S: Assembler messages:</span></div><div class="line" id="223958"><span class="nick" style="color:#d9d9d9"><a href="#223958" label="[22:39:58]">&lt;vagrantc&gt;</a></span><span class="message">lib/linux/arm-mes-gcc/exit-42.S:46: Error: selected processor does not support `wfi' in ARM mode</span></div><div class="line" id="224007"><span class="nick" style="color:#d9d9d9"><a href="#224007" label="[22:40:07]">&lt;vagrantc&gt;</a></span><span class="message">not sure if that's worth fixing ...</span></div><div class="line" id="224034"><span class="nick" style="color:#d9d9d9"><a href="#224034" label="[22:40:34]">&lt;vagrantc&gt;</a></span><span class="message">not sure how much easier bootstrapping armv5 is vs. armv7</span></div><div class="line" id="224048"><span class="nick" style="color:#d9d9d9"><a href="#224048" label="[22:40:48]">&lt;vagrantc&gt;</a></span><span class="message"> <a rel="nofollow" href="https://buildd.debian.org/status/package.php?p=mes&amp;suite=experimental">https://buildd.debian.org/status/package.php?p=mes&amp;suite=experimental</a> </span></div><div class="line" id="224111"><span class="nick" style="color:#d9d9d9"><a href="#224111" label="[22:41:11]">&lt;vagrantc&gt;</a></span><span class="message">armel likely to be removed from debian ... any release now...</span></div><div class="line" id="224145"><span class="nick" style="color:#d9d9d9"><a href="#224145" label="[22:41:45]">&lt;vagrantc&gt;</a></span><span class="message">but figured was worth mentioning at least :)</span></div><div class="line" id="225626"><span class="nick" style="color:#8dd3c7"><a href="#225626" label="[22:56:26]">&lt;OriansJ`&gt;</a></span><span class="message">so this <a rel="nofollow" href="https://github.com/oriansj/mes-m2">https://github.com/oriansj/mes-m2</a>  is currently buggy but it just the isolated kaem.run and C sources needed to build mes.c by M2-Planet</span></div><div class="line" id="225725"><span class="nick" style="color:#8dd3c7"><a href="#225725" label="[22:57:25]">&lt;OriansJ`&gt;</a></span><span class="message">so it is good enough for stage-posix to use but I'll definitely want to clean it up ALOT</span></div><div class="line" id="225730"><span class="nick" style="color:#8dd3c7"><a href="#225730" label="[22:57:30]">&lt;OriansJ`&gt;</a></span><span class="message">like *ALOT*</span></div><div class="line" id="225821"><span class="nick" style="color:#8dd3c7"><a href="#225821" label="[22:58:21]">&lt;OriansJ`&gt;</a></span><span class="message">mostly getting it into a state that GCC can actually build the C source code</span></div><div class="line" id="225839"><span class="nick" style="color:#8dd3c7"><a href="#225839" label="[22:58:39]">&lt;OriansJ`&gt;</a></span><span class="message">which really shouldn't be a thing in bootstrapping but yet here we are</span></div><div class="line" id="230820"><span class="nick" style="color:#8dd3c7"><a href="#230820" label="[23:08:20]">&lt;OriansJ`&gt;</a></span><span class="message">but first I am going to get M2libc and M2-Planet into a release ready state and update stage0-posix so that the bootstrap will be a hair faster</span></div><div class="line" id="231146"><span class="nick" style="color:#2e2a4a"><a href="#231146" label="[23:11:46]">&lt;bauen1&gt;</a></span><span class="message">OriansJ`: live-bootstrap will be faster ? by how much ?</span></div><div class="line" id="231919"><span class="nick" style="color:#8dd3c7"><a href="#231919" label="[23:19:19]">&lt;OriansJ`&gt;</a></span><span class="message">bauen1: well M2libc speeds up M2-Planet generated binaries by 10-40% depending how write intensive they are.</span></div><div class="line" id="232006"><span class="nick" style="color:#8dd3c7"><a href="#232006" label="[23:20:06]">&lt;OriansJ`&gt;</a></span><span class="message">also we will be removing the useless build of (the broken mes-m2) and doing a build of (the working) mes-m2 instead</span></div><div class="line" id="232025"><span class="nick" style="color:#8dd3c7"><a href="#232025" label="[23:20:25]">&lt;OriansJ`&gt;</a></span><span class="message">so only a couple seconds as M2-Planet builds fast</span></div><div class="line" id="232028"><span class="nick" style="color:#8dd3c7"><a href="#232028" label="[23:20:28]">&lt;OriansJ`&gt;</a></span><span class="message">already</span></div><div class="line" id="232121"><span class="nick" style="color:#8dd3c7"><a href="#232121" label="[23:21:21]">&lt;OriansJ`&gt;</a></span><span class="message">but a 10-40% speedup to mes-m2 (once M2libc compat is done) will be quite nice speedup</span></div><div class="line" id="232158"><span class="nick" style="color:#8dd3c7"><a href="#232158" label="[23:21:58]">&lt;OriansJ`&gt;</a></span><span class="message">but lets be honest, this work is long overdue</span></div><div class="line" id="232209"><span class="nick" style="color:#8dd3c7"><a href="#232209" label="[23:22:09]">&lt;OriansJ`&gt;</a></span><span class="message">and I just got some free time to work on it</span></div><div class="line" id="232928"><span class="nick" style="color:#2e2a4a"><a href="#232928" label="[23:29:28]">&lt;bauen1&gt;</a></span><span class="message">that does sound quite nice :)</span></div><div class="line" id="233004"><span class="nick" style="color:#6d2462"><a href="#233004" label="[23:30:04]">&lt;fossy&gt;</a></span><span class="message">OriansJ`: bauen1 that is nice, but wont speed up live-bootstrap all that much</span></div><div class="line" id="233016"><span class="nick" style="color:#6d2462"><a href="#233016" label="[23:30:16]">&lt;fossy&gt;</a></span><span class="message">wait no</span></div><div class="line" id="233017"><span class="nick" style="color:#6d2462"><a href="#233017" label="[23:30:17]">&lt;fossy&gt;</a></span><span class="message">it will</span></div><div class="line" id="233956"><span class="nick" style="color:#389600"><a href="#233956" label="[23:39:56]">&lt;stikonas&gt;</a></span><span class="message">fossy: well, mes libc takes quite a long time</span></div><div class="line" id="234002"><span class="nick" style="color:#389600"><a href="#234002" label="[23:40:02]">&lt;stikonas&gt;</a></span><span class="message">that might be quicker</span></div><div class="line" id="234009"><span class="nick" style="color:#389600"><a href="#234009" label="[23:40:09]">&lt;stikonas&gt;</a></span><span class="message">but it will still take quite some time to build tcc</span></div><div class="line" id="234036"><span class="nick" style="color:#389600"><a href="#234036" label="[23:40:36]">&lt;stikonas&gt;</a></span><span class="message">fossy: I've done GMP today <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/89">https://github.com/fosslinux/live-bootstrap/pull/89</a> </span></div><div class="line" id="234101"><span class="nick" style="color:#389600"><a href="#234101" label="[23:41:01]">&lt;stikonas&gt;</a></span><span class="message">briefly checked that libunistring is buildable with what we have, but haven't done scripting yet</span></div><div class="line" id="234118"><span class="nick" style="color:#389600"><a href="#234118" label="[23:41:18]">&lt;stikonas&gt;</a></span><span class="message">also tried running configure in guile, but got some errors...</span></div><div class="line" id="234124"><span class="nick" style="color:#389600"><a href="#234124" label="[23:41:24]">&lt;stikonas&gt;</a></span><span class="message">checking for socklen_t equivalent... configure: error: Cannot find a type to use in place of socklen_t</span></div><div class="line" id="234129"><span class="nick" style="color:#389600"><a href="#234129" label="[23:41:29]">&lt;stikonas&gt;</a></span><span class="message">maybe musl incompatibility</span></div><div class="line" id="234228"><span class="nick" style="color:#bc80bd"><a href="#234228" label="[23:42:28]">*</a></span><span class="message">bauen1 is meanwhile doing a rebuild for perl-5.6.2 to add more support for symlinks as required by stow to recognise a file as an actual symlink</span></div><div class="line" id="234250"><span class="nick" style="color:#389600"><a href="#234250" label="[23:42:50]">&lt;stikonas&gt;</a></span><span class="message">more modules are needed?</span></div><div class="line" id="234303"><span class="nick" style="color:#2e2a4a"><a href="#234303" label="[23:43:03]">&lt;bauen1&gt;</a></span><span class="message">no, just support for -l</span></div><div class="line" id="234307"><span class="nick" style="color:#2e2a4a"><a href="#234307" label="[23:43:07]">&lt;bauen1&gt;</a></span><span class="message">so HAS_LSTAT</span></div><div class="line" id="234310"><span class="nick" style="color:#389600"><a href="#234310" label="[23:43:10]">&lt;stikonas&gt;</a></span><span class="message">oh ok</span></div><div class="line" id="234316"><span class="nick" style="color:#389600"><a href="#234316" label="[23:43:16]">&lt;stikonas&gt;</a></span><span class="message">that's probably simpler</span></div><div class="line" id="234341"><span class="nick" style="color:#2e2a4a"><a href="#234341" label="[23:43:41]">&lt;bauen1&gt;</a></span><span class="message">in the last few weeks i've learned more about perl than i'd like ...</span></div><div class="line" id="234422"><span class="nick" style="color:#389600"><a href="#234422" label="[23:44:22]">&lt;stikonas&gt;</a></span><span class="message">yeah... me too</span></div><div class="line" id="234448"><span class="nick" style="color:#389600"><a href="#234448" label="[23:44:48]">&lt;stikonas&gt;</a></span><span class="message">although, building perl was not too bad</span></div><div class="line" id="234510"><span class="nick" style="color:#389600"><a href="#234510" label="[23:45:10]">&lt;stikonas&gt;</a></span><span class="message">well, building perl modules was a bit messy</span></div><div class="line" id="234656"><span class="nick" style="color:#2e2a4a"><a href="#234656" label="[23:46:56]">&lt;bauen1&gt;</a></span><span class="message">building perl is not the issue, what you can do with perl is well</span></div><div class="line" id="234746"><span class="nick" style="color:#2e2a4a"><a href="#234746" label="[23:47:46]">&lt;bauen1&gt;</a></span><span class="message">i've recently learned on wikipedia that a common critisim of perl is that it's a &quot;write once language&quot; and that is so far the best summarization of perl code i've read</span></div><div class="line" id="234806"><span class="nick" style="color:#6d2462"><a href="#234806" label="[23:48:06]">&lt;fossy&gt;</a></span><span class="message">yeah saw the gmp pr looking at that now</span></div><div class="line" id="234816"><span class="nick" style="color:#6d2462"><a href="#234816" label="[23:48:16]">&lt;fossy&gt;</a></span><span class="message">stikonas: yes almost 100% a musl incompatibility</span></div><div class="line" id="234828"><span class="nick" style="color:#389600"><a href="#234828" label="[23:48:28]">&lt;stikonas&gt;</a></span><span class="message">fossy: that comment you left is for kaem build</span></div><div class="line" id="234836"><span class="nick" style="color:#389600"><a href="#234836" label="[23:48:36]">&lt;stikonas&gt;</a></span><span class="message">I think we don't care about destdir so early</span></div><div class="line" id="234838"><span class="nick" style="color:#6d2462"><a href="#234838" label="[23:48:38]">&lt;fossy&gt;</a></span><span class="message">oh, right</span></div><div class="line" id="234840"><span class="nick" style="color:#6d2462"><a href="#234840" label="[23:48:40]">&lt;fossy&gt;</a></span><span class="message">yes</span></div><div class="line" id="234842"><span class="nick" style="color:#6d2462"><a href="#234842" label="[23:48:42]">&lt;fossy&gt;</a></span><span class="message">correct</span></div><div class="line" id="234938"><span class="nick" style="color:#389600"><a href="#234938" label="[23:49:38]">&lt;stikonas&gt;</a></span><span class="message">fossy: then GMP should be fine I think... Not even gnulib is there</span></div><div class="line" id="235029"><span class="nick" style="color:#389600"><a href="#235029" label="[23:50:29]">&lt;stikonas&gt;</a></span><span class="message">although, we'll git more packages with gnulib...</span></div><div class="line" id="235033"><span class="nick" style="color:#389600"><a href="#235033" label="[23:50:33]">&lt;stikonas&gt;</a></span><span class="message">e.g. libunistring uses it</span></div><div class="line" id="235118"><span class="nick" style="color:#6d2462"><a href="#235118" label="[23:51:18]">&lt;fossy&gt;</a></span><span class="message">two comments for GMP</span></div><div class="line" id="235204"><span class="nick" style="color:#389600"><a href="#235204" label="[23:52:04]">&lt;stikonas&gt;</a></span><span class="message">well, autoreconf didn't work for me. Despite what you thought, it does not rebuild libtool files</span></div><div class="line" id="235210"><span class="nick" style="color:#6d2462"><a href="#235210" label="[23:52:10]">&lt;fossy&gt;</a></span><span class="message">really?</span></div><div class="line" id="235215"><span class="nick" style="color:#389600"><a href="#235215" label="[23:52:15]">&lt;stikonas&gt;</a></span><span class="message">yes...</span></div><div class="line" id="235217"><span class="nick" style="color:#bc80bd"><a href="#235217" label="[23:52:17]">*</a></span><span class="message">fossy suprised</span></div><div class="line" id="235232"><span class="nick" style="color:#389600"><a href="#235232" label="[23:52:32]">&lt;stikonas&gt;</a></span><span class="message">and autoreconf did not run automake with --add-missing</span></div><div class="line" id="235238"><span class="nick" style="color:#6d2462"><a href="#235238" label="[23:52:38]">&lt;fossy&gt;</a></span><span class="message">-i flag</span></div><div class="line" id="235246"><span class="nick" style="color:#6d2462"><a href="#235246" label="[23:52:46]">&lt;fossy&gt;</a></span><span class="message">-i: &quot;copy missing auxiliary files&quot;</span></div><div class="line" id="235303"><span class="nick" style="color:#6d2462"><a href="#235303" label="[23:53:03]">&lt;fossy&gt;</a></span><span class="message">i think</span></div><div class="line" id="235451"><span class="nick" style="color:#6d2462"><a href="#235451" label="[23:54:51]">&lt;fossy&gt;</a></span><span class="message">how odd</span></div><div class="line" id="235507"><span class="nick" style="color:#6d2462"><a href="#235507" label="[23:55:07]">&lt;fossy&gt;</a></span><span class="message">it is meant to regen if AC_PROG_LIBTOOL is in configure.ac and it very much is</span></div><div class="line" id="235541"><span class="nick" style="color:#389600"><a href="#235541" label="[23:55:41]">&lt;stikonas&gt;</a></span><span class="message">ok, let me try with -i</span></div><div class="line" id="235609"><span class="nick" style="color:#6d2462"><a href="#235609" label="[23:56:09]">&lt;fossy&gt;</a></span><span class="message">oops commented on wrong issue twice</span></div><div class="line" id="235620"><span class="nick" style="color:#bc80bd"><a href="#235620" label="[23:56:20]">*</a></span><span class="message">fossy is not thinking today</span></div><div class="line" id="235711"><span class="nick" style="color:#389600"><a href="#235711" label="[23:57:11]">&lt;stikonas&gt;</a></span><span class="message">and btw, coreutils 6.10 is not affected right now</span></div><div class="line" id="235717"><span class="nick" style="color:#389600"><a href="#235717" label="[23:57:17]">&lt;stikonas&gt;</a></span><span class="message">as we build using custom makefile</span></div><div class="line" id="235730"><span class="nick" style="color:#6d2462"><a href="#235730" label="[23:57:30]">&lt;fossy&gt;</a></span><span class="message">oh yeah, cause we only build a couple of progs</span></div><div class="line" id="235731"><span class="nick" style="color:#389600"><a href="#235731" label="[23:57:31]">&lt;stikonas&gt;</a></span><span class="message">and autoreconf -f -i worked! thanks</span></div><div class="line" id="235735"><span class="nick" style="color:#6d2462"><a href="#235735" label="[23:57:35]">&lt;fossy&gt;</a></span><span class="message">:D</span></div><div class="line" id="235738"><span class="nick" style="color:#6d2462"><a href="#235738" label="[23:57:38]">&lt;fossy&gt;</a></span><span class="message">including libtool or not?</span></div><div class="line" id="235859"><span class="nick" style="color:#389600"><a href="#235859" label="[23:58:59]">&lt;stikonas&gt;</a></span><span class="message">yes, I think so</span></div><div class="line" id="235913"><span class="nick" style="color:#389600"><a href="#235913" label="[23:59:13]">&lt;stikonas&gt;</a></span><span class="message">./libtool --version (after configure) was saying 2.2.4</span></div><div class="line" id="235917"><span class="nick" style="color:#389600"><a href="#235917" label="[23:59:17]">&lt;stikonas&gt;</a></span><span class="message">instead of 2.4.6</span></div><div class="line" id="235926"><span class="nick" style="color:#6d2462"><a href="#235926" label="[23:59:26]">&lt;fossy&gt;</a></span><span class="message">ok good :D</span></div><div class="line" id="235928"><span class="nick" style="color:#389600"><a href="#235928" label="[23:59:28]">&lt;stikonas&gt;</a></span><span class="message">I've rebased on top of master and pushed</span></div><div class="line" id="235934"><span class="nick" style="color:#389600"><a href="#235934" label="[23:59:34]">&lt;stikonas&gt;</a></span><span class="message">but probably worth waiting for CI</span></div><div class="line" id="235938"><span class="nick" style="color:#6d2462"><a href="#235938" label="[23:59:38]">&lt;fossy&gt;</a></span><span class="message">i think autoreconf -fi should be our &quot;default&quot; use</span></div><div class="line" id="235956"><span class="nick" style="color:#389600"><a href="#235956" label="[23:59:56]">&lt;stikonas&gt;</a></span><span class="message">hmm, yeah, I think so</span></div><div class="line" id="235959"><span class="nick" style="color:#6d2462"><a href="#235959" label="[23:59:59]">&lt;fossy&gt;</a></span><span class="message">-i dosen't do anything bad, it's just is a null-op if nothing is required</span></div><br /></div></body></html>