<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2024-03-29.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="040901"><span class="nick" style="color:#389600"><a href="#040901" label="[04:09:01]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;cosinusoidally&gt; fair enough, thanks. Makes sense given the intended use case. I ran into the calling convention differences when calling cc_x86 generated code from tcc generated code (which you probably didn't predict someone would try to do).</span></div><div class="line" id="111246"><span class="nick" style="color:#8dd3c7"><a href="#111246" label="[11:12:46]">&lt;oriansj&gt;</a></span><span class="message">cosinusoidally: well no, honestly if one has a better C compiler; I generally assume one would use it whenever possible. It also reduces the chances of running into bugs caused by defects in cc_* or M2-Planet. (Which there are a good many if one is careless in their deployment)</span></div><div class="line" id="132956"><span class="nick" style="color:#2e2a4a"><a href="#132956" label="[13:29:56]">&lt;Guest991&gt;</a></span><span class="message">what is error with this? what is wrong with this?</span></div><div class="line" id="133019"><span class="nick" style="color:#2e2a4a"><a href="#133019" label="[13:30:19]">&lt;Guest991&gt;</a></span><span class="message">what is wrong with this? rm: cannot lstat `*/Makefile.in': No such file or directory</span></div><div class="line" id="133020"><span class="nick" style="color:#2e2a4a"><a href="#133020" label="[13:30:20]">&lt;Guest991&gt;</a></span><span class="message">rm: cannot lstat `*/*/Makefile.in': No such file or directory</span></div><div class="line" id="133020"><span class="nick" style="color:#2e2a4a"><a href="#133020" label="[13:30:20]">&lt;Guest991&gt;</a></span><span class="message">Subprocess error 1</span></div><div class="line" id="180553"><span class="nick" style="color:#6b8072"><a href="#180553" label="[18:05:53]">&lt;ekaitz&gt;</a></span><span class="message">guys</span></div><div class="line" id="180555"><span class="nick" style="color:#6b8072"><a href="#180555" label="[18:05:55]">&lt;ekaitz&gt;</a></span><span class="message"> <a rel="nofollow" href="https://www.openwall.com/lists/oss-security/2024/03/29/4">https://www.openwall.com/lists/oss-security/2024/03/29/4</a> </span></div><div class="line" id="180621"><span class="nick" style="color:#6b8072"><a href="#180621" label="[18:06:21]">&lt;ekaitz&gt;</a></span><span class="message">my friend picnoir just sent me this</span></div><div class="line" id="180626"><span class="nick" style="color:#6b8072"><a href="#180626" label="[18:06:26]">&lt;ekaitz&gt;</a></span><span class="message">a supply-chain attack on the wild</span></div><div class="line" id="180901"><span class="nick" style="color:#6b8072"><a href="#180901" label="[18:09:01]">&lt;ekaitz&gt;</a></span><span class="message">this is a pretty hardcore thing, it's a problem in xz</span></div><div class="line" id="180931"><span class="nick" style="color:#6b8072"><a href="#180931" label="[18:09:31]">&lt;ekaitz&gt;</a></span><span class="message">oriansj: can we add this to bootstrappable.org ?</span></div><div class="line" id="180947"><span class="nick" style="color:#6b8072"><a href="#180947" label="[18:09:47]">&lt;ekaitz&gt;</a></span><span class="message">i think this is huge milestone</span></div><div class="line" id="180957"><span class="nick" style="color:#6b8072"><a href="#180957" label="[18:09:57]">&lt;ekaitz&gt;</a></span><span class="message">janneke: we should use this for future funding</span></div><div class="line" id="181503"><span class="nick" style="color:#80b1d3"><a href="#181503" label="[18:15:03]">&lt;stikonas&gt;</a></span><span class="message">yeah, I jus tsaw that too</span></div><div class="line" id="181511"><span class="nick" style="color:#80b1d3"><a href="#181511" label="[18:15:11]">&lt;stikonas&gt;</a></span><span class="message">ekaitz: but this is just normal backdoor</span></div><div class="line" id="181526"><span class="nick" style="color:#80b1d3"><a href="#181526" label="[18:15:26]">&lt;stikonas&gt;</a></span><span class="message">not one of those binary only...</span></div><div class="line" id="181540"><span class="nick" style="color:#6b8072"><a href="#181540" label="[18:15:40]">&lt;ekaitz&gt;</a></span><span class="message">but it's only affecting the binary release</span></div><div class="line" id="181552"><span class="nick" style="color:#6b8072"><a href="#181552" label="[18:15:52]">&lt;ekaitz&gt;</a></span><span class="message">they are using this as a binary in several distros, in the bootstrapping</span></div><div class="line" id="181557"><span class="nick" style="color:#6b8072"><a href="#181557" label="[18:15:57]">&lt;ekaitz&gt;</a></span><span class="message">in Nix, for example</span></div><div class="line" id="181605"><span class="nick" style="color:#80b1d3"><a href="#181605" label="[18:16:05]">&lt;stikonas&gt;</a></span><span class="message">oh, I should read it in more details</span></div><div class="line" id="181611"><span class="nick" style="color:#80b1d3"><a href="#181611" label="[18:16:11]">&lt;stikonas&gt;</a></span><span class="message">though I did see that gentoo masked it</span></div><div class="line" id="181626"><span class="nick" style="color:#6b8072"><a href="#181626" label="[18:16:26]">&lt;ekaitz&gt;</a></span><span class="message">we shouldn't have any problem with this because the source is ok</span></div><div class="line" id="181630"><span class="nick" style="color:#80b1d3"><a href="#181630" label="[18:16:30]">&lt;stikonas&gt;</a></span><span class="message">but these days gentoo also offers binary builds for those who want</span></div><div class="line" id="181632"><span class="nick" style="color:#6b8072"><a href="#181632" label="[18:16:32]">&lt;ekaitz&gt;</a></span><span class="message">they changed the binary release only</span></div><div class="line" id="181659"><span class="nick" style="color:#6b8072"><a href="#181659" label="[18:16:59]">&lt;ekaitz&gt;</a></span><span class="message">stikonas: but this is like they replaced the &quot;releases&quot; page in github where you can upload your own builds</span></div><div class="line" id="181730"><span class="nick" style="color:#6b8072"><a href="#181730" label="[18:17:30]">&lt;ekaitz&gt;</a></span><span class="message">so the tar.gzs with source code, as they come also from the sources in github, are not affected either</span></div><div class="line" id="181732"><span class="nick" style="color:#80b1d3"><a href="#181732" label="[18:17:32]">&lt;stikonas&gt;</a></span><span class="message">my reading is that it is present</span></div><div class="line" id="181737"><span class="nick" style="color:#80b1d3"><a href="#181737" label="[18:17:37]">&lt;stikonas&gt;</a></span><span class="message">in normal releases</span></div><div class="line" id="181755"><span class="nick" style="color:#80b1d3"><a href="#181755" label="[18:17:55]">&lt;stikonas&gt;</a></span><span class="message">yeah, that releases page</span></div><div class="line" id="181808"><span class="nick" style="color:#80b1d3"><a href="#181808" label="[18:18:08]">&lt;stikonas&gt;</a></span><span class="message">is like any other ftp http download page with separate release tarballs</span></div><div class="line" id="181817"><span class="nick" style="color:#6b8072"><a href="#181817" label="[18:18:17]">&lt;ekaitz&gt;</a></span><span class="message">yes</span></div><div class="line" id="181830"><span class="nick" style="color:#6b8072"><a href="#181830" label="[18:18:30]">&lt;ekaitz&gt;</a></span><span class="message">if this whole thing was bootstrapped, no issue</span></div><div class="line" id="181834"><span class="nick" style="color:#80b1d3"><a href="#181834" label="[18:18:34]">&lt;stikonas&gt;</a></span><span class="message">yeah, but distros dont' consume those</span></div><div class="line" id="181845"><span class="nick" style="color:#80b1d3"><a href="#181845" label="[18:18:45]">&lt;stikonas&gt;</a></span><span class="message">normally they want release tarballs and not git snapshots</span></div><div class="line" id="181846"><span class="nick" style="color:#6b8072"><a href="#181846" label="[18:18:46]">&lt;ekaitz&gt;</a></span><span class="message">some have to do, because this affected debian</span></div><div class="line" id="182056"><span class="nick" style="color:#6b8072"><a href="#182056" label="[18:20:56]">&lt;ekaitz&gt;</a></span><span class="message">but the only ones affected are those that contain the compiled files</span></div><div class="line" id="182356"><span class="nick" style="color:#6d2462"><a href="#182356" label="[18:23:56]">&lt;civodul&gt;</a></span><span class="message">woow, it’s a very elaborate scenario</span></div><div class="line" id="182720"><span class="nick" style="color:#8dd3c7"><a href="#182720" label="[18:27:20]">&lt;oriansj&gt;</a></span><span class="message">once again another reason to build from source locally and not trust any binary providers.</span></div><div class="line" id="182806"><span class="nick" style="color:#80b1d3"><a href="#182806" label="[18:28:06]">&lt;stikonas&gt;</a></span><span class="message">I'm still reading though</span></div><div class="line" id="182827"><span class="nick" style="color:#80b1d3"><a href="#182827" label="[18:28:27]">&lt;stikonas&gt;</a></span><span class="message">but aren't upstream source release tarballs also backdoored?</span></div><div class="line" id="182841"><span class="nick" style="color:#80b1d3"><a href="#182841" label="[18:28:41]">&lt;stikonas&gt;</a></span><span class="message">trying to find where this says otherwise and failing</span></div><div class="line" id="182851"><span class="nick" style="color:#80b1d3"><a href="#182851" label="[18:28:51]">&lt;stikonas&gt;</a></span><span class="message">if anything it seems that just building yourself won't help</span></div><div class="line" id="182924"><span class="nick" style="color:#234e69"><a href="#182924" label="[18:29:24]">&lt;janneke&gt;</a></span><span class="message">ekaitz: wow</span></div><div class="line" id="183006"><span class="nick" style="color:#6b8072"><a href="#183006" label="[18:30:06]">&lt;ekaitz&gt;</a></span><span class="message">stikonas: it says 'except for the &quot;source code&quot; links'</span></div><div class="line" id="183031"><span class="nick" style="color:#80b1d3"><a href="#183031" label="[18:30:31]">&lt;stikonas&gt;</a></span><span class="message">yeah, but like I said</span></div><div class="line" id="183038"><span class="nick" style="color:#80b1d3"><a href="#183038" label="[18:30:38]">&lt;stikonas&gt;</a></span><span class="message">most people use source release tarballs</span></div><div class="line" id="183044"><span class="nick" style="color:#80b1d3"><a href="#183044" label="[18:30:44]">&lt;stikonas&gt;</a></span><span class="message">those are affected</span></div><div class="line" id="183132"><span class="nick" style="color:#80b1d3"><a href="#183132" label="[18:31:32]">&lt;stikonas&gt;</a></span><span class="message">looks like version 5.6.0 already had a few complaints from Gentoo people, sam_ in particular and that guy was trying to adjust backdoor in 5.6.1 to avoid valgrind issues</span></div><div class="line" id="183147"><span class="nick" style="color:#6b8072"><a href="#183147" label="[18:31:47]">&lt;ekaitz&gt;</a></span><span class="message">aaah i see</span></div><div class="line" id="183157"><span class="nick" style="color:#6b8072"><a href="#183157" label="[18:31:57]">&lt;ekaitz&gt;</a></span><span class="message">we should go for git then instead</span></div><div class="line" id="183204"><span class="nick" style="color:#6b8072"><a href="#183204" label="[18:32:04]">&lt;ekaitz&gt;</a></span><span class="message">in guix we use git in many places</span></div><div class="line" id="183207"><span class="nick" style="color:#80b1d3"><a href="#183207" label="[18:32:07]">&lt;stikonas&gt;</a></span><span class="message">yeah, just git is unaffected</span></div><div class="line" id="183230"><span class="nick" style="color:#6b8072"><a href="#183230" label="[18:32:30]">&lt;ekaitz&gt;</a></span><span class="message">stikonas: but also using the source-code part that is generated by github would be great</span></div><div class="line" id="183259"><span class="nick" style="color:#80b1d3"><a href="#183259" label="[18:32:59]">&lt;stikonas&gt;</a></span><span class="message">well, that is just git archive I guess</span></div><div class="line" id="183330"><span class="nick" style="color:#6b8072"><a href="#183330" label="[18:33:30]">&lt;ekaitz&gt;</a></span><span class="message">yes</span></div><div class="line" id="183333"><span class="nick" style="color:#6b8072"><a href="#183333" label="[18:33:33]">&lt;ekaitz&gt;</a></span><span class="message">it's a git archive</span></div><div class="line" id="183406"><span class="nick" style="color:#6b8072"><a href="#183406" label="[18:34:06]">&lt;ekaitz&gt;</a></span><span class="message">oriansj: the point of this one is we can't even trust the source-release providers</span></div><div class="line" id="183450"><span class="nick" style="color:#80b1d3"><a href="#183450" label="[18:34:50]">&lt;stikonas&gt;</a></span><span class="message">that's not new though :)</span></div><div class="line" id="183514"><span class="nick" style="color:#80b1d3"><a href="#183514" label="[18:35:14]">&lt;stikonas&gt;</a></span><span class="message">it's just that this time backdoor is in quite core project</span></div><div class="line" id="183529"><span class="nick" style="color:#6b8072"><a href="#183529" label="[18:35:29]">&lt;ekaitz&gt;</a></span><span class="message">yeah</span></div><div class="line" id="183532"><span class="nick" style="color:#6b8072"><a href="#183532" label="[18:35:32]">&lt;ekaitz&gt;</a></span><span class="message">it's a huge one</span></div><div class="line" id="183537"><span class="nick" style="color:#6b8072"><a href="#183537" label="[18:35:37]">&lt;ekaitz&gt;</a></span><span class="message">xz, mate!</span></div><div class="line" id="183822"><span class="nick" style="color:#6b8072"><a href="#183822" label="[18:38:22]">&lt;ekaitz&gt;</a></span><span class="message">in any case, having this written in bootstrappable.org would be interesting</span></div><div class="line" id="184102"><span class="nick" style="color:#8dd3c7"><a href="#184102" label="[18:41:02]">&lt;oriansj&gt;</a></span><span class="message">ekaitz: we never could trust the source-release providers. Ultimately they could go crazy at any time (or bribed or blackmailed); hence the need for trusted source code, also includes trusted build scripts.</span></div><div class="line" id="184123"><span class="nick" style="color:#6b8072"><a href="#184123" label="[18:41:23]">&lt;ekaitz&gt;</a></span><span class="message">yes</span></div><div class="line" id="184130"><span class="nick" style="color:#6b8072"><a href="#184130" label="[18:41:30]">&lt;ekaitz&gt;</a></span><span class="message">build scripts, and configure scripts are also code</span></div><div class="line" id="184208"><span class="nick" style="color:#6b8072"><a href="#184208" label="[18:42:08]">&lt;ekaitz&gt;</a></span><span class="message">if the `autoreconf -vif` generates a 20kLoC configure script, I also consider that almost a binary</span></div><div class="line" id="184218"><span class="nick" style="color:#6b8072"><a href="#184218" label="[18:42:18]">&lt;ekaitz&gt;</a></span><span class="message">that's impossible to read and review</span></div><div class="line" id="184219"><span class="nick" style="color:#8dd3c7"><a href="#184219" label="[18:42:19]">&lt;oriansj&gt;</a></span><span class="message">and have to be reviewed, audited and ideally so simple that it can't do anything bad.</span></div><div class="line" id="184253"><span class="nick" style="color:#80b1d3"><a href="#184253" label="[18:42:53]">&lt;stikonas&gt;</a></span><span class="message">the thing is that even autoreconf -vif wouldn't help here</span></div><div class="line" id="184302"><span class="nick" style="color:#80b1d3"><a href="#184302" label="[18:43:02]">&lt;stikonas&gt;</a></span><span class="message">the backdoor was an extra injected m4 file</span></div><div class="line" id="184330"><span class="nick" style="color:#80b1d3"><a href="#184330" label="[18:43:30]">&lt;stikonas&gt;</a></span><span class="message">but yes, those huge scripts are why live-bootstrap doesn't trust them until autootools is bootstrapped</span></div><div class="line" id="184341"><span class="nick" style="color:#80b1d3"><a href="#184341" label="[18:43:41]">&lt;stikonas&gt;</a></span><span class="message">at least then you only need to review m4 macros</span></div><div class="line" id="184353"><span class="nick" style="color:#80b1d3"><a href="#184353" label="[18:43:53]">&lt;stikonas&gt;</a></span><span class="message">(though for this backdoor, it was in m4)</span></div><div class="line" id="184354"><span class="nick" style="color:#8dd3c7"><a href="#184354" label="[18:43:54]">&lt;oriansj&gt;</a></span><span class="message">a simple list of ${cc} -c ${source} -o ${source/.ext/.o} should be enough for compiled languages (with a little bit of conditional for different host platforms)</span></div><div class="line" id="184438"><span class="nick" style="color:#8dd3c7"><a href="#184438" label="[18:44:38]">&lt;oriansj&gt;</a></span><span class="message">but yeah, autotools and configure scripts are ripe for many potential backdoors</span></div><div class="line" id="184541"><span class="nick" style="color:#6b8072"><a href="#184541" label="[18:45:41]">&lt;ekaitz&gt;</a></span><span class="message">yes</span></div><div class="line" id="184819"><span class="nick" style="color:#8dd3c7"><a href="#184819" label="[18:48:19]">&lt;oriansj&gt;</a></span><span class="message">now makefiles support that out of the box: <a rel="nofollow" href="https://www.gnu.org/software/make/manual/html_node/Conditional-Syntax.html">https://www.gnu.org/software/make/manual/html_node/Conditional-Syntax.html</a> </span></div><div class="line" id="184855"><span class="nick" style="color:#8dd3c7"><a href="#184855" label="[18:48:55]">&lt;oriansj&gt;</a></span><span class="message">so configure scripts and autotools in theory could be abandoned but I doubt that is likely to occur</span></div><div class="line" id="185042"><span class="nick" style="color:#80b1d3"><a href="#185042" label="[18:50:42]">&lt;stikonas&gt;</a></span><span class="message">well, I guess these days people tend to go for cmake or meson instead of autotools</span></div><div class="line" id="185105"><span class="nick" style="color:#6b8072"><a href="#185105" label="[18:51:05]">&lt;ekaitz&gt;</a></span><span class="message">which btw idk if it's good or bad</span></div><div class="line" id="185303"><span class="nick" style="color:#8dd3c7"><a href="#185303" label="[18:53:03]">&lt;oriansj&gt;</a></span><span class="message">well, it depends. On one hand a clean cmake or clean meson build is fine. They too can be abused to inject backdoors</span></div><div class="line" id="185323"><span class="nick" style="color:#8dd3c7"><a href="#185323" label="[18:53:23]">&lt;oriansj&gt;</a></span><span class="message">(Even makefiles can be abused in that fashion)</span></div><div class="line" id="185354"><span class="nick" style="color:#8dd3c7"><a href="#185354" label="[18:53:54]">&lt;oriansj&gt;</a></span><span class="message">so, the desire for clean and simple builds is perhaps the key</span></div><div class="line" id="185440"><span class="nick" style="color:#80b1d3"><a href="#185440" label="[18:54:40]">&lt;stikonas&gt;</a></span><span class="message">well, anything can be abused with backdoors</span></div><div class="line" id="185457"><span class="nick" style="color:#80b1d3"><a href="#185457" label="[18:54:57]">&lt;stikonas&gt;</a></span><span class="message">I think somebody even wrote backdoored hex0</span></div><div class="line" id="185502"><span class="nick" style="color:#80b1d3"><a href="#185502" label="[18:55:02]">&lt;stikonas&gt;</a></span><span class="message">or something like that</span></div><div class="line" id="185507"><span class="nick" style="color:#8dd3c7"><a href="#185507" label="[18:55:07]">&lt;oriansj&gt;</a></span><span class="message">yes they did</span></div><div class="line" id="185511"><span class="nick" style="color:#80b1d3"><a href="#185511" label="[18:55:11]">&lt;stikonas&gt;</a></span><span class="message">though backdoor couldn't propagate too far</span></div><div class="line" id="185521"><span class="nick" style="color:#8dd3c7"><a href="#185521" label="[18:55:21]">&lt;oriansj&gt;</a></span><span class="message"> <a rel="nofollow" href="https://gitlab.com/bauen1/stage0-backdoor.git">https://gitlab.com/bauen1/stage0-backdoor.git</a> </span></div><div class="line" id="185533"><span class="nick" style="color:#80b1d3"><a href="#185533" label="[18:55:33]">&lt;stikonas&gt;</a></span><span class="message">oh yes, bauen1...</span></div><div class="line" id="190000"><span class="nick" style="color:#6b8072"><a href="#190000" label="[19:00:00]">&lt;ekaitz&gt;</a></span><span class="message">haha that's great</span></div><div class="line" id="190019"><span class="nick" style="color:#6b8072"><a href="#190019" label="[19:00:19]">&lt;ekaitz&gt;</a></span><span class="message">the goal is to reduce the surface</span></div><div class="line" id="190208"><span class="nick" style="color:#6c3d55"><a href="#190208" label="[19:02:08]">&lt;sam_&gt;</a></span><span class="message">[17:31:32]  &lt;stikonas&gt; looks like version 5.6.0 already had a few complaints from Gentoo people, sam_ in particular and that guy was trying to adjust backdoor in 5.6.1 to avoid valgrind issues</span></div><div class="line" id="190211"><span class="nick" style="color:#6c3d55"><a href="#190211" label="[19:02:11]">&lt;sam_&gt;</a></span><span class="message">this is actually nuanced, btw</span></div><div class="line" id="190218"><span class="nick" style="color:#6c3d55"><a href="#190218" label="[19:02:18]">&lt;sam_&gt;</a></span><span class="message">because it turns out, this led to a *real* gcc bug being found, in my cse</span></div><div class="line" id="190222"><span class="nick" style="color:#6c3d55"><a href="#190222" label="[19:02:22]">&lt;sam_&gt;</a></span><span class="message">NOT just working around the backdoor or anything</span></div><div class="line" id="190236"><span class="nick" style="color:#6c3d55"><a href="#190236" label="[19:02:36]">&lt;sam_&gt;</a></span><span class="message">but I DO regret not looking more into why there was an issue on Fedora but not Gentoo</span></div><div class="line" id="190250"><span class="nick" style="color:#6c3d55"><a href="#190250" label="[19:02:50]">&lt;sam_&gt;</a></span><span class="message">(because we never hit the valgrind problems, which it sounds like is because it was only setup to fire if rpm was found in the build env)</span></div><div class="line" id="190258"><span class="nick" style="color:#6c3d55"><a href="#190258" label="[19:02:58]">&lt;sam_&gt;</a></span><span class="message"> <a rel="nofollow" href="https://gcc.gnu.org/bugzilla/show_bug.cgi?id=114115">https://gcc.gnu.org/bugzilla/show_bug.cgi?id=114115</a> </span></div><div class="line" id="190928"><span class="nick" style="color:#80b1d3"><a href="#190928" label="[19:09:28]">&lt;stikonas&gt;</a></span><span class="message">I wonder if this commit is trolling; <a rel="nofollow" href="https://github.com/tukaani-project/xz/commit/af071ef7702debef4f1d324616a0137a5001c14c">https://github.com/tukaani-project/xz/commit/af071ef7702debef4f1d324616a0137a5001c14c</a> </span></div><div class="line" id="191422"><span class="nick" style="color:#8dd3c7"><a href="#191422" label="[19:14:22]">&lt;oriansj&gt;</a></span><span class="message">hard to say. sam_ also another reason why these sorts of attacks will only get easier and easier to do as we go forward; the deltas are too large and unless something is behaving badly no one is looking too deeply.</span></div><div class="line" id="191636"><span class="nick" style="color:#80b1d3"><a href="#191636" label="[19:16:36]">&lt;stikonas&gt;</a></span><span class="message">we also have more sanity tools though</span></div><div class="line" id="191648"><span class="nick" style="color:#80b1d3"><a href="#191648" label="[19:16:48]">&lt;stikonas&gt;</a></span><span class="message">so attackers have to work-around more stuff</span></div><div class="line" id="191757"><span class="nick" style="color:#6c3d55"><a href="#191757" label="[19:17:57]">&lt;sam_&gt;</a></span><span class="message">absolutely</span></div><div class="line" id="191810"><span class="nick" style="color:#6c3d55"><a href="#191810" label="[19:18:10]">&lt;sam_&gt;</a></span><span class="message">I have some reflections on what we could do better but it is not the time for that yet</span></div><div class="line" id="191817"><span class="nick" style="color:#6c3d55"><a href="#191817" label="[19:18:17]">&lt;sam_&gt;</a></span><span class="message">need to do other stuff first (like more auditing)</span></div><div class="line" id="191832"><span class="nick" style="color:#80b1d3"><a href="#191832" label="[19:18:32]">&lt;stikonas&gt;</a></span><span class="message">yeah, this person seems to have contributed to other projects</span></div><div class="line" id="192343"><span class="nick" style="color:#6b8072"><a href="#192343" label="[19:23:43]">&lt;ekaitz&gt;</a></span><span class="message">it's pretty wild what just happened</span></div><div class="line" id="193056"><span class="nick" style="color:#8dd3c7"><a href="#193056" label="[19:30:56]">&lt;oriansj&gt;</a></span><span class="message">well I was thinking guix with more explicit configuration, isn't that far off from a gentoo install. It just would be a huge breaking change and take 2-3 years before it could take off</span></div><div class="line" id="193534"><span class="nick" style="color:#8dd3c7"><a href="#193534" label="[19:35:34]">&lt;oriansj&gt;</a></span><span class="message">but I would love to read your ideas for improving the situation sam_</span></div><div class="line" id="194817"><span class="nick" style="color:#80b1d3"><a href="#194817" label="[19:48:17]">&lt;stikonas&gt;</a></span><span class="message">in any case the bug kind of comes from the blob</span></div><div class="line" id="194824"><span class="nick" style="color:#80b1d3"><a href="#194824" label="[19:48:24]">&lt;stikonas&gt;</a></span><span class="message">it's just not the program blob but test blob...</span></div><div class="line" id="203529"><span class="nick" style="color:#d9d9d9"><a href="#203529" label="[20:35:29]">&lt;luke-jr&gt;</a></span><span class="message">re stikonas's ref'd commit... I wonder if the goal was to get any snooping to self-dox to him faster than if they had to investigate more details first</span></div><div class="line" id="211314"><span class="nick" style="color:#bc80bd"><a href="#211314" label="[21:13:14]">&lt;bauen1&gt;</a></span><span class="message">holy moly didn't actually expect such an elaborate backdoor by xz</span></div><div class="line" id="211429"><span class="nick" style="color:#bc80bd"><a href="#211429" label="[21:14:29]">&lt;bauen1&gt;</a></span><span class="message">oh yes, I remember I had fun trying to backdoor stage0 ; Not sure how far it actually propagates, iirc it really doesn't get far</span></div><div class="line" id="211616"><span class="nick" style="color:#bc80bd"><a href="#211616" label="[21:16:16]">&lt;bauen1&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/tukaani-project/xz/commit/af071ef7702debef4f1d324616a0137a5001c14c">https://github.com/tukaani-project/xz/commit/af071ef7702debef4f1d324616a0137a5001c14c</a> </span></div><div class="line" id="211729"><span class="nick" style="color:#bc80bd"><a href="#211729" label="[21:17:29]">&lt;bauen1&gt;</a></span><span class="message">oh someone already posted thta, I'm not even sure what to make of that ...</span></div><div class="line" id="211839"><span class="nick" style="color:#bc80bd"><a href="#211839" label="[21:18:39]">&lt;bauen1&gt;</a></span><span class="message">oriansj: arguably it would be very interesting to take a whole bunch of projects, regenerate and verify the autoconf scripts from source (even if it's the source in the tarball itself) but iirc it's very hard to filter false positivies of &quot;doesn't reproduce&quot;</span></div><div class="line" id="220011"><span class="nick" style="color:#bc80bd"><a href="#220011" label="[22:00:11]">&lt;bauen1&gt;</a></span><span class="message"> <a rel="nofollow" href="https://news.ycombinator.com/item?id=39868483">https://news.ycombinator.com/item?id=39868483</a>  &lt;- A perfect summary really :(</span></div><div class="line" id="220312"><span class="nick" style="color:#6b8072"><a href="#220312" label="[22:03:12]">&lt;ekaitz&gt;</a></span><span class="message">bauen1: exactly</span></div><div class="line" id="220323"><span class="nick" style="color:#6b8072"><a href="#220323" label="[22:03:23]">&lt;ekaitz&gt;</a></span><span class="message">autotools</span></div><div class="line" id="220600"><span class="nick" style="color:#bc80bd"><a href="#220600" label="[22:06:00]">&lt;bauen1&gt;</a></span><span class="message">Maybe this will get debian (and other linux distros) to insist on reproducible source tarballs and start to consider autohell scripts as straight up binaries</span></div><div class="line" id="221034"><span class="nick" style="color:#bc80bd"><a href="#221034" label="[22:10:34]">&lt;bauen1&gt;</a></span><span class="message">it just keeps on giving: <a rel="nofollow" href="https://news.ycombinator.com/item?id=39868158">https://news.ycombinator.com/item?id=39868158</a>  &quot; The best part is everyone disabling security tests that started failing &quot;</span></div><div class="line" id="221124"><span class="nick" style="color:#bc80bd"><a href="#221124" label="[22:11:24]">&lt;bauen1&gt;</a></span><span class="message">oh and the amount of people running ldd to check if there's potentially something evil without realising, that ldd literally executes the binary to find out what libraries are used</span></div><div class="line" id="222823"><span class="nick" style="color:#3c5b35"><a href="#222823" label="[22:28:23]">&lt;clemens3&gt;</a></span><span class="message">best is, it is not clear how long back the guy had been the main maintainer in the background already</span></div><div class="line" id="222831"><span class="nick" style="color:#3c5b35"><a href="#222831" label="[22:28:31]">&lt;clemens3&gt;</a></span><span class="message">at lest from 2022, likely earlier</span></div><div class="line" id="223136"><span class="nick" style="color:#bc80bd"><a href="#223136" label="[22:31:36]">&lt;bauen1&gt;</a></span><span class="message">now this reminds me that coreutils or util-linux iirc doesn't have a git repository for debian, just tarballs</span></div><div class="line" id="223246"><span class="nick" style="color:#bc80bd"><a href="#223246" label="[22:32:46]">&lt;bauen1&gt;</a></span><span class="message">ah coreutils it is</span></div><div class="line" id="223339"><span class="nick" style="color:#bc80bd"><a href="#223339" label="[22:33:39]">&lt;bauen1&gt;</a></span><span class="message">at the time I was just annoyed, now I'm concerned</span></div><div class="line" id="223434"><span class="nick" style="color:#3c5b35"><a href="#223434" label="[22:34:34]">&lt;clemens3&gt;</a></span><span class="message">you shouldn't be concerned not just now</span></div><div class="line" id="223521"><span class="nick" style="color:#3c5b35"><a href="#223521" label="[22:35:21]">&lt;clemens3&gt;</a></span><span class="message">with hundred millions of lines of code in a normal distro, and being in this channel:)</span></div><div class="line" id="223644"><span class="nick" style="color:#bc80bd"><a href="#223644" label="[22:36:44]">&lt;bauen1&gt;</a></span><span class="message">clemens3: I mean, I literally wrote a backdoor for hex0 as a fun exercise, I was concerned back then too :(</span></div><div class="line" id="223657"><span class="nick" style="color:#3c5b35"><a href="#223657" label="[22:36:57]">&lt;clemens3&gt;</a></span><span class="message">yeah</span></div><div class="line" id="223710"><span class="nick" style="color:#3c5b35"><a href="#223710" label="[22:37:10]">&lt;clemens3&gt;</a></span><span class="message">how many thousand contributors</span></div><div class="line" id="223732"><span class="nick" style="color:#3c5b35"><a href="#223732" label="[22:37:32]">&lt;clemens3&gt;</a></span><span class="message">last time i checked systemd had 600'000 lines of code</span></div><div class="line" id="223743"><span class="nick" style="color:#3c5b35"><a href="#223743" label="[22:37:43]">&lt;clemens3&gt;</a></span><span class="message">i heard it is way way more now</span></div><div class="line" id="223802"><span class="nick" style="color:#3c5b35"><a href="#223802" label="[22:38:02]">&lt;clemens3&gt;</a></span><span class="message">a modern web browser will never ever be audited completely</span></div><div class="line" id="223839"><span class="nick" style="color:#bc80bd"><a href="#223839" label="[22:38:39]">&lt;bauen1&gt;</a></span><span class="message">tbh. I'm not too concerned about systemd compared to autotools generated scripts, it's just way too easy to inject some evil code in there and you most likely wouldn't need to discuise it either</span></div><div class="line" id="224339"><span class="nick" style="color:#3c5b35"><a href="#224339" label="[22:43:39]">&lt;clemens3&gt;</a></span><span class="message">i am concerned about the complete jungle</span></div><div class="line" id="224415"><span class="nick" style="color:#3c5b35"><a href="#224415" label="[22:44:15]">&lt;clemens3&gt;</a></span><span class="message">autotools, systemd, rustc cargo dynamic downloads</span></div><div class="line" id="224419"><span class="nick" style="color:#3c5b35"><a href="#224419" label="[22:44:19]">&lt;clemens3&gt;</a></span><span class="message">blah blah blah</span></div><div class="line" id="224431"><span class="nick" style="color:#3c5b35"><a href="#224431" label="[22:44:31]">&lt;clemens3&gt;</a></span><span class="message">linux kernel regressions every second update</span></div><div class="line" id="224603"><span class="nick" style="color:#6b8072"><a href="#224603" label="[22:46:03]">&lt;ekaitz&gt;</a></span><span class="message">i'd say the most dangerous projects are those small projects that nobody really maintains</span></div><div class="line" id="224624"><span class="nick" style="color:#3c5b35"><a href="#224624" label="[22:46:24]">&lt;clemens3&gt;</a></span><span class="message">it's all together</span></div><div class="line" id="224642"><span class="nick" style="color:#6b8072"><a href="#224642" label="[22:46:42]">&lt;ekaitz&gt;</a></span><span class="message">the maintainers are bored, they don't want to keep them and they give them away to anyone that comes and shows interest</span></div><div class="line" id="224646"><span class="nick" style="color:#6b8072"><a href="#224646" label="[22:46:46]">&lt;ekaitz&gt;</a></span><span class="message">they are an easy target</span></div><div class="line" id="224707"><span class="nick" style="color:#6b8072"><a href="#224707" label="[22:47:07]">&lt;ekaitz&gt;</a></span><span class="message">systemd, as long as there's a lot of people reading everything, that's better imho</span></div><div class="line" id="224710"><span class="nick" style="color:#6b8072"><a href="#224710" label="[22:47:10]">&lt;ekaitz&gt;</a></span><span class="message">still very bad</span></div><div class="line" id="224718"><span class="nick" style="color:#6b8072"><a href="#224718" label="[22:47:18]">&lt;ekaitz&gt;</a></span><span class="message">complexity is horrible</span></div><div class="line" id="224722"><span class="nick" style="color:#3c5b35"><a href="#224722" label="[22:47:22]">&lt;clemens3&gt;</a></span><span class="message">there no where lot's of people reading it</span></div><div class="line" id="224733"><span class="nick" style="color:#3c5b35"><a href="#224733" label="[22:47:33]">&lt;clemens3&gt;</a></span><span class="message">sometimes like this xz guy someone drills down</span></div><div class="line" id="224751"><span class="nick" style="color:#3c5b35"><a href="#224751" label="[22:47:51]">&lt;clemens3&gt;</a></span><span class="message">someone brievly looks over some contributions</span></div><div class="line" id="224802"><span class="nick" style="color:#3c5b35"><a href="#224802" label="[22:48:02]">&lt;clemens3&gt;</a></span><span class="message">but normally no one studies and audits all the stuff</span></div><div class="line" id="224805"><span class="nick" style="color:#3c5b35"><a href="#224805" label="[22:48:05]">&lt;clemens3&gt;</a></span><span class="message">is impossible</span></div><div class="line" id="224811"><span class="nick" style="color:#6b8072"><a href="#224811" label="[22:48:11]">&lt;ekaitz&gt;</a></span><span class="message">yes</span></div><div class="line" id="224827"><span class="nick" style="color:#3c5b35"><a href="#224827" label="[22:48:27]">&lt;clemens3&gt;</a></span><span class="message">someone writes the code, and most of it, no second eyes ever over it</span></div><div class="line" id="224829"><span class="nick" style="color:#6b8072"><a href="#224829" label="[22:48:29]">&lt;ekaitz&gt;</a></span><span class="message">depends on the project</span></div><div class="line" id="224841"><span class="nick" style="color:#3c5b35"><a href="#224841" label="[22:48:41]">&lt;clemens3&gt;</a></span><span class="message">how many times you read your own code over again</span></div><div class="line" id="224852"><span class="nick" style="color:#6b8072"><a href="#224852" label="[22:48:52]">&lt;ekaitz&gt;</a></span><span class="message">more than I'd like to</span></div><div class="line" id="224854"><span class="nick" style="color:#3c5b35"><a href="#224854" label="[22:48:54]">&lt;clemens3&gt;</a></span><span class="message">just when you debug or continue writing more features</span></div><div class="line" id="224854"><span class="nick" style="color:#6b8072"><a href="#224854" label="[22:48:54]">&lt;ekaitz&gt;</a></span><span class="message">haha</span></div><div class="line" id="224954"><span class="nick" style="color:#3c5b35"><a href="#224954" label="[22:49:54]">&lt;clemens3&gt;</a></span><span class="message">and then half the people really write horrible complex code just to toy around with something, learning and making it more complex</span></div><div class="line" id="225017"><span class="nick" style="color:#3c5b35"><a href="#225017" label="[22:50:17]">&lt;clemens3&gt;</a></span><span class="message">after all, that's why we are here, to play with stuff and learn something by doing</span></div><div class="line" id="225053"><span class="nick" style="color:#3c5b35"><a href="#225053" label="[22:50:53]">&lt;clemens3&gt;</a></span><span class="message">just that the alternative, closed commercial source, is so much worse:)</span></div><div class="line" id="225358"><span class="nick" style="color:#3c5b35"><a href="#225358" label="[22:53:58]">&lt;clemens3&gt;</a></span><span class="message">seems the guy contributed to some other fundamental projects too</span></div><div class="line" id="225403"><span class="nick" style="color:#3c5b35"><a href="#225403" label="[22:54:03]">&lt;clemens3&gt;</a></span><span class="message">zstd, llvm</span></div><div class="line" id="225608"><span class="nick" style="color:#6b8072"><a href="#225608" label="[22:56:08]">&lt;ekaitz&gt;</a></span><span class="message">i'm not afraid of the commits</span></div><div class="line" id="225633"><span class="nick" style="color:#6b8072"><a href="#225633" label="[22:56:33]">&lt;ekaitz&gt;</a></span><span class="message">that might be corrupt but we can fix</span></div><div class="line" id="225649"><span class="nick" style="color:#6b8072"><a href="#225649" label="[22:56:49]">&lt;ekaitz&gt;</a></span><span class="message">but changing releases and stuff like that... that's too much</span></div><div class="line" id="225702"><span class="nick" style="color:#6b8072"><a href="#225702" label="[22:57:02]">&lt;ekaitz&gt;</a></span><span class="message">it's way harder to follow</span></div><div class="line" id="231352"><span class="nick" style="color:#80b1d3"><a href="#231352" label="[23:13:52]">&lt;stikonas&gt;</a></span><span class="message">I wonder if this is just some random actor or state level actor</span></div><div class="line" id="231840"><span class="nick" style="color:#6b8072"><a href="#231840" label="[23:18:40]">&lt;ekaitz&gt;</a></span><span class="message">stikonas: a very long investment of 3 years in xz just to make this...</span></div><div class="line" id="232055"><span class="nick" style="color:#80b1d3"><a href="#232055" label="[23:20:55]">&lt;stikonas&gt;</a></span><span class="message">exactly...</span></div><div class="line" id="232511"><span class="nick" style="color:#af8d2f"><a href="#232511" label="[23:25:11]">&lt;xd1le&gt;</a></span><span class="message">honestly I wouldn't be surprised if other common tools have been backdoored like this</span></div><div class="line" id="232636"><span class="nick" style="color:#6b8072"><a href="#232636" label="[23:26:36]">&lt;ekaitz&gt;</a></span><span class="message">yeah...</span></div><div class="line" id="232654"><span class="nick" style="color:#af8d2f"><a href="#232654" label="[23:26:54]">&lt;xd1le&gt;</a></span><span class="message">is guix affected?</span></div><div class="line" id="232806"><span class="nick" style="color:#af8d2f"><a href="#232806" label="[23:28:06]">&lt;xd1le&gt;</a></span><span class="message">I hope this places more importance on reproducible builds</span></div><div class="line" id="232807"><span class="nick" style="color:#6b8072"><a href="#232807" label="[23:28:07]">&lt;ekaitz&gt;</a></span><span class="message">not yet</span></div><div class="line" id="232816"><span class="nick" style="color:#6b8072"><a href="#232816" label="[23:28:16]">&lt;ekaitz&gt;</a></span><span class="message">we use older xz</span></div><div class="line" id="232841"><span class="nick" style="color:#af8d2f"><a href="#232841" label="[23:28:41]">&lt;xd1le&gt;</a></span><span class="message">ok, thanks</span></div><div class="line" id="232857"><span class="nick" style="color:#6b8072"><a href="#232857" label="[23:28:57]">&lt;ekaitz&gt;</a></span><span class="message">but reproducible or not, if we all use their source... and the source release is broken...</span></div><div class="line" id="232908"><span class="nick" style="color:#6b8072"><a href="#232908" label="[23:29:08]">&lt;ekaitz&gt;</a></span><span class="message">we need to start using a git reference</span></div><div class="line" id="232923"><span class="nick" style="color:#af8d2f"><a href="#232923" label="[23:29:23]">&lt;xd1le&gt;</a></span><span class="message">yeah..</span></div><div class="line" id="235010"><span class="nick" style="color:#3c5b35"><a href="#235010" label="[23:50:10]">&lt;clemens3&gt;</a></span><span class="message">i would be surprised if there are no backdoors, i would say it is impossible that there are no (intentional) backdoors</span></div><div class="line" id="235025"><span class="nick" style="color:#3c5b35"><a href="#235025" label="[23:50:25]">&lt;clemens3&gt;</a></span><span class="message">not counting the zeroday bugs</span></div><br /></div></body></html>