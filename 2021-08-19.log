<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2021-08-19.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000802"><span class="nick" style="color:#389600"><a href="#000802" label="[00:08:02]">&lt;oriansj&gt;</a></span><span class="message">looks like mes-m2 needs to grow some documentation about how to get MesCC working on it.</span></div><div class="line" id="001348"><span class="nick" style="color:#389600"><a href="#001348" label="[00:13:48]">&lt;oriansj&gt;</a></span><span class="message">A minor bug report for live-bootstrap: <a rel="nofollow" href="https://paste.debian.net/1208162/">https://paste.debian.net/1208162/</a> </span></div><div class="line" id="001523"><span class="nick" style="color:#389600"><a href="#001523" label="[00:15:23]">&lt;oriansj&gt;</a></span><span class="message">from a fresh git clone --recursive and on commit f9ebb331680b4d4e2f16b5c401f143fdd62b0e0a</span></div><div class="line" id="001642"><span class="nick" style="color:#389600"><a href="#001642" label="[00:16:42]">&lt;oriansj&gt;</a></span><span class="message">using Python 3.7.3</span></div><div class="line" id="001648"><span class="nick" style="color:#389600"><a href="#001648" label="[00:16:48]">&lt;oriansj&gt;</a></span><span class="message">on Debian</span></div><div class="line" id="002242"><span class="nick" style="color:#389600"><a href="#002242" label="[00:22:42]">&lt;oriansj&gt;</a></span><span class="message">The solution I found was you need to install python3-distutils as well. So you might wish to add it to your README as a dependency along with python3</span></div><div class="line" id="005655"><span class="nick" style="color:#2e2a4a"><a href="#005655" label="[00:56:55]">&lt;stikonas_&gt;</a></span><span class="message">yeah, looks like it's not core python...</span></div><div class="line" id="005659"><span class="nick">***</span><span class="message notice">stikonas_ is now known as stikonas</span></div><div class="line" id="005711"><span class="nick" style="color:#6b8072"><a href="#005711" label="[00:57:11]">&lt;stikonas&gt;</a></span><span class="message">fossy: can you add it?</span></div><div class="line" id="005721"><span class="nick" style="color:#6b8072"><a href="#005721" label="[00:57:21]">&lt;stikonas&gt;</a></span><span class="message">you probably changed live-bootstrap a lot recently</span></div><div class="line" id="005725"><span class="nick" style="color:#6b8072"><a href="#005725" label="[00:57:25]">&lt;stikonas&gt;</a></span><span class="message">so less chance of a conflict</span></div><div class="line" id="010358"><span class="nick" style="color:#6b8072"><a href="#010358" label="[01:03:58]">&lt;stikonas&gt;</a></span><span class="message">hex2 for risc-v is also going not too bad but will have to wait until I find more time to finish it</span></div><div class="line" id="010428"><span class="nick" style="color:#6b8072"><a href="#010428" label="[01:04:28]">&lt;stikonas&gt;</a></span><span class="message">got most of the stuff working, just need to fix some issue with . (rest of the things are working)</span></div><div class="line" id="014449"><span class="nick" style="color:#80b1d3"><a href="#014449" label="[01:44:49]">&lt;fossy&gt;</a></span><span class="message">yes, I will add that, thanks oriansj</span></div><div class="line" id="040530"><span class="nick">***</span><span class="message notice">lithium.libera.chat sets mode: +o ChanServ</span></div><div class="line" id="122421"><span class="nick" style="color:#6d2462"><a href="#122421" label="[12:24:21]">&lt;pabs3&gt;</a></span><span class="message">bootstrappable came up in a debian-devel thread: <a rel="nofollow" href="https://lists.debian.org/msgid-search/87czqb9nro.fsf@latte.josefsson.org">https://lists.debian.org/msgid-search/87czqb9nro.fsf@latte.josefsson.org</a> </span></div><div class="line" id="122518"><span class="nick" style="color:#6d2462"><a href="#122518" label="[12:25:18]">&lt;pabs3&gt;</a></span><span class="message">I replied saying bootstrappable aims to ignore tarball cruft, so bootstrap just from VCS exports should work just as well as tarballs. I hope I am correct there</span></div><div class="line" id="123325"><span class="nick" style="color:#6b8072"><a href="#123325" label="[12:33:25]">&lt;stikonas&gt;</a></span><span class="message">pabs3: we had some of the same problems in live-bootstrap</span></div><div class="line" id="123341"><span class="nick" style="color:#6b8072"><a href="#123341" label="[12:33:41]">&lt;stikonas&gt;</a></span><span class="message">in particular gnulib</span></div><div class="line" id="123443"><span class="nick" style="color:#6b8072"><a href="#123443" label="[12:34:43]">&lt;stikonas&gt;</a></span><span class="message">we mostly used release tarballs</span></div><div class="line" id="123515"><span class="nick" style="color:#6b8072"><a href="#123515" label="[12:35:15]">&lt;stikonas&gt;</a></span><span class="message">what we ended up doing is to extract info (command to import gnulib) from released tarball and then re-import gnulib into released tarball. This was not always possible, so for some projects we started with VCS snapshot</span></div><div class="line" id="123528"><span class="nick" style="color:#6b8072"><a href="#123528" label="[12:35:28]">&lt;stikonas&gt;</a></span><span class="message">in principle we could have used vcs snapshot for everything</span></div><div class="line" id="123550"><span class="nick" style="color:#6b8072"><a href="#123550" label="[12:35:50]">&lt;stikonas&gt;</a></span><span class="message">regarding tools, there are no extra dependencies because we already rebuilt all pre-gen files</span></div><div class="line" id="123558"><span class="nick" style="color:#6b8072"><a href="#123558" label="[12:35:58]">&lt;stikonas&gt;</a></span><span class="message">(but that's not what distros usually do)</span></div><div class="line" id="123943"><span class="nick" style="color:#6d2462"><a href="#123943" label="[12:39:43]">&lt;pabs3&gt;</a></span><span class="message">Debian aims to at least, we autoreconf by default. of course using crufty release tarballs papers over various issues, like not depending on autoconf-archive</span></div><div class="line" id="123950"><span class="nick" style="color:#6b8072"><a href="#123950" label="[12:39:50]">&lt;stikonas&gt;</a></span><span class="message">so basically live-bootstrap is trying to the following 1) No pre-gen files used (kernel might end up exception but I think we'll still remove most of the blobs if we use linux-libre) 2) Try to use release tarballs and use it if that works 3) Use VCS snapshot otherwise</span></div><div class="line" id="124010"><span class="nick" style="color:#6b8072"><a href="#124010" label="[12:40:10]">&lt;stikonas&gt;</a></span><span class="message">pabs3: yeah, autoreconf is big part of initial preparation</span></div><div class="line" id="124032"><span class="nick" style="color:#6d2462"><a href="#124032" label="[12:40:32]">&lt;pabs3&gt;</a></span><span class="message">what do you do about embedded code copies like m4 from autoconf-archive or $whoknowswhere ?</span></div><div class="line" id="124119"><span class="nick" style="color:#6d2462"><a href="#124119" label="[12:41:19]">&lt;pabs3&gt;</a></span><span class="message">(the thread above is me trying to get Debian to switch away from crates.io/PyPI/Rubygems/etc packages to VCS exports)</span></div><div class="line" id="124123"><span class="nick" style="color:#6b8072"><a href="#124123" label="[12:41:23]">&lt;stikonas&gt;</a></span><span class="message">nothing, embedded copies are used in live-bootstrap as long as it's human written</span></div><div class="line" id="124145"><span class="nick" style="color:#6b8072"><a href="#124145" label="[12:41:45]">&lt;stikonas&gt;</a></span><span class="message">another cleanup thing we often do is remove bison/flex generated files</span></div><div class="line" id="124158"><span class="nick" style="color:#6b8072"><a href="#124158" label="[12:41:58]">&lt;stikonas&gt;</a></span><span class="message">removing info files too (those are less imporant I guess but we do that too)</span></div><div class="line" id="124227"><span class="nick" style="color:#6d2462"><a href="#124227" label="[12:42:27]">&lt;pabs3&gt;</a></span><span class="message">I see, so lots of things might break if you went with VCS tarballs, as some upstreams don't do embedding in their VCS but do in their tarballs</span></div><div class="line" id="124248"><span class="nick" style="color:#6b8072"><a href="#124248" label="[12:42:48]">&lt;stikonas&gt;</a></span><span class="message">some don't do it at all</span></div><div class="line" id="124252"><span class="nick" style="color:#6b8072"><a href="#124252" label="[12:42:52]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/blob/master/sysa/libunistring-0.9.10/libunistring-0.9.10.sh">https://github.com/fosslinux/live-bootstrap/blob/master/sysa/libunistring-0.9.10/libunistring-0.9.10.sh</a> </span></div><div class="line" id="124304"><span class="nick" style="color:#6b8072"><a href="#124304" label="[12:43:04]">&lt;stikonas&gt;</a></span><span class="message"># libunistring does not specify which gnulib snapshot was used, pick a random one that works</span></div><div class="line" id="124322"><span class="nick" style="color:#6b8072"><a href="#124322" label="[12:43:22]">&lt;stikonas&gt;</a></span><span class="message">there was no info in either tarball or vcs</span></div><div class="line" id="124448"><span class="nick" style="color:#6d2462"><a href="#124448" label="[12:44:48]">&lt;pabs3&gt;</a></span><span class="message">whee</span></div><div class="line" id="124458"><span class="nick" style="color:#6d2462"><a href="#124458" label="[12:44:58]">&lt;pabs3&gt;</a></span><span class="message">how much churn is there in gnulib?</span></div><div class="line" id="124524"><span class="nick" style="color:#6b8072"><a href="#124524" label="[12:45:24]">&lt;stikonas&gt;</a></span><span class="message">I'm not too familiar with gnulib, but mots gnu packages use it</span></div><div class="line" id="124614"><span class="nick" style="color:#6b8072"><a href="#124614" label="[12:46:14]">&lt;stikonas&gt;</a></span><span class="message">the main reason why we reimport gnulib</span></div><div class="line" id="124632"><span class="nick" style="color:#6b8072"><a href="#124632" label="[12:46:32]">&lt;stikonas&gt;</a></span><span class="message">is that gnulib import process generates Makefile.am file</span></div><div class="line" id="124657"><span class="nick" style="color:#6b8072"><a href="#124657" label="[12:46:57]">&lt;stikonas&gt;</a></span><span class="message">which is a fairly simple file, perfectly human readable</span></div><div class="line" id="124703"><span class="nick" style="color:#6b8072"><a href="#124703" label="[12:47:03]">&lt;stikonas&gt;</a></span><span class="message">although it is pre-built</span></div><div class="line" id="124730"><span class="nick" style="color:#6b8072"><a href="#124730" label="[12:47:30]">&lt;stikonas&gt;</a></span><span class="message">so to reimport gnulib process was basically</span></div><div class="line" id="124736"><span class="nick" style="color:#6b8072"><a href="#124736" label="[12:47:36]">&lt;stikonas&gt;</a></span><span class="message">get release tarball</span></div><div class="line" id="124820"><span class="nick" style="color:#6b8072"><a href="#124820" label="[12:48:20]">&lt;stikonas&gt;</a></span><span class="message">check if auto-generated Makefile.am file has a comment with command used to import gnulib</span></div><div class="line" id="124859"><span class="nick" style="color:#6b8072"><a href="#124859" label="[12:48:59]">&lt;stikonas&gt;</a></span><span class="message">if yes, then put that command into a file like <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/blob/master/sysa/findutils-4.2.33/import-gnulib.sh">https://github.com/fosslinux/live-bootstrap/blob/master/sysa/findutils-4.2.33/import-gnulib.sh</a> </span></div><div class="line" id="124913"><span class="nick" style="color:#6b8072"><a href="#124913" label="[12:49:13]">&lt;stikonas&gt;</a></span><span class="message">if there is no comment, try to figure out command via other means</span></div><div class="line" id="124941"><span class="nick" style="color:#6b8072"><a href="#124941" label="[12:49:41]">&lt;stikonas&gt;</a></span><span class="message">it's former in maybe 90% of cases</span></div><div class="line" id="133145"><span class="nick" style="color:#389600"><a href="#133145" label="[13:31:45]">&lt;oriansj&gt;</a></span><span class="message">pabs3: well VCS are a good match for rolling releases of software. It isn't a good match for &quot;this shit is touchy as hell software&quot;. In regards to bootstrappable builds; we may distribute things like stage0-posix and live-bootstrap using git but honestly we stick largely with tars as untar.c is much easier to bootstrap than git clone.</span></div><div class="line" id="133547"><span class="nick" style="color:#6d2462"><a href="#133547" label="[13:35:47]">&lt;pabs3&gt;</a></span><span class="message">yeah, in the context of the thread I'm talking about `git archive` tarballs, rather than git clone</span></div><div class="line" id="133614"><span class="nick" style="color:#6d2462"><a href="#133614" label="[13:36:14]">&lt;pabs3&gt;</a></span><span class="message">one can use those along with the git tags</span></div><div class="line" id="134728"><span class="nick" style="color:#80b1d3"><a href="#134728" label="[13:47:28]">&lt;fossy&gt;</a></span><span class="message">stikonas: as far as i can tell currently in my branch there is no pregen files. but i could have missed something</span></div><div class="line" id="134740"><span class="nick" style="color:#80b1d3"><a href="#134740" label="[13:47:40]">&lt;fossy&gt;</a></span><span class="message">what a stupid checksum mismatch between chroot and qemu</span></div><div class="line" id="134747"><span class="nick" style="color:#80b1d3"><a href="#134747" label="[13:47:47]">&lt;fossy&gt;</a></span><span class="message">some random line number dwarf information</span></div><div class="line" id="134755"><span class="nick" style="color:#80b1d3"><a href="#134755" label="[13:47:55]">&lt;fossy&gt;</a></span><span class="message">generated internally in gcc</span></div><div class="line" id="134800"><span class="nick" style="color:#80b1d3"><a href="#134800" label="[13:48:00]">&lt;fossy&gt;</a></span><span class="message">i think i will just disable debugging lol</span></div><div class="line" id="134804"><span class="nick" style="color:#80b1d3"><a href="#134804" label="[13:48:04]">&lt;fossy&gt;</a></span><span class="message">for pkg-config</span></div><div class="line" id="143744"><span class="nick" style="color:#6b8072"><a href="#143744" label="[14:37:44]">&lt;stikonas&gt;</a></span><span class="message">is just pkg-config?</span></div><div class="line" id="143938"><span class="nick" style="color:#6b8072"><a href="#143938" label="[14:39:38]">&lt;stikonas&gt;</a></span><span class="message">maybe we should switch away to some other implementation?</span></div><div class="line" id="144003"><span class="nick" style="color:#6b8072"><a href="#144003" label="[14:40:03]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://git.sr.ht/~kaniini/pkgconf">https://git.sr.ht/~kaniini/pkgconf</a>  might be better</span></div><div class="line" id="144012"><span class="nick" style="color:#6b8072"><a href="#144012" label="[14:40:12]">&lt;stikonas&gt;</a></span><span class="message">it's just ANSI C89</span></div><div class="line" id="144019"><span class="nick" style="color:#6b8072"><a href="#144019" label="[14:40:19]">&lt;stikonas&gt;</a></span><span class="message">no glib nonsense</span></div><br /></div></body></html>