<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2023-11-19.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="025035"><span class="nick" style="color:#389600"><a href="#025035" label="[02:50:35]">&lt;stikonas&gt;</a></span><span class="message">fossy: <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/333">https://github.com/fosslinux/live-bootstrap/pull/333</a> </span></div><div class="line" id="025045"><span class="nick" style="color:#389600"><a href="#025045" label="[02:50:45]">&lt;stikonas&gt;</a></span><span class="message">(cc ekaitz)</span></div><div class="line" id="025153"><span class="nick" style="color:#8dd3c7"><a href="#025153" label="[02:51:53]">&lt;ekaitz&gt;</a></span><span class="message">lol go to sleep</span></div><div class="line" id="025200"><span class="nick" style="color:#8dd3c7"><a href="#025200" label="[02:52:00]">&lt;ekaitz&gt;</a></span><span class="message">stikonas: (y)</span></div><div class="line" id="025212"><span class="nick" style="color:#389600"><a href="#025212" label="[02:52:12]">&lt;stikonas&gt;</a></span><span class="message">yes, going now</span></div><div class="line" id="025219"><span class="nick" style="color:#389600"><a href="#025219" label="[02:52:19]">&lt;stikonas&gt;</a></span><span class="message">though it's later for you...</span></div><div class="line" id="025245"><span class="nick" style="color:#8dd3c7"><a href="#025245" label="[02:52:45]">&lt;ekaitz&gt;</a></span><span class="message">i'm reading a very interesting book</span></div><div class="line" id="025257"><span class="nick" style="color:#8dd3c7"><a href="#025257" label="[02:52:57]">&lt;ekaitz&gt;</a></span><span class="message">(crafting interpreters)</span></div><div class="line" id="025258"><span class="nick" style="color:#389600"><a href="#025258" label="[02:52:58]">&lt;stikonas&gt;</a></span><span class="message">kicked off riscv64 native run too on this commit</span></div><div class="line" id="025309"><span class="nick" style="color:#389600"><a href="#025309" label="[02:53:09]">&lt;stikonas&gt;</a></span><span class="message">but it will take another week...</span></div><div class="line" id="025355"><span class="nick" style="color:#8dd3c7"><a href="#025355" label="[02:53:55]">&lt;ekaitz&gt;</a></span><span class="message">alright</span></div><div class="line" id="025413"><span class="nick" style="color:#8dd3c7"><a href="#025413" label="[02:54:13]">&lt;ekaitz&gt;</a></span><span class="message">we'll see</span></div><div class="line" id="025425"><span class="nick" style="color:#8dd3c7"><a href="#025425" label="[02:54:25]">&lt;ekaitz&gt;</a></span><span class="message">we need to plan what to do next</span></div><div class="line" id="034411"><span class="nick" style="color:#2e2a4a"><a href="#034411" label="[03:44:11]">&lt;Googulator&gt;</a></span><span class="message">Mikaku: looks like Fiwix has a small bug related to handling disk full errors</span></div><div class="line" id="034432"><span class="nick" style="color:#2e2a4a"><a href="#034432" label="[03:44:32]">&lt;Googulator&gt;</a></span><span class="message">...</span></div><div class="line" id="034432"><span class="nick" style="color:#2e2a4a"><a href="#034432" label="[03:44:32]">&lt;Googulator&gt;</a></span><span class="message">interation 203</span></div><div class="line" id="034433"><span class="nick" style="color:#2e2a4a"><a href="#034433" label="[03:44:33]">&lt;Googulator&gt;</a></span><span class="message">iteration done</span></div><div class="line" id="034433"><span class="nick" style="color:#2e2a4a"><a href="#034433" label="[03:44:33]">&lt;Googulator&gt;</a></span><span class="message">interation 204</span></div><div class="line" id="034434"><span class="nick" style="color:#2e2a4a"><a href="#034434" label="[03:44:34]">&lt;Googulator&gt;</a></span><span class="message">iteration done</span></div><div class="line" id="034434"><span class="nick" style="color:#2e2a4a"><a href="#034434" label="[03:44:34]">&lt;Googulator&gt;</a></span><span class="message">interation 205</span></div><div class="line" id="034435"><span class="nick" style="color:#2e2a4a"><a href="#034435" label="[03:44:35]">&lt;Googulator&gt;</a></span><span class="message">ramdisk_read(): block 2621312 is beyond the size of the ramdisk.</span></div><div class="line" id="034435"><span class="nick" style="color:#2e2a4a"><a href="#034435" label="[03:44:35]">&lt;Googulator&gt;</a></span><span class="message">WARNING: bread(): returning NULL!</span></div><div class="line" id="034436"><span class="nick" style="color:#2e2a4a"><a href="#034436" label="[03:44:36]">&lt;Googulator&gt;</a></span><span class="message">WARNING: ext2_bfree(): invalid block 2621312!</span></div><div class="line" id="034436"><span class="nick" style="color:#2e2a4a"><a href="#034436" label="[03:44:36]">&lt;Googulator&gt;</a></span><span class="message">cat: write error: I/O error</span></div><div class="line" id="034450"><span class="nick" style="color:#2e2a4a"><a href="#034450" label="[03:44:50]">&lt;Googulator&gt;</a></span><span class="message">afterwards, it recovers and actually reports &quot;No space left on device&quot;</span></div><div class="line" id="034510"><span class="nick" style="color:#2e2a4a"><a href="#034510" label="[03:45:10]">&lt;Googulator&gt;</a></span><span class="message">But the first write that would overrun the disk yields I/O error instead</span></div><div class="line" id="035043"><span class="nick" style="color:#2e2a4a"><a href="#035043" label="[03:50:43]">&lt;Googulator&gt;</a></span><span class="message">oriansj: yes, xz would provide even more compression... but good luck implementing LZMA decompression in any kind of trivial/bootstrap-friendly language</span></div><div class="line" id="035106"><span class="nick" style="color:#2e2a4a"><a href="#035106" label="[03:51:06]">&lt;Googulator&gt;</a></span><span class="message">LZMA is notoriously difficult to bootstrap</span></div><div class="line" id="102128"><span class="nick" style="color:#6b8072"><a href="#102128" label="[10:21:28]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; Googulator: Simple C is bootstrap friendly, just need to simplify it for M2-Planet</span></div><div class="line" id="104651"><span class="nick" style="color:#80b1d3"><a href="#104651" label="[10:46:51]">&lt;sam_&gt;</a></span><span class="message">yeah the notoriously difficult thing sounds very wrong to me</span></div><div class="line" id="125432"><span class="nick" style="color:#6d2462"><a href="#125432" label="[12:54:32]">&lt;oriansj&gt;</a></span><span class="message">Googulator: notoriously difficult to bootstrap, sounds like a fun to solve problem.</span></div><div class="line" id="125541"><span class="nick" style="color:#6d2462"><a href="#125541" label="[12:55:41]">&lt;oriansj&gt;</a></span><span class="message">and we certainly already solved a good few of those together.</span></div><div class="line" id="125708"><span class="nick" style="color:#80b1d3"><a href="#125708" label="[12:57:08]">&lt;sam_&gt;</a></span><span class="message">:D</span></div><div class="line" id="132253"><span class="nick" style="color:#389600"><a href="#132253" label="[13:22:53]">&lt;stikonas&gt;</a></span><span class="message">yeah, I don't think xz is that hard to bootstrap. I've heard that too, but e.g. in live-bootstrap (though much later) we had no issue bootstrapping xz</span></div><div class="line" id="133931"><span class="nick" style="color:#389600"><a href="#133931" label="[13:39:31]">&lt;stikonas&gt;</a></span><span class="message">oriansj: O</span></div><div class="line" id="133951"><span class="nick" style="color:#389600"><a href="#133951" label="[13:39:51]">&lt;stikonas&gt;</a></span><span class="message">oriansj: I've now removed VPATH from M2-Planet makefiles</span></div><div class="line" id="134005"><span class="nick" style="color:#389600"><a href="#134005" label="[13:40:05]">&lt;stikonas&gt;</a></span><span class="message">might be good if you can review them</span></div><div class="line" id="134013"><span class="nick" style="color:#389600"><a href="#134013" label="[13:40:13]">&lt;stikonas&gt;</a></span><span class="message">but I think now they work better</span></div><div class="line" id="134029"><span class="nick" style="color:#389600"><a href="#134029" label="[13:40:29]">&lt;stikonas&gt;</a></span><span class="message">e.g. make clean all test DESTDIR=xyz install now works</span></div><div class="line" id="135229"><span class="nick" style="color:#6d2462"><a href="#135229" label="[13:52:29]">&lt;oriansj&gt;</a></span><span class="message">thank you stikonas</span></div><div class="line" id="142103"><span class="nick" style="color:#6d2462"><a href="#142103" label="[14:21:03]">&lt;oriansj&gt;</a></span><span class="message">found two missing details but fixed those but great work</span></div><div class="line" id="142403"><span class="nick" style="color:#389600"><a href="#142403" label="[14:24:03]">&lt;stikonas&gt;</a></span><span class="message">oh yes, those are good to have too</span></div><div class="line" id="143852"><span class="nick" style="color:#6d2462"><a href="#143852" label="[14:38:52]">&lt;oriansj&gt;</a></span><span class="message">and I am guessing probably something similiar needs to be done to mescc-tools</span></div><div class="line" id="144200"><span class="nick" style="color:#389600"><a href="#144200" label="[14:42:00]">&lt;stikonas&gt;</a></span><span class="message">yes, that also fails...</span></div><div class="line" id="144210"><span class="nick" style="color:#389600"><a href="#144210" label="[14:42:10]">&lt;stikonas&gt;</a></span><span class="message">not sure why vagrantc didn't complain about it</span></div><div class="line" id="144222"><span class="nick" style="color:#389600"><a href="#144222" label="[14:42:22]">&lt;stikonas&gt;</a></span><span class="message">probably he had already separated make and make install targets there</span></div><div class="line" id="144519"><span class="nick" style="color:#389600"><a href="#144519" label="[14:45:19]">&lt;stikonas&gt;</a></span><span class="message">hmm, I'm getting some linker error if I make the same change</span></div><div class="line" id="144532"><span class="nick" style="color:#389600"><a href="#144532" label="[14:45:32]">&lt;stikonas&gt;</a></span><span class="message">gcc  -D_GNU_SOURCE -std=c99 -ggdb -fno-common    hex2.c bin/hex2   -o hex2</span></div><div class="line" id="144533"><span class="nick" style="color:#389600"><a href="#144533" label="[14:45:33]">&lt;stikonas&gt;</a></span><span class="message">/usr/lib/gcc/x86_64-pc-linux-gnu/13/../../../../x86_64-pc-linux-gnu/bin/ld: bin/hex2: stdout: invalid version 3 (max 0)</span></div><div class="line" id="144649"><span class="nick" style="color:#6d2462"><a href="#144649" label="[14:46:49]">&lt;oriansj&gt;</a></span><span class="message">well you made a typo</span></div><div class="line" id="144705"><span class="nick" style="color:#6d2462"><a href="#144705" label="[14:47:05]">&lt;oriansj&gt;</a></span><span class="message">the bin/hex2 comes after the -o</span></div><div class="line" id="144727"><span class="nick" style="color:#6d2462"><a href="#144727" label="[14:47:27]">&lt;oriansj&gt;</a></span><span class="message">gcc was trying to link the binary with itself</span></div><div class="line" id="144853"><span class="nick" style="color:#389600"><a href="#144853" label="[14:48:53]">&lt;stikonas&gt;</a></span><span class="message">hmm, I still can't see the typo :(</span></div><div class="line" id="144857"><span class="nick" style="color:#389600"><a href="#144857" label="[14:48:57]">&lt;stikonas&gt;</a></span><span class="message">this is my word-diff: <a rel="nofollow" href="https://paste.debian.net/1298578/">https://paste.debian.net/1298578/</a> </span></div><div class="line" id="144950"><span class="nick" style="color:#389600"><a href="#144950" label="[14:49:50]">&lt;stikonas&gt;</a></span><span class="message">oh, it actually compiled it and then tried to rebuild it again...</span></div><div class="line" id="144955"><span class="nick" style="color:#389600"><a href="#144955" label="[14:49:55]">&lt;stikonas&gt;</a></span><span class="message">something is wrong elsewhere</span></div><div class="line" id="145336"><span class="nick" style="color:#389600"><a href="#145336" label="[14:53:36]">&lt;stikonas&gt;</a></span><span class="message">oriansj: we have another bug</span></div><div class="line" id="145354"><span class="nick" style="color:#389600"><a href="#145354" label="[14:53:54]">&lt;stikonas&gt;</a></span><span class="message">including in M2-Planet makefile</span></div><div class="line" id="145414"><span class="nick" style="color:#389600"><a href="#145414" label="[14:54:14]">&lt;stikonas&gt;</a></span><span class="message">in your last commit, where you added M2-Planet: target, we still need to add it to .PHONY</span></div><div class="line" id="145645"><span class="nick" style="color:#389600"><a href="#145645" label="[14:56:45]">&lt;stikonas&gt;</a></span><span class="message">I've now pushed mescc-tools commit</span></div><div class="line" id="145849"><span class="nick" style="color:#389600"><a href="#145849" label="[14:58:49]">&lt;stikonas&gt;</a></span><span class="message">ok, pushed fix to M2-Planet too</span></div><div class="line" id="150738"><span class="nick" style="color:#6d2462"><a href="#150738" label="[15:07:38]">&lt;oriansj&gt;</a></span><span class="message">thank you for catching that</span></div><div class="line" id="152543"><span class="nick" style="color:#389600"><a href="#152543" label="[15:25:43]">&lt;stikonas&gt;</a></span><span class="message">hmm, I should also fix kaem makefile...</span></div><div class="line" id="152734"><span class="nick" style="color:#389600"><a href="#152734" label="[15:27:34]">&lt;stikonas&gt;</a></span><span class="message">ok, pushed</span></div><div class="line" id="152804"><span class="nick" style="color:#389600"><a href="#152804" label="[15:28:04]">&lt;stikonas&gt;</a></span><span class="message">and mescc-tools-extra has the same issue...</span></div><div class="line" id="175227"><span class="nick" style="color:#234e69"><a href="#175227" label="[17:52:27]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: I've been testing 'cat /dev/zero &gt; /dev/ram0' and I get 'cat: write error: No space left on device' all the time</span></div><div class="line" id="175316"><span class="nick" style="color:#234e69"><a href="#175316" label="[17:53:16]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: can you tell me the exact command I need to reproduce your scenario?</span></div><div class="line" id="183617"><span class="nick" style="color:#6c3d55"><a href="#183617" label="[18:36:17]">&lt;efraim&gt;</a></span><span class="message">mescc-tools-1.5 and m2-planet-1.11 both build on powerpc-linux</span></div><div class="line" id="185226"><span class="nick" style="color:#2e2a4a"><a href="#185226" label="[18:52:26]">&lt;Googulator&gt;</a></span><span class="message">Mikaku: it's reproducible with this patch: <a rel="nofollow" href="https://gist.github.com/Googulator/ae3fa19bcbe281b482f7fd2949054947">https://gist.github.com/Googulator/ae3fa19bcbe281b482f7fd2949054947</a>  on top of <a rel="nofollow" href="https://github.com/Googulator/live-bootstrap/tree/playground">https://github.com/Googulator/live-bootstrap/tree/playground</a> </span></div><div class="line" id="185312"><span class="nick" style="color:#2e2a4a"><a href="#185312" label="[18:53:12]">&lt;Googulator&gt;</a></span><span class="message">    ls -l /boot/fiwix</span></div><div class="line" id="185313"><span class="nick" style="color:#2e2a4a"><a href="#185313" label="[18:53:13]">&lt;Googulator&gt;</a></span><span class="message">    for i in $(seq 1 1000)</span></div><div class="line" id="185313"><span class="nick" style="color:#2e2a4a"><a href="#185313" label="[18:53:13]">&lt;Googulator&gt;</a></span><span class="message">    do</span></div><div class="line" id="185314"><span class="nick" style="color:#2e2a4a"><a href="#185314" label="[18:53:14]">&lt;Googulator&gt;</a></span><span class="message">        echo &quot;interation $i&quot;</span></div><div class="line" id="185314"><span class="nick" style="color:#2e2a4a"><a href="#185314" label="[18:53:14]">&lt;Googulator&gt;</a></span><span class="message">        cat /boot/fiwix &gt;&gt; /boot/wifix || break</span></div><div class="line" id="185315"><span class="nick" style="color:#2e2a4a"><a href="#185315" label="[18:53:15]">&lt;Googulator&gt;</a></span><span class="message">        echo &quot;iteration done&quot;</span></div><div class="line" id="185315"><span class="nick" style="color:#2e2a4a"><a href="#185315" label="[18:53:15]">&lt;Googulator&gt;</a></span><span class="message">    done</span></div><div class="line" id="185316"><span class="nick" style="color:#2e2a4a"><a href="#185316" label="[18:53:16]">&lt;Googulator&gt;</a></span><span class="message">    ls -l /boot/wifix</span></div><div class="line" id="185319"><span class="nick" style="color:#2e2a4a"><a href="#185319" label="[18:53:19]">&lt;Googulator&gt;</a></span><span class="message">this is the relevant code that triggers it</span></div><div class="line" id="185449"><span class="nick" style="color:#2e2a4a"><a href="#185449" label="[18:54:49]">&lt;Googulator&gt;</a></span><span class="message"> <a rel="nofollow" href="https://gist.github.com/Googulator/ae3fa19bcbe281b482f7fd2949054947/ed20e70f95b91b4653e911beeb33b71e950252c2">https://gist.github.com/Googulator/ae3fa19bcbe281b482f7fd2949054947/ed20e70f95b91b4653e911beeb33b71e950252c2</a>  this patch actually</span></div><div class="line" id="185501"><span class="nick" style="color:#2e2a4a"><a href="#185501" label="[18:55:01]">&lt;Googulator&gt;</a></span><span class="message">the one I first linked already had this code removed, since it was only something I was testing</span></div><div class="line" id="185518"><span class="nick" style="color:#2e2a4a"><a href="#185518" label="[18:55:18]">&lt;Googulator&gt;</a></span><span class="message">(to see how much space is left over in the initrd after the Linux build)</span></div><div class="line" id="185617"><span class="nick" style="color:#2e2a4a"><a href="#185617" label="[18:56:17]">&lt;Googulator&gt;</a></span><span class="message">of course, it could be related to some of the live-bootstrap-specific patches</span></div><div class="line" id="190845"><span class="nick" style="color:#234e69"><a href="#190845" label="[19:08:45]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: I've just tested: ' mkfs.ext2 -m 0 -r 0 /dev/ram0 ; mount -t ext2 /dev/ram0 /mnt/disk ; while true ; do cat /boot/fiwix &gt;&gt; /mnt/disk/fiwix || break ; done' and I get the same 'cat: write error: No space left on device' all the time</span></div><div class="line" id="191156"><span class="nick" style="color:#234e69"><a href="#191156" label="[19:11:56]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: you might want to test it in the latest FiwixOS 3.3 disk image &lt;<a rel="nofollow" href="https://www.fiwix.org/FiwixOS-3.3-i386.raw.gz">https://www.fiwix.org/FiwixOS-3.3-i386.raw.gz</a>&gt; </span></div><br /></div></body></html>