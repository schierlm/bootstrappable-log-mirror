<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2020-12-26.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="003430"><span class="nick" style="color:#8dd3c7"><a href="#003430" label="[00:34:30]">&lt;OriansJ&gt;</a></span><span class="message">pder: mescc-tools-seed includes testing the checksusums of the resulting binaries if you do make clean test-x86 or make clean test-amd64 or make clean test-aarch64</span></div><div class="line" id="003616"><span class="nick" style="color:#8dd3c7"><a href="#003616" label="[00:36:16]">&lt;OriansJ&gt;</a></span><span class="message">the checksums are in the *.answers files and the SHA256SUM files if you want to ensure each step during the bootstrap is perfect</span></div><div class="line" id="005034"><span class="nick" style="color:#8dd3c7"><a href="#005034" label="[00:50:34]">&lt;OriansJ&gt;</a></span><span class="message">siraben: your ix.io link indicated that bin/pack_blobs is not a valid binary. So let us check the basics: is the checksum of the file 89b6bb845ae33fa30b5ee7edd2bdb543509237d2753c0270976428442ef4329a ? are the file permisssions -rwxr-x--- (0750) ?</span></div><div class="line" id="005217"><span class="nick" style="color:#8dd3c7"><a href="#005217" label="[00:52:17]">&lt;OriansJ&gt;</a></span><span class="message">if all of those are correct: is your system reading the ELF header correctly? <a rel="nofollow" href="https://paste.debian.net/1178339/">https://paste.debian.net/1178339/</a> </span></div><div class="line" id="005939"><span class="nick" style="color:#8dd3c7"><a href="#005939" label="[00:59:39]">&lt;OriansJ&gt;</a></span><span class="message">if the checksum is wrong, we can figure at what step it went sideways and hunt that down. if the permissions are wrong we can dig into why hex2 isn't setting the correct permissions by gdb and break FUNCTION_chmod and 488 = 750 in octal so the register should be correct</span></div><div class="line" id="010032"><span class="nick" style="color:#8dd3c7"><a href="#010032" label="[01:00:32]">&lt;OriansJ&gt;</a></span><span class="message">If the host doesn't recognize the ELF header then the problem is with the host not the pieces in question.</span></div><div class="line" id="010754"><span class="nick" style="color:#8dd3c7"><a href="#010754" label="[01:07:54]">&lt;OriansJ&gt;</a></span><span class="message">in fact every binary is 100% deterministic and should be identical regardless of host: <a rel="nofollow" href="https://paste.debian.net/1178340/">https://paste.debian.net/1178340/</a> </span></div><div class="line" id="021737"><span class="nick" style="color:#2e2a4a"><a href="#021737" label="[02:17:37]">&lt;siraben&gt;</a></span><span class="message">just saw your pings (overnight for me), I'll look now</span></div><div class="line" id="021835"><span class="nick" style="color:#2e2a4a"><a href="#021835" label="[02:18:35]">&lt;siraben&gt;</a></span><span class="message">pder: <a rel="nofollow" href="http://ix.io/2Jyw">http://ix.io/2Jyw</a> </span></div><div class="line" id="021901"><span class="nick" style="color:#2e2a4a"><a href="#021901" label="[02:19:01]">&lt;siraben&gt;</a></span><span class="message">OriansJ: 89b6bb845ae33fa30b5ee7edd2bdb543509237d2753c0270976428442ef4329a  bin/pack_blobs</span></div><div class="line" id="022323"><span class="nick" style="color:#2e2a4a"><a href="#022323" label="[02:23:23]">&lt;siraben&gt;</a></span><span class="message">pder: oops sorry, I was checked out on the wrong mescc-tools-seed commit, here it is on latest; <a rel="nofollow" href="http://ix.io/2JyC">http://ix.io/2JyC</a> </span></div><div class="line" id="022400"><span class="nick" style="color:#2e2a4a"><a href="#022400" label="[02:24:00]">&lt;siraben&gt;</a></span><span class="message">so they all match exactly</span></div><div class="line" id="022636"><span class="nick" style="color:#2e2a4a"><a href="#022636" label="[02:26:36]">&lt;siraben&gt;</a></span><span class="message">let's also make sure we're talking about building blynn-compiler from mescc-tools-seed, <a rel="nofollow" href="http://ix.io/2JyE">http://ix.io/2JyE</a> </span></div><div class="line" id="022651"><span class="nick" style="color:#2e2a4a"><a href="#022651" label="[02:26:51]">&lt;siraben&gt;</a></span><span class="message">M2-Planet segfaults</span></div><div class="line" id="023749"><span class="nick" style="color:#8dd3c7"><a href="#023749" label="[02:37:49]">&lt;OriansJ&gt;</a></span><span class="message">siraben: now that would be a surprise. M2-Planet has been fuzzed to hell and back</span></div><div class="line" id="023840"><span class="nick" style="color:#8dd3c7"><a href="#023840" label="[02:38:40]">&lt;OriansJ&gt;</a></span><span class="message">siraben: on blynn-compiler commit: 61d2178a9ed446453d3560271646722026768a83</span></div><div class="line" id="024017"><span class="nick" style="color:#8dd3c7"><a href="#024017" label="[02:40:17]">&lt;OriansJ&gt;</a></span><span class="message">try M2-Planet --version</span></div><div class="line" id="024027"><span class="nick" style="color:#8dd3c7"><a href="#024027" label="[02:40:27]">&lt;OriansJ&gt;</a></span><span class="message">see if it segfaults on that</span></div><div class="line" id="024456"><span class="nick" style="color:#8dd3c7"><a href="#024456" label="[02:44:56]">&lt;OriansJ&gt;</a></span><span class="message">siraben: it is 20:44 here (8:44pm)</span></div><div class="line" id="024959"><span class="nick" style="color:#2e2a4a"><a href="#024959" label="[02:49:59]">&lt;siraben&gt;</a></span><span class="message">M2-Planet --version</span></div><div class="line" id="024959"><span class="nick" style="color:#2e2a4a"><a href="#024959" label="[02:49:59]">&lt;siraben&gt;</a></span><span class="message">Segmentation fault (core dumped)</span></div><div class="line" id="025006"><span class="nick" style="color:#2e2a4a"><a href="#025006" label="[02:50:06]">&lt;siraben&gt;</a></span><span class="message">OriansJ: 8:50 am here</span></div><div class="line" id="025123"><span class="nick" style="color:#6b8072"><a href="#025123" label="[02:51:23]">&lt;pder&gt;</a></span><span class="message">siraben: Those checksums match mine, and I always am testing with M2-Planet built from mescc-tools-seed.  Do all binaries built by mescc-tools-seed segfault?</span></div><div class="line" id="025326"><span class="nick" style="color:#2e2a4a"><a href="#025326" label="[02:53:26]">&lt;siraben&gt;</a></span><span class="message">weird, M2-Planet in bin/ works, maybe it is the ELF patch</span></div><div class="line" id="025423"><span class="nick" style="color:#6b8072"><a href="#025423" label="[02:54:23]">&lt;pder&gt;</a></span><span class="message">I dont know anything about nix packaging works, but I would disable anything that tries to patch or strip those binaries</span></div><div class="line" id="025433"><span class="nick" style="color:#6b8072"><a href="#025433" label="[02:54:33]">&lt;pder&gt;</a></span><span class="message">But I am confused because the checksums match mine</span></div><div class="line" id="025541"><span class="nick" style="color:#2e2a4a"><a href="#025541" label="[02:55:41]">&lt;siraben&gt;</a></span><span class="message">I have 50ea82e70f30f135daf210210e7266e7ff8cad8a3bbc50b7883c8bf8750d5c4d for M2-Planet's checksum, correct?</span></div><div class="line" id="025549"><span class="nick" style="color:#2e2a4a"><a href="#025549" label="[02:55:49]">&lt;siraben&gt;</a></span><span class="message">this is the checksum of the executable that actually executes</span></div><div class="line" id="025608"><span class="nick" style="color:#2e2a4a"><a href="#025608" label="[02:56:08]">&lt;siraben&gt;</a></span><span class="message">Oh it differs, hm</span></div><div class="line" id="025714"><span class="nick" style="color:#2e2a4a"><a href="#025714" label="[02:57:14]">&lt;siraben&gt;</a></span><span class="message">Ok so when M2-Planet builds I have b1f14ac56c57aa579b610de5c7d480fc5dbb4be9e185246ef77c07b937bf43cb as the hash, but when I perform `cp ./bin/* $out/bin` the hash changes</span></div><div class="line" id="025834"><span class="nick" style="color:#6b8072"><a href="#025834" label="[02:58:34]">&lt;pder&gt;</a></span><span class="message">If I build commit b80accf40023bbf5f6f1d08da59256467bc6f1a0 of mescc-tools-seed, the sha256sum of bin/M2-Planet is b1f14ac56c57aa579b610de5c7d480fc5dbb4be9e185246ef77c07b937bf43cb</span></div><div class="line" id="025851"><span class="nick" style="color:#2e2a4a"><a href="#025851" label="[02:58:51]">&lt;siraben&gt;</a></span><span class="message">Is it because the permissions changed?</span></div><div class="line" id="025955"><span class="nick" style="color:#2e2a4a"><a href="#025955" label="[02:59:55]">&lt;siraben&gt;</a></span><span class="message">755 should be the permissions right?</span></div><div class="line" id="030020"><span class="nick" style="color:#6b8072"><a href="#030020" label="[03:00:20]">&lt;pder&gt;</a></span><span class="message">cp shouldnt change the permissions</span></div><div class="line" id="030046"><span class="nick" style="color:#6b8072"><a href="#030046" label="[03:00:46]">&lt;pder&gt;</a></span><span class="message">I tried copying M2-Planet to a different directory and got the same sha256sum</span></div><div class="line" id="030104"><span class="nick" style="color:#2e2a4a"><a href="#030104" label="[03:01:04]">&lt;siraben&gt;</a></span><span class="message">Oh there's also a dontStrip option, I'll try setting that to true</span></div><div class="line" id="030115"><span class="nick" style="color:#2e2a4a"><a href="#030115" label="[03:01:15]">&lt;siraben&gt;</a></span><span class="message">and it works.</span></div><div class="line" id="032210"><span class="nick" style="color:#2e2a4a"><a href="#032210" label="[03:22:10]">&lt;siraben&gt;</a></span><span class="message">OriansJ: the two PRs I have open on blynn-compiler conflict, so when you merge one I can rebase the other</span></div><div class="line" id="032622"><span class="nick" style="color:#80b1d3"><a href="#032622" label="[03:26:22]">&lt;V&gt;</a></span><span class="message">siraben: it's probably an alignment thing</span></div><div class="line" id="032640"><span class="nick" style="color:#80b1d3"><a href="#032640" label="[03:26:40]">&lt;V&gt;</a></span><span class="message">Or at least that's the first thing I'd think of</span></div><div class="line" id="034528"><span class="nick" style="color:#2e2a4a"><a href="#034528" label="[03:45:28]">&lt;siraben&gt;</a></span><span class="message">V: I see, I should try a binary diff</span></div><div class="line" id="034604"><span class="nick" style="color:#80b1d3"><a href="#034604" label="[03:46:04]">&lt;V&gt;</a></span><span class="message">siraben: nix run nixpkgs.vbindiff -c vbindiff [...]</span></div><div class="line" id="035551"><span class="nick" style="color:#2e2a4a"><a href="#035551" label="[03:55:51]">&lt;siraben&gt;</a></span><span class="message">V: thanks</span></div><div class="line" id="121331"><span class="nick" style="color:#8dd3c7"><a href="#121331" label="[12:13:31]">&lt;OriansJ&gt;</a></span><span class="message">siraben: the permissions should be exactly: <a rel="nofollow" href="https://paste.debian.net/1178362/">https://paste.debian.net/1178362/</a> </span></div><div class="line" id="121404"><span class="nick" style="color:#2e2a4a"><a href="#121404" label="[12:14:04]">&lt;siraben&gt;</a></span><span class="message">OriansJ: yeah, permissions were not the issue, but the automatic stripping was</span></div><div class="line" id="121527"><span class="nick" style="color:#8dd3c7"><a href="#121527" label="[12:15:27]">&lt;OriansJ&gt;</a></span><span class="message">siraben: well there was nothing to strip</span></div><div class="line" id="121544"><span class="nick" style="color:#8dd3c7"><a href="#121544" label="[12:15:44]">&lt;OriansJ&gt;</a></span><span class="message">no paths or linker data at all</span></div><div class="line" id="121555"><span class="nick" style="color:#8dd3c7"><a href="#121555" label="[12:15:55]">&lt;OriansJ&gt;</a></span><span class="message">as they are fully static binaries</span></div><div class="line" id="121637"><span class="nick" style="color:#8dd3c7"><a href="#121637" label="[12:16:37]">&lt;OriansJ&gt;</a></span><span class="message">so you probably have a solid bug case for nix</span></div><div class="line" id="121709"><span class="nick" style="color:#8dd3c7"><a href="#121709" label="[12:17:09]">&lt;OriansJ&gt;</a></span><span class="message">as nix strip should not be breaking statically built binaries</span></div><div class="line" id="122043"><span class="nick" style="color:#6d2462"><a href="#122043" label="[12:20:43]">&lt;fossy&gt;</a></span><span class="message">agreed</span></div><div class="line" id="122220"><span class="nick" style="color:#8dd3c7"><a href="#122220" label="[12:22:20]">&lt;OriansJ&gt;</a></span><span class="message">siraben: merged both;</span></div><div class="line" id="122240"><span class="nick" style="color:#2e2a4a"><a href="#122240" label="[12:22:40]">&lt;siraben&gt;</a></span><span class="message">OriansJ: I think it's running regular strip</span></div><div class="line" id="122249"><span class="nick" style="color:#2e2a4a"><a href="#122249" label="[12:22:49]">&lt;siraben&gt;</a></span><span class="message">I'll open an issue and see</span></div><div class="line" id="122254"><span class="nick" style="color:#2e2a4a"><a href="#122254" label="[12:22:54]">&lt;siraben&gt;</a></span><span class="message">OriansJ: thanks.</span></div><div class="line" id="122511"><span class="nick" style="color:#2e2a4a"><a href="#122511" label="[12:25:11]">&lt;siraben&gt;</a></span><span class="message">fossy, OriansJ: are you able to replicate the segfault if you run strip on M2-Planet?</span></div><div class="line" id="122711"><span class="nick" style="color:#8dd3c7"><a href="#122711" label="[12:27:11]">&lt;OriansJ&gt;</a></span><span class="message">siraben: yes I can replicate the segfault after running strip</span></div><div class="line" id="122733"><span class="nick" style="color:#2e2a4a"><a href="#122733" label="[12:27:33]">&lt;siraben&gt;</a></span><span class="message">That's strange because it didn't happen before with M2-Planet</span></div><div class="line" id="122738"><span class="nick" style="color:#8dd3c7"><a href="#122738" label="[12:27:38]">&lt;OriansJ&gt;</a></span><span class="message">looking at the ELF headers it appears to try to only load half the binary</span></div><div class="line" id="122906"><span class="nick" style="color:#8dd3c7"><a href="#122906" label="[12:29:06]">&lt;OriansJ&gt;</a></span><span class="message">it changes the File size to 13688 from 32056</span></div><div class="line" id="122924"><span class="nick" style="color:#8dd3c7"><a href="#122924" label="[12:29:24]">&lt;OriansJ&gt;</a></span><span class="message">even though the segment is still exactly 32056bytes in size</span></div><div class="line" id="123005"><span class="nick" style="color:#2e2a4a"><a href="#123005" label="[12:30:05]">&lt;siraben&gt;</a></span><span class="message">on the flip side of this bootstrapping project, how do I replicate building GCC 4.7 with MES?</span></div><div class="line" id="123147"><span class="nick" style="color:#8dd3c7"><a href="#123147" label="[12:31:47]">&lt;OriansJ&gt;</a></span><span class="message">siraben: fossy did a nice bit on that: <a rel="nofollow" href="https://github.com/fosslinux/gcc-seed">https://github.com/fosslinux/gcc-seed</a> </span></div><div class="line" id="130201"><span class="nick" style="color:#234e69"><a href="#130201" label="[13:02:01]">&lt;rain1&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/jjyr/jonesforth_riscv">https://github.com/jjyr/jonesforth_riscv</a> </span></div><div class="line" id="130227"><span class="nick" style="color:#2e2a4a"><a href="#130227" label="[13:02:27]">&lt;siraben&gt;</a></span><span class="message">OriansJ: what's with the notice at the top of the readme? `NOTE: This fork of mescc-tools-seed is superseded by a new upcoming project.`</span></div><div class="line" id="132627"><span class="nick" style="color:#2e2a4a"><a href="#132627" label="[13:26:27]">&lt;siraben&gt;</a></span><span class="message">tested the CI to see what would happen if precisely.hs fails to generate valid C code: <a rel="nofollow" href="https://github.com/siraben/compiler/runs/1611102652">https://github.com/siraben/compiler/runs/1611102652</a> </span></div><div class="line" id="152043"><span class="nick" style="color:#2e2a4a"><a href="#152043" label="[15:20:43]">&lt;siraben&gt;</a></span><span class="message">rain1: nice</span></div><div class="line" id="153009"><span class="nick" style="color:#6c3d55"><a href="#153009" label="[15:30:09]">&lt;janneke&gt;</a></span><span class="message">siraben: you probably know that the whole bootstrap from mes onward is used by guix</span></div><div class="line" id="155027"><span class="nick" style="color:#2e2a4a"><a href="#155027" label="[15:50:27]">&lt;siraben&gt;</a></span><span class="message">janneke: yeah, it would be nice to replace Nix's bootstrap with that</span></div><div class="line" id="170746"><span class="nick" style="color:#d9d9d9"><a href="#170746" label="[17:07:46]">&lt;deesix&gt;</a></span><span class="message">Why commit 5f0822619fad of mescc-tools-seed does (for phase 9)...</span></div><div class="line" id="170748"><span class="nick" style="color:#d9d9d9"><a href="#170748" label="[17:07:48]">&lt;deesix&gt;</a></span><span class="message">-	-f ../M2-Planet/functions/string.c \</span></div><div class="line" id="170750"><span class="nick" style="color:#d9d9d9"><a href="#170750" label="[17:07:50]">&lt;deesix&gt;</a></span><span class="message">+	-f ../mescc-tools/functions/string.c \</span></div><div class="line" id="170853"><span class="nick" style="color:#d9d9d9"><a href="#170853" label="[17:08:53]">&lt;deesix&gt;</a></span><span class="message">Also, that commit makes the AMD64 script to list two &quot;Phase-8&quot;.</span></div><div class="line" id="171936"><span class="nick" style="color:#d9d9d9"><a href="#171936" label="[17:19:36]">&lt;deesix&gt;</a></span><span class="message">!?</span></div><div class="line" id="172710"><span class="nick" style="color:#234e69"><a href="#172710" label="[17:27:10]">&lt;rain1&gt;</a></span><span class="message">:D</span></div><div class="line" id="175338"><span class="nick" style="color:#d9d9d9"><a href="#175338" label="[17:53:38]">&lt;deesix&gt;</a></span><span class="message">Hmm, maybe to avoid the MAX_STRING change for the next submodule update. What a maze.</span></div><div class="line" id="180127"><span class="nick" style="color:#d9d9d9"><a href="#180127" label="[18:01:27]">&lt;deesix&gt;</a></span><span class="message">... as M2-Planet d9504e3872e5 changes functions/string.c.</span></div><div class="line" id="214025"><span class="nick" style="color:#d9d9d9"><a href="#214025" label="[21:40:25]">&lt;deesix&gt;</a></span><span class="message">mescc-tools-seed/makefile has test-x86 and test-amd64 using the wrong kaem-optional-seed (they use the one for the other arch since commit 402abf516404).</span></div><div class="line" id="214356"><span class="nick" style="color:#d9d9d9"><a href="#214356" label="[21:43:56]">&lt;deesix&gt;</a></span><span class="message">Is &quot;.PHONEY: clean&quot; a typo there?</span></div><div class="line" id="214952"><span class="nick" style="color:#6d2462"><a href="#214952" label="[21:49:52]">&lt;fossy&gt;</a></span><span class="message">OriansJ: siraben and the sucessor <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap">https://github.com/fosslinux/live-bootstrap</a> </span></div><div class="line" id="215029"><span class="nick" style="color:#6d2462"><a href="#215029" label="[21:50:29]">&lt;fossy&gt;</a></span><span class="message">I found it much too difficult to stop exposing the host environment to things like configure scripts in gcc serd</span></div><div class="line" id="215059"><span class="nick" style="color:#6d2462"><a href="#215059" label="[21:50:59]">&lt;fossy&gt;</a></span><span class="message">So I restarted using an initramfs (making it reproducible as it is always in the same env)</span></div><div class="line" id="215129"><span class="nick" style="color:#6d2462"><a href="#215129" label="[21:51:29]">&lt;fossy&gt;</a></span><span class="message">./rootfs.sh makes the initramfs and boots it in qemu</span></div><div class="line" id="215140"><span class="nick" style="color:#6d2462"><a href="#215140" label="[21:51:40]">&lt;fossy&gt;</a></span><span class="message">you need a kernel seed named kernel in the root of the repo</span></div><div class="line" id="221528"><span class="nick" style="color:#8dd3c7"><a href="#221528" label="[22:15:28]">&lt;OriansJ&gt;</a></span><span class="message">deesix: the reason for the change is M2-Planet purged half the string functions as they were not needed by M2-Planet to be bootstrapped. The AMD64 phase 8 was me forgetting to fix the numbering while I fixed everything else</span></div><div class="line" id="221636"><span class="nick" style="color:#8dd3c7"><a href="#221636" label="[22:16:36]">&lt;OriansJ&gt;</a></span><span class="message">The reason for stripping out of the string function that used MAX_STRING as a constant is it caused a conflict with MAX_STRING as a global variable in M2-Planet.</span></div><div class="line" id="221712"><span class="nick" style="color:#8dd3c7"><a href="#221712" label="[22:17:12]">&lt;OriansJ&gt;</a></span><span class="message">So I had to make the change to enable M2-Planet to support longer strings for the blynn-compiler bootstrap.</span></div><div class="line" id="221808"><span class="nick" style="color:#bc80bd"><a href="#221808" label="[22:18:08]">&lt;plasma41&gt;</a></span><span class="message">fossy: I see that rootfs.sh has a shebang of &quot;#!/bin/bash&quot;. I don't see anything in that script that isn't implemented in a standard Bourne shell. Perhaps change the shebang to &quot;#!/bin/sh&quot;?</span></div><div class="line" id="221841"><span class="nick" style="color:#8dd3c7"><a href="#221841" label="[22:18:41]">&lt;OriansJ&gt;</a></span><span class="message">deesix: I guess I have some problems in mescc-tools-seed to fix. and typos are kinda commen with me. so probably</span></div><div class="line" id="221919"><span class="nick" style="color:#8dd3c7"><a href="#221919" label="[22:19:19]">&lt;OriansJ&gt;</a></span><span class="message">fossy: thank you for sharing the link. I honestly lost track (Way too much to do with the baby and all)</span></div><div class="line" id="222520"><span class="nick" style="color:#d9d9d9"><a href="#222520" label="[22:25:20]">&lt;deesix&gt;</a></span><span class="message">At &quot;Phase-5 Build M2-Planet from cc_x86&quot; ./cc_x86 hold M2.M1 --&gt; ERROR in create_struct Missing {</span></div><div class="line" id="222943"><span class="nick" style="color:#8dd3c7"><a href="#222943" label="[22:29:43]">&lt;OriansJ&gt;</a></span><span class="message">deesix: on commit b80accf40023bbf5f6f1d08da59256467bc6f1a0 ???</span></div><div class="line" id="223044"><span class="nick" style="color:#8dd3c7"><a href="#223044" label="[22:30:44]">&lt;OriansJ&gt;</a></span><span class="message">after you do git submodule update --checkout</span></div><div class="line" id="223322"><span class="nick" style="color:#6d2462"><a href="#223322" label="[22:33:22]">&lt;fossy&gt;</a></span><span class="message">plasma41: um I think {a,b} is bash specific</span></div><div class="line" id="223331"><span class="nick" style="color:#6d2462"><a href="#223331" label="[22:33:31]">&lt;fossy&gt;</a></span><span class="message">I can expand that tho</span></div><div class="line" id="223417"><span class="nick" style="color:#8dd3c7"><a href="#223417" label="[22:34:17]">&lt;OriansJ&gt;</a></span><span class="message">also isn't the standard &quot;#/usr/bin/env sh&quot;</span></div><div class="line" id="223452"><span class="nick" style="color:#8dd3c7"><a href="#223452" label="[22:34:52]">&lt;OriansJ&gt;</a></span><span class="message">as the default shell doesn't have to be in /bin/</span></div><div class="line" id="223625"><span class="nick" style="color:#d9d9d9"><a href="#223625" label="[22:36:25]">&lt;deesix&gt;</a></span><span class="message">OriansJ, yes, that's the commit. 'git submodule status' shows the correct output for M2-Planet.</span></div><div class="line" id="223627"><span class="nick" style="color:#3c5b35"><a href="#223627" label="[22:36:27]">&lt;nimaje&gt;</a></span><span class="message">posix demands a /bin/sh</span></div><div class="line" id="223655"><span class="nick" style="color:#3c5b35"><a href="#223655" label="[22:36:55]">&lt;nimaje&gt;</a></span><span class="message">pretty sure it has to support {a,b}</span></div><div class="line" id="223852"><span class="nick" style="color:#8dd3c7"><a href="#223852" label="[22:38:52]">&lt;OriansJ&gt;</a></span><span class="message">nimaje: dash does not</span></div><div class="line" id="224059"><span class="nick" style="color:#8dd3c7"><a href="#224059" label="[22:40:59]">&lt;OriansJ&gt;</a></span><span class="message">deesix: when you cd in the folder x86 and do sha256sum -c SHA256SUMS what does it say?</span></div><div class="line" id="224351"><span class="nick" style="color:#3c5b35"><a href="#224351" label="[22:43:51]">&lt;nimaje&gt;</a></span><span class="message">yeah, freebsds sh also doesn't support {a,b} and I couldn't find it in the opengroup document, so I probably remembered wrong</span></div><div class="line" id="224510"><span class="nick" style="color:#8dd3c7"><a href="#224510" label="[22:45:10]">&lt;OriansJ&gt;</a></span><span class="message">nimaje: mistakes are a natural thing. As we all should always be learning.</span></div><div class="line" id="224517"><span class="nick" style="color:#d9d9d9"><a href="#224517" label="[22:45:17]">&lt;deesix&gt;</a></span><span class="message">OriansJ, OK for the outut of the completed phases.</span></div><div class="line" id="224528"><span class="nick" style="color:#d9d9d9"><a href="#224528" label="[22:45:28]">&lt;deesix&gt;</a></span><span class="message">.*output</span></div><div class="line" id="224646"><span class="nick" style="color:#d9d9d9"><a href="#224646" label="[22:46:46]">&lt;deesix&gt;</a></span><span class="message">hex1: OK catm: OK hex2-0: OK M0: OK cc_x86: OK</span></div><div class="line" id="224735"><span class="nick" style="color:#8dd3c7"><a href="#224735" label="[22:47:35]">&lt;OriansJ&gt;</a></span><span class="message">and what is the checksum of the hold file? 74042774a39d59f45a2eba6a09c3baabada5c8e56249b3fd71848b90b1e7168e</span></div><div class="line" id="225004"><span class="nick" style="color:#d9d9d9"><a href="#225004" label="[22:50:04]">&lt;deesix&gt;</a></span><span class="message">OriansJ, no... $ sha256sum x86/hold</span></div><div class="line" id="225004"><span class="nick" style="color:#d9d9d9"><a href="#225004" label="[22:50:04]">&lt;deesix&gt;</a></span><span class="message">95efbfdb7e3d0c46a10e2b603950ae4b450947994ae1e23227b2a63abd965a31  x86/hold</span></div><div class="line" id="225414"><span class="nick" style="color:#d9d9d9"><a href="#225414" label="[22:54:14]">&lt;deesix&gt;</a></span><span class="message">Hmm, I think the M2-Planet dir is not OK, even if 'git submodule status' says otherwise. Let me try something...</span></div><div class="line" id="230021"><span class="nick" style="color:#d9d9d9"><a href="#230021" label="[23:00:21]">&lt;deesix&gt;</a></span><span class="message">OriansJ, solved. Sorry for the noise.</span></div><div class="line" id="230517"><span class="nick" style="color:#d9d9d9"><a href="#230517" label="[23:05:17]">&lt;deesix&gt;</a></span><span class="message">The thing was that the submodule was in the right commit but its working dir was obsolete (my fault due to handling the submodules semi-manually).</span></div><div class="line" id="230715"><span class="nick" style="color:#8dd3c7"><a href="#230715" label="[23:07:15]">&lt;OriansJ&gt;</a></span><span class="message">deesix: no problem, I rather have a dozen reports in mistake than 1 real issue missed</span></div><div class="line" id="230743"><span class="nick" style="color:#8dd3c7"><a href="#230743" label="[23:07:43]">&lt;OriansJ&gt;</a></span><span class="message">thank you for alerting me and helping me trace it down to the cause</span></div><div class="line" id="230903"><span class="nick" style="color:#d9d9d9"><a href="#230903" label="[23:09:03]">&lt;deesix&gt;</a></span><span class="message">Thank you.</span></div><div class="line" id="231151"><span class="nick" style="color:#8dd3c7"><a href="#231151" label="[23:11:51]">&lt;OriansJ&gt;</a></span><span class="message">and thank you for spotting those errors in mescc-tools-seed that I need to fix</span></div><div class="line" id="231359"><span class="nick" style="color:#8dd3c7"><a href="#231359" label="[23:13:59]">&lt;OriansJ&gt;</a></span><span class="message">and patches are up</span></div><div class="line" id="235328"><span class="nick" style="color:#8dd3c7"><a href="#235328" label="[23:53:28]">&lt;OriansJ&gt;</a></span><span class="message">fossy: I guess you are looking forward to bauen1's kernel being able to fill that slot in your work.</span></div><div class="line" id="235433"><span class="nick" style="color:#6d2462"><a href="#235433" label="[23:54:33]">&lt;fossy&gt;</a></span><span class="message">OriansJ: yes</span></div><div class="line" id="235438"><span class="nick" style="color:#6d2462"><a href="#235438" label="[23:54:38]">&lt;fossy&gt;</a></span><span class="message">or another kernel</span></div><div class="line" id="235448"><span class="nick" style="color:#6d2462"><a href="#235448" label="[23:54:48]">&lt;fossy&gt;</a></span><span class="message">I am trying to minimise kernel requirements</span></div><div class="line" id="235919"><span class="nick" style="color:#8dd3c7"><a href="#235919" label="[23:59:19]">&lt;OriansJ&gt;</a></span><span class="message">as am I; it is amazing how few syscalls are needed to bootstrap all the way up to mes-m2 and blynn-compiler</span></div><br /></div></body></html>