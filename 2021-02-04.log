<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2021-02-04.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="005504"><span class="nick" style="color:#8dd3c7"><a href="#005504" label="[00:55:04]">&lt;OriansJ&gt;</a></span><span class="message">siraben: I'll review your pull request later tonight after I finish moving knight-native to M2libc</span></div><div class="line" id="020915"><span class="nick" style="color:#8dd3c7"><a href="#020915" label="[02:09:15]">&lt;OriansJ&gt;</a></span><span class="message">siraben: your pull has been merged.</span></div><div class="line" id="021643"><span class="nick" style="color:#8dd3c7"><a href="#021643" label="[02:16:43]">&lt;OriansJ&gt;</a></span><span class="message">and to delete a javascript file from talk_notes so github stops sending me crap updates about how it has vulnerable dependencies.</span></div><div class="line" id="045701"><span class="nick" style="color:#2e2a4a"><a href="#045701" label="[04:57:01]">&lt;siraben&gt;</a></span><span class="message">OriansJ: I think you can disable those updates</span></div><div class="line" id="045702"><span class="nick" style="color:#2e2a4a"><a href="#045702" label="[04:57:02]">&lt;siraben&gt;</a></span><span class="message">Thanks</span></div><div class="line" id="061903"><span class="nick" style="color:#6b8072"><a href="#061903" label="[06:19:03]">&lt;gforce_d11977&gt;</a></span><span class="message">stikonas: fossy: WOW! + congratulations, we have musl+tcc0.9.27 - <a rel="nofollow" href="https://cirrus-ci.com/task/5738565666603008">https://cirrus-ci.com/task/5738565666603008</a> </span></div><div class="line" id="061948"><span class="nick" style="color:#6b8072"><a href="#061948" label="[06:19:48]">&lt;gforce_d11977&gt;</a></span><span class="message">(i do now a local build an check the binaries...)</span></div><div class="line" id="063915"><span class="nick" style="color:#80b1d3"><a href="#063915" label="[06:39:15]">&lt;fossy&gt;</a></span><span class="message">stikonas[m]: i am midly confused about flex-2.5.11</span></div><div class="line" id="063920"><span class="nick" style="color:#80b1d3"><a href="#063920" label="[06:39:20]">&lt;fossy&gt;</a></span><span class="message">what is main2.mk</span></div><div class="line" id="063925"><span class="nick" style="color:#80b1d3"><a href="#063925" label="[06:39:25]">&lt;fossy&gt;</a></span><span class="message">and is main.mk even used</span></div><div class="line" id="070856"><span class="nick" style="color:#6b8072"><a href="#070856" label="[07:08:56]">&lt;gforce_d11977&gt;</a></span><span class="message">fossy: can not find these files, where is your flex-2.5.11 from? (i just downloaded from <a rel="nofollow" href="http://download.nust.na/pub2/openpkg1/sources/DST/flex/">http://download.nust.na/pub2/openpkg1/sources/DST/flex/</a>) </span></div><div class="line" id="081922"><span class="nick" style="color:#6d2462"><a href="#081922" label="[08:19:22]">&lt;stikonas[m]&gt;</a></span><span class="message">fossy, I initially wrote it to rebuild itself but then added newer flex, I'm considering removing it in my flex 2.6.4 work</span></div><div class="line" id="081945"><span class="nick" style="color:#6d2462"><a href="#081945" label="[08:19:45]">&lt;stikonas[m]&gt;</a></span><span class="message">main.mk is the one used</span></div><div class="line" id="082219"><span class="nick" style="color:#6d2462"><a href="#082219" label="[08:22:19]">&lt;stikonas[m]&gt;</a></span><span class="message">main does bootstrap and 1st pass</span></div><div class="line" id="082319"><span class="nick" style="color:#6d2462"><a href="#082319" label="[08:23:19]">&lt;stikonas[m]&gt;</a></span><span class="message">Main2 would be uses for 2nd pass if we want to build unpatched lex</span></div><div class="line" id="082347"><span class="nick" style="color:#6d2462"><a href="#082347" label="[08:23:47]">&lt;stikonas[m]&gt;</a></span><span class="message">But locally, I have already removed that</span></div><div class="line" id="082412"><span class="nick" style="color:#6d2462"><a href="#082412" label="[08:24:12]">&lt;stikonas[m]&gt;</a></span><span class="message">In my flex 2.6.4 work</span></div><div class="line" id="083408"><span class="nick" style="color:#6d2462"><a href="#083408" label="[08:34:08]">&lt;stikonas[m]&gt;</a></span><span class="message">I'm also looking at moving m4 after musl, the we can drop that patch but I got linking errors, so need to investigate more</span></div><div class="line" id="083624"><span class="nick" style="color:#80b1d3"><a href="#083624" label="[08:36:24]">&lt;fossy&gt;</a></span><span class="message">ah, ok..</span></div><div class="line" id="083657"><span class="nick" style="color:#80b1d3"><a href="#083657" label="[08:36:57]">&lt;fossy&gt;</a></span><span class="message">please do remove one and clean that up in flex 2.6.4, tis rather confusing</span></div><div class="line" id="083722"><span class="nick" style="color:#6b8072"><a href="#083722" label="[08:37:22]">&lt;gforce_d11977&gt;</a></span><span class="message">stikonas: fossy: i'am sorry, there is still something wrong: is a local built on i386: <a rel="nofollow" href="http://intercity-vpn.de/bootstrap-stikonas-branch-musel-2dcf471a1e150175aa9ed35cf8fbe79820cec9e3.txt">http://intercity-vpn.de/bootstrap-stikonas-branch-musel-2dcf471a1e150175aa9ed35cf8fbe79820cec9e3.txt</a> </span></div><div class="line" id="084135"><span class="nick" style="color:#6b8072"><a href="#084135" label="[08:41:35]">&lt;gforce_d11977&gt;</a></span><span class="message">(maybe it's a RAM issue, i will repeat an report)</span></div><div class="line" id="084344"><span class="nick" style="color:#6d2462"><a href="#084344" label="[08:43:44]">&lt;stikonas[m]&gt;</a></span><span class="message">Hmm, never hit it here</span></div><div class="line" id="085217"><span class="nick" style="color:#6d2462"><a href="#085217" label="[08:52:17]">&lt;stikonas[m]&gt;</a></span><span class="message">Maybe because the binary overwrites itself... I'll replace it with install</span></div><div class="line" id="090456"><span class="nick" style="color:#6b8072"><a href="#090456" label="[09:04:56]">&lt;gforce_d11977&gt;</a></span><span class="message">stikonas[m]: it *is* a lowram-issue, i'am pretty sure, my QEMU used only 1G, will fix and repeat, sorry</span></div><div class="line" id="090631"><span class="nick" style="color:#6d2462"><a href="#090631" label="[09:06:31]">&lt;stikonas[m]&gt;</a></span><span class="message">Oh ok</span></div><div class="line" id="090739"><span class="nick" style="color:#6d2462"><a href="#090739" label="[09:07:39]">&lt;stikonas[m]&gt;</a></span><span class="message">Yeah, we need more ram, especially as we add more sources</span></div><div class="line" id="091325"><span class="nick" style="color:#6b8072"><a href="#091325" label="[09:13:25]">&lt;gforce_d11977&gt;</a></span><span class="message">(ok, qemu runs again, uploads to some URL... - i'am AWK, cu later)</span></div><div class="line" id="091333"><span class="nick" style="color:#6b8072"><a href="#091333" label="[09:13:33]">&lt;gforce_d11977&gt;</a></span><span class="message">(ok, qemu runs again, uploads to same URL... - i'am AWK, cu later)</span></div><div class="line" id="092720"><span class="nick" style="color:#234e69"><a href="#092720" label="[09:27:20]">&lt;marusich&gt;</a></span><span class="message">dftxbs3e, dongcarl, the issue is fixed.  However, I think coreutils-final doesn't build; I'll probably open a report about that one next..</span></div><div class="line" id="092737"><span class="nick" style="color:#234e69"><a href="#092737" label="[09:27:37]">&lt;marusich&gt;</a></span><span class="message">I lied.  It just built for me fine.</span></div><div class="line" id="092916"><span class="nick" style="color:#234e69"><a href="#092916" label="[09:29:16]">&lt;marusich&gt;</a></span><span class="message">I'm sure something else won't build...  If you find something that is broken, please open a bug report about it so we can track which commits fix which problems, etc.</span></div><div class="line" id="103358"><span class="nick" style="color:#6c3d55"><a href="#103358" label="[10:33:58]">&lt;stikonas&gt;</a></span><span class="message">fossy: so I think musl is ready to merge?</span></div><div class="line" id="103405"><span class="nick" style="color:#6c3d55"><a href="#103405" label="[10:34:05]">&lt;stikonas&gt;</a></span><span class="message">CI has now passed</span></div><div class="line" id="103646"><span class="nick" style="color:#6c3d55"><a href="#103646" label="[10:36:46]">&lt;stikonas&gt;</a></span><span class="message">your other PR I think is good to go too</span></div><div class="line" id="122618"><span class="nick" style="color:#6b8072"><a href="#122618" label="[12:26:18]">&lt;gforce_d11977&gt;</a></span><span class="message">stikonas: fossy: here in i386 QEMU it fails: <a rel="nofollow" href="http://intercity-vpn.de/bootstrap-stikonas-branch-musel-2dcf471a1e150175aa9ed35cf8fbe79820cec9e3.txt">http://intercity-vpn.de/bootstrap-stikonas-branch-musel-2dcf471a1e150175aa9ed35cf8fbe79820cec9e3.txt</a> </span></div><div class="line" id="122659"><span class="nick" style="color:#6b8072"><a href="#122659" label="[12:26:59]">&lt;gforce_d11977&gt;</a></span><span class="message">i can fire a x86_64 QEMU to see if this changes something, shouldt i?</span></div><div class="line" id="122721"><span class="nick" style="color:#6c3d55"><a href="#122721" label="[12:27:21]">&lt;stikonas&gt;</a></span><span class="message">yeah, test with x86_64...</span></div><div class="line" id="122811"><span class="nick" style="color:#6c3d55"><a href="#122811" label="[12:28:11]">&lt;stikonas&gt;</a></span><span class="message">it migth be some of the patching that we do...</span></div><div class="line" id="122832"><span class="nick" style="color:#6b8072"><a href="#122832" label="[12:28:32]">&lt;gforce_d11977&gt;</a></span><span class="message">ok, will do</span></div><div class="line" id="123326"><span class="nick" style="color:#6b8072"><a href="#123326" label="[12:33:26]">&lt;gforce_d11977&gt;</a></span><span class="message">(new log at: <a rel="nofollow" href="http://intercity-vpn.de/bootstrap-stikonas-branch-musel-2dcf471a1e150175aa9ed35cf8fbe79820cec9e3-x86_64.txt">http://intercity-vpn.de/bootstrap-stikonas-branch-musel-2dcf471a1e150175aa9ed35cf8fbe79820cec9e3-x86_64.txt</a>) </span></div><div class="line" id="123626"><span class="nick">***</span><span class="message notice">ChanServ sets mode: +o rekado_</span></div><div class="line" id="123628"><span class="nick">***</span><span class="message notice">rekado_ is now known as rekado</span></div><div class="line" id="130702"><span class="nick" style="color:#6c3d55"><a href="#130702" label="[13:07:02]">&lt;stikonas&gt;</a></span><span class="message">gforce_d11977: still failed on x86_64...</span></div><div class="line" id="130706"><span class="nick" style="color:#6c3d55"><a href="#130706" label="[13:07:06]">&lt;stikonas&gt;</a></span><span class="message">something is strange with your setup</span></div><div class="line" id="130715"><span class="nick" style="color:#6c3d55"><a href="#130715" label="[13:07:15]">&lt;stikonas&gt;</a></span><span class="message">but I guess you'll have to investigate since only you can reproduce it</span></div><div class="line" id="130731"><span class="nick" style="color:#6c3d55"><a href="#130731" label="[13:07:31]">&lt;stikonas&gt;</a></span><span class="message">hard to do anything without reproducer</span></div><div class="line" id="140113"><span class="nick" style="color:#6b8072"><a href="#140113" label="[14:01:13]">&lt;gforce_d11977&gt;</a></span><span class="message">stikonas: this is just &quot;./rootfs minikernel&quot; - but i will look deeper and report.</span></div><div class="line" id="140208"><span class="nick" style="color:#6c3d55"><a href="#140208" label="[14:02:08]">&lt;stikonas&gt;</a></span><span class="message">oh, maybe due to minikernel...</span></div><div class="line" id="140318"><span class="nick" style="color:#6c3d55"><a href="#140318" label="[14:03:18]">&lt;stikonas&gt;</a></span><span class="message">well, this patch is a bit rough <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/blob/master/sysa/musl-1.1.24/patches/fenv.patch">https://github.com/fosslinux/live-bootstrap/blob/master/sysa/musl-1.1.24/patches/fenv.patch</a>  but I don't know if it might be causing it</span></div><div class="line" id="140323"><span class="nick" style="color:#6b8072"><a href="#140323" label="[14:03:23]">&lt;gforce_d11977&gt;</a></span><span class="message">stikonas: i have no idea what can be missing in the kernel...? let me dig a little bit</span></div><div class="line" id="140326"><span class="nick" style="color:#6c3d55"><a href="#140326" label="[14:03:26]">&lt;stikonas&gt;</a></span><span class="message">I thought we wouldn't use floating exceptions...</span></div><div class="line" id="140708"><span class="nick" style="color:#6c3d55"><a href="#140708" label="[14:07:08]">&lt;stikonas&gt;</a></span><span class="message">oh, it might be that musl has more requirements on kernel</span></div><div class="line" id="140716"><span class="nick" style="color:#6c3d55"><a href="#140716" label="[14:07:16]">&lt;stikonas&gt;</a></span><span class="message">and your minikernel is now insufficient...</span></div><div class="line" id="140750"><span class="nick" style="color:#6c3d55"><a href="#140750" label="[14:07:50]">&lt;stikonas&gt;</a></span><span class="message">at this stage in the bootstrap I think we'll not be running bootstrap kernel anymore once kernels are sorted out</span></div><div class="line" id="141114"><span class="nick" style="color:#6b8072"><a href="#141114" label="[14:11:14]">&lt;gforce_d11977&gt;</a></span><span class="message">i will make a 'defconfig' x86_64 kernel and check</span></div><div class="line" id="145406"><span class="nick" style="color:#6b8072"><a href="#145406" label="[14:54:06]">&lt;gforce_d11977&gt;</a></span><span class="message">shit, it works: <a rel="nofollow" href="http://intercity-vpn.de/bootstrap-stikonas-branch-musel-2dcf471a1e150175aa9ed35cf8fbe79820cec9e3-x86_64-defconfig.txt">http://intercity-vpn.de/bootstrap-stikonas-branch-musel-2dcf471a1e150175aa9ed35cf8fbe79820cec9e3-x86_64-defconfig.txt</a> </span></div><div class="line" id="145434"><span class="nick" style="color:#6b8072"><a href="#145434" label="[14:54:34]">&lt;gforce_d11977&gt;</a></span><span class="message">now i have to find the CONFIG_SYMBOL which makes that happen</span></div><div class="line" id="145437"><span class="nick" style="color:#6c3d55"><a href="#145437" label="[14:54:37]">&lt;stikonas&gt;</a></span><span class="message">ok, so musl requires more stuff from the kernel...</span></div><div class="line" id="145445"><span class="nick" style="color:#6c3d55"><a href="#145445" label="[14:54:45]">&lt;stikonas&gt;</a></span><span class="message">well, start with error message...</span></div><div class="line" id="145513"><span class="nick" style="color:#6c3d55"><a href="#145513" label="[14:55:13]">&lt;stikonas&gt;</a></span><span class="message">sys_siglist stub</span></div><div class="line" id="174903"><span class="nick" style="color:#6b8072"><a href="#174903" label="[17:49:03]">&lt;gforce_d11977&gt;</a></span><span class="message">(i make progress finding to additional needed KERNEL_CONFIG_SYMBOLS, but the time needed for a compile-run-cycle is really, arrgggg!)</span></div><div class="line" id="202937"><span class="nick" style="color:#d9d9d9"><a href="#202937" label="[20:29:37]">&lt;Hagfish&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/signalapp/Signal-TLS-Proxy/issues/6">https://github.com/signalapp/Signal-TLS-Proxy/issues/6</a>  &quot;Signal-TLS-Proxy/nginx-relay/Dockerfile sets up an nginx server by downloading unauthenticated code&quot;</span></div><div class="line" id="210130"><span class="nick" style="color:#6c3d55"><a href="#210130" label="[21:01:30]">&lt;stikonas&gt;</a></span><span class="message">flex 2.6.4  <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/29">https://github.com/fosslinux/live-bootstrap/pull/29</a> </span></div><div class="line" id="210134"><span class="nick" style="color:#6c3d55"><a href="#210134" label="[21:01:34]">&lt;stikonas&gt;</a></span><span class="message">fossy: ^^</span></div><div class="line" id="222911"><span class="nick" style="color:#6c3d55"><a href="#222911" label="[22:29:11]">&lt;stikonas&gt;</a></span><span class="message">oh, m4-1.4.4 also builds and unlike 1.4 it doesn't need patch...</span></div><div class="line" id="222916"><span class="nick" style="color:#6c3d55"><a href="#222916" label="[22:29:16]">&lt;stikonas&gt;</a></span><span class="message">let's update it. It's also 10 years newer</span></div><div class="line" id="223341"><span class="nick" style="color:#d9d9d9"><a href="#223341" label="[22:33:41]">&lt;Hagfish&gt;</a></span><span class="message">nice</span></div><div class="line" id="224434"><span class="nick" style="color:#6c3d55"><a href="#224434" label="[22:44:34]">&lt;stikonas&gt;</a></span><span class="message">I couldn't get m4 working with musl though, something strange is going on with alloca. I was able to solve same problem in grep...</span></div><div class="line" id="224443"><span class="nick" style="color:#6c3d55"><a href="#224443" label="[22:44:43]">&lt;stikonas&gt;</a></span><span class="message">but doesn't matter, we can build it with mes libc</span></div><div class="line" id="224531"><span class="nick" style="color:#6c3d55"><a href="#224531" label="[22:45:31]">&lt;stikonas&gt;</a></span><span class="message">hmm, now bison is left...</span></div><div class="line" id="224537"><span class="nick" style="color:#6c3d55"><a href="#224537" label="[22:45:37]">&lt;stikonas&gt;</a></span><span class="message">hopefully it works</span></div><div class="line" id="224559"><span class="nick" style="color:#6c3d55"><a href="#224559" label="[22:45:59]">&lt;stikonas&gt;</a></span><span class="message">that's the final component in flex/bison bringup</span></div><div class="line" id="233448"><span class="nick" style="color:#6c3d55"><a href="#233448" label="[23:34:48]">&lt;stikonas&gt;</a></span><span class="message">argh, bison is also struggling with that &quot;alloca&quot; symbol...</span></div><div class="line" id="233710"><span class="nick" style="color:#6c3d55"><a href="#233710" label="[23:37:10]">&lt;stikonas&gt;</a></span><span class="message">ok, it worked after tweaking cflags</span></div><br /></div></body></html>