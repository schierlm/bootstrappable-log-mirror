<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2023-03-29.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="012515"><span class="nick" style="color:#389600"><a href="#012515" label="[01:25:15]">&lt;aggi&gt;</a></span><span class="message">seems i could narrow down one critical bug with linux-2.x/tcc-compiler/assembler</span></div><div class="line" id="012624"><span class="nick" style="color:#389600"><a href="#012624" label="[01:26:24]">&lt;aggi&gt;</a></span><span class="message">it is this macro called early in init/main.c: #define __sti()                 __asm__ __volatile__(&quot;sti&quot;: : :&quot;memory&quot;)</span></div><div class="line" id="012759"><span class="nick" style="color:#8dd3c7"><a href="#012759" label="[01:27:59]">&lt;avih&gt;</a></span><span class="message">aggi: did you try a more recent tcc? or even mob?</span></div><div class="line" id="012825"><span class="nick" style="color:#8dd3c7"><a href="#012825" label="[01:28:25]">&lt;avih&gt;</a></span><span class="message">if it works, maybe you can backport the tcc fix</span></div><div class="line" id="012835"><span class="nick" style="color:#389600"><a href="#012835" label="[01:28:35]">&lt;aggi&gt;</a></span><span class="message">yes avih</span></div><div class="line" id="013017"><span class="nick" style="color:#389600"><a href="#013017" label="[01:30:17]">&lt;aggi&gt;</a></span><span class="message">i tried different kernel versions 2.4.37.11 (seyko2), and 2.4.26 (Bellard's version for tccboot); both crash at the same spot, when sti is called, set interrupt flag, bam..</span></div><div class="line" id="013053"><span class="nick" style="color:#8dd3c7"><a href="#013053" label="[01:30:53]">&lt;avih&gt;</a></span><span class="message">that's not what i asked. i asked about different tcc versions, not different kernel versions</span></div><div class="line" id="013109"><span class="nick" style="color:#389600"><a href="#013109" label="[01:31:09]">&lt;aggi&gt;</a></span><span class="message">2.4.26 is interesting, because that's the one Bellard chose, and i grabbed his tccboot.iso, which does compile/boot (although i didn't check each individual file yet, if these really are identical)</span></div><div class="line" id="013123"><span class="nick" style="color:#389600"><a href="#013123" label="[01:31:23]">&lt;aggi&gt;</a></span><span class="message">avih: moment... yes, tcc-version too differs</span></div><div class="line" id="013214"><span class="nick" style="color:#389600"><a href="#013214" label="[01:32:14]">&lt;aggi&gt;</a></span><span class="message">i am on tcc mob branch, 95aab7d68723b9aed4d8fc36e4c4e6d5042ae56e, Sat Mar 18 14:02:52 2023 +0100</span></div><div class="line" id="013247"><span class="nick" style="color:#389600"><a href="#013247" label="[01:32:47]">&lt;aggi&gt;</a></span><span class="message">although i wouldn't bet on it's different tcc-compiler version at fault necessarily</span></div><div class="line" id="013313"><span class="nick" style="color:#389600"><a href="#013313" label="[01:33:13]">&lt;aggi&gt;</a></span><span class="message">avih: because, my recent tcc-version, does compile and link the kernel image, which does boot, and crashes at the mentioned spot</span></div><div class="line" id="013340"><span class="nick" style="color:#8dd3c7"><a href="#013340" label="[01:33:40]">&lt;avih&gt;</a></span><span class="message">right</span></div><div class="line" id="013412"><span class="nick" style="color:#8dd3c7"><a href="#013412" label="[01:34:12]">&lt;avih&gt;</a></span><span class="message">(that commit is a fix to an issue which i reported few days earlier)</span></div><div class="line" id="013624"><span class="nick" style="color:#8dd3c7"><a href="#013624" label="[01:36:24]">&lt;avih&gt;</a></span><span class="message">aggi: also, if you identified a specific asm/whatever which you think tcc handles incorrectly, you can report it to the ML</span></div><div class="line" id="013701"><span class="nick" style="color:#389600"><a href="#013701" label="[01:37:01]">&lt;aggi&gt;</a></span><span class="message">avih: i have no clue yet, why an almost trivial asm call crashes the kernel, in this case, setting the interrupt flag</span></div><div class="line" id="013751"><span class="nick" style="color:#389600"><a href="#013751" label="[01:37:51]">&lt;aggi&gt;</a></span><span class="message">and i think, it's not necessarily an asm related issue (whickly changed the macro to __asm__ __volatile__(&quot;sti&quot;)... same fault)</span></div><div class="line" id="013847"><span class="nick" style="color:#389600"><a href="#013847" label="[01:38:47]">&lt;aggi&gt;</a></span><span class="message">however, i must rule out both, specific kernel version and/or specific tcc-version at fault, hence i'll try bellards version which he had used initially with his own tccboot.iso, which does compile and boot without a crash</span></div><div class="line" id="013913"><span class="nick" style="color:#389600"><a href="#013913" label="[01:39:13]">&lt;aggi&gt;</a></span><span class="message">however, he did use tccboot itself, while i boot a tcc-pre-compiled vmlinuz</span></div><div class="line" id="013916"><span class="nick" style="color:#389600"><a href="#013916" label="[01:39:16]">&lt;aggi&gt;</a></span><span class="message">really nasty</span></div><div class="line" id="014002"><span class="nick" style="color:#389600"><a href="#014002" label="[01:40:02]">&lt;aggi&gt;</a></span><span class="message">i may give fiwix a try too... and see what happens</span></div><div class="line" id="014025"><span class="nick" style="color:#8dd3c7"><a href="#014025" label="[01:40:25]">&lt;avih&gt;</a></span><span class="message">anyway, i'm off. night and gl</span></div><div class="line" id="014253"><span class="nick" style="color:#389600"><a href="#014253" label="[01:42:53]">&lt;aggi&gt;</a></span><span class="message">i take good luck as an offense in this case</span></div><div class="line" id="014336"><span class="nick" style="color:#389600"><a href="#014336" label="[01:43:36]">&lt;aggi&gt;</a></span><span class="message">because, luck is unrelated to what the problem is; it's not a lottery ticket to bet on</span></div><div class="line" id="014409"><span class="nick" style="color:#389600"><a href="#014409" label="[01:44:09]">&lt;aggi&gt;</a></span><span class="message">anyway, gn</span></div><div class="line" id="023609"><span class="nick" style="color:#389600"><a href="#023609" label="[02:36:09]">&lt;aggi&gt;</a></span><span class="message">another side-effect, since i replaced Kbuild with custom scripting, i can hook into both gcc-4.7 and tcc identically... to rule out any problem with this</span></div><div class="line" id="023656"><span class="nick" style="color:#389600"><a href="#023656" label="[02:36:56]">&lt;aggi&gt;</a></span><span class="message">and replacing CC=tcc with CC=i686-tcc  does work; the kernel doesn't crash then; and there's some weird symbol-resolving/linking issue involved too</span></div><div class="line" id="023733"><span class="nick" style="color:#389600"><a href="#023733" label="[02:37:33]">&lt;aggi&gt;</a></span><span class="message">which is tcc complains about duplicated symbols, and gcc-4.7 doesn't link correctly with -O0, it does need -O2 for an unknown reasons, otherwise symbols aren't found while linking... strange</span></div><div class="line" id="023736"><span class="nick" style="color:#389600"><a href="#023736" label="[02:37:36]">&lt;aggi&gt;</a></span><span class="message">anyhow</span></div><div class="line" id="023856"><span class="nick" style="color:#389600"><a href="#023856" label="[02:38:56]">&lt;aggi&gt;</a></span><span class="message">i'll do something else next... copying over all kernel-source files from Bellard's tccboot.iso into the kernel-tree of the exact same version and tccboot-patches... and then diffing this, if i missed something</span></div><div class="line" id="023946"><span class="nick" style="color:#389600"><a href="#023946" label="[02:39:46]">&lt;aggi&gt;</a></span><span class="message">and i think, there's some iregularity involved with the presence of APIC support or none, if and when kernel crashes with &quot;unable to handle kernel paging request&quot;...</span></div><div class="line" id="024038"><span class="nick" style="color:#389600"><a href="#024038" label="[02:40:38]">&lt;aggi&gt;</a></span><span class="message">it's strange nonetheless, an exact same kconfig/build.sh scripting succeeds with gcc, and fails with tcc; while tcc reports zero warnings/problems while compiling/linking</span></div><div class="line" id="024107"><span class="nick" style="color:#389600"><a href="#024107" label="[02:41:07]">&lt;aggi&gt;</a></span><span class="message">hence i suspect, it may be some linking/symbol-resolving issue with tcc, to link the kernel</span></div><div class="line" id="024131"><span class="nick" style="color:#389600"><a href="#024131" label="[02:41:31]">&lt;aggi&gt;</a></span><span class="message">i remember, susematz, who hacked linux-4.6 for compilation with tcc, he mentioned tcc missed some linking support...</span></div><div class="line" id="024226"><span class="nick" style="color:#389600"><a href="#024226" label="[02:42:26]">&lt;aggi&gt;</a></span><span class="message">however i could compile and link a vmlinux image with CC=i386-tcc, which does bootload and spawn init/main as it should, just like the variant with gcc</span></div><div class="line" id="024231"><span class="nick" style="color:#389600"><a href="#024231" label="[02:42:31]">&lt;aggi&gt;</a></span><span class="message">the former crashes, the latter doesn't</span></div><div class="line" id="024545"><span class="nick" style="color:#389600"><a href="#024545" label="[02:45:45]">&lt;aggi&gt;</a></span><span class="message">*and replacing CC=i386-tcc with CC=i686-gcc does work... typo</span></div><div class="line" id="024552"><span class="nick" style="color:#389600"><a href="#024552" label="[02:45:52]">&lt;aggi&gt;</a></span><span class="message">anyway</span></div><div class="line" id="030512"><span class="nick" style="color:#389600"><a href="#030512" label="[03:05:12]">&lt;aggi&gt;</a></span><span class="message">allright, that's interesting too... when enabled APIC support, the asm sti call doesn't crash the kernel with CC=i386-tcc, but it's then stuck again in &quot;Calibrating dealy loop...&quot;</span></div><div class="line" id="030552"><span class="nick" style="color:#389600"><a href="#030552" label="[03:05:52]">&lt;aggi&gt;</a></span><span class="message">it's merely a symptom, bellards tccboot.iso doesn't use apic and doesn't crash, and with CC=gcc no crash or block either</span></div><div class="line" id="032411"><span class="nick" style="color:#2e2a4a"><a href="#032411" label="[03:24:11]">&lt;oriansj&gt;</a></span><span class="message">well I think we can safely say the pinnacle of microcode'd processors have finally been reached: <a rel="nofollow" href="http://mynor.org/my4th">http://mynor.org/my4th</a> </span></div><div class="line" id="032517"><span class="nick" style="color:#2e2a4a"><a href="#032517" label="[03:25:17]">&lt;oriansj&gt;</a></span><span class="message">a single XOR gate for an ALU and everything else effectively in the EEPROM</span></div><div class="line" id="032548"><span class="nick" style="color:#2e2a4a"><a href="#032548" label="[03:25:48]">&lt;oriansj&gt;</a></span><span class="message">*correction NOR gate*</span></div><div class="line" id="044458"><span class="nick" style="color:#389600"><a href="#044458" label="[04:44:58]">&lt;aggi&gt;</a></span><span class="message">i think it's some issue related to interrupts...</span></div><div class="line" id="044955"><span class="nick" style="color:#389600"><a href="#044955" label="[04:49:55]">&lt;aggi&gt;</a></span><span class="message">and, diffed Bellard's kernel-sources with his tccboot patch against the sources i compiled ... no difference</span></div><div class="line" id="045550"><span class="nick" style="color:#389600"><a href="#045550" label="[04:55:50]">&lt;aggi&gt;</a></span><span class="message">except, kstart.S... i'll give that a try.. it's the only difference</span></div><div class="line" id="050258"><span class="nick" style="color:#389600"><a href="#050258" label="[05:02:58]">&lt;aggi&gt;</a></span><span class="message">and i suspect, the tccboot sequence, which compiles kernel JIT, behaves differently</span></div><div class="line" id="050346"><span class="nick" style="color:#389600"><a href="#050346" label="[05:03:46]">&lt;aggi&gt;</a></span><span class="message">i'm not interested in the JIT part, and it could be, it's necessary to use that, which i don't want to</span></div><div class="line" id="050542"><span class="nick" style="color:#6b8072"><a href="#050542" label="[05:05:42]">&lt;fossy&gt;</a></span><span class="message">aggi, are you using qemu?</span></div><div class="line" id="050714"><span class="nick" style="color:#389600"><a href="#050714" label="[05:07:14]">&lt;aggi&gt;</a></span><span class="message">fossy: no</span></div><div class="line" id="050735"><span class="nick" style="color:#389600"><a href="#050735" label="[05:07:35]">&lt;aggi&gt;</a></span><span class="message">but i can confirm, Bellards original tccboot.iso which i diff and bisect against, does boot, on real hardware</span></div><div class="line" id="050748"><span class="nick" style="color:#6b8072"><a href="#050748" label="[05:07:48]">&lt;fossy&gt;</a></span><span class="message">what are you testing your kernel on</span></div><div class="line" id="050754"><span class="nick" style="color:#389600"><a href="#050754" label="[05:07:54]">&lt;aggi&gt;</a></span><span class="message">and that's another suspicion i have... include/asm-i386/hw_irq.h which too is patched by Bellard</span></div><div class="line" id="050818"><span class="nick" style="color:#389600"><a href="#050818" label="[05:08:18]">&lt;aggi&gt;</a></span><span class="message">fossy: an old laptop, which is fine, and unrelated to the problem, because Bellards original tccboot.iso does work</span></div><div class="line" id="050827"><span class="nick" style="color:#6b8072"><a href="#050827" label="[05:08:27]">&lt;fossy&gt;</a></span><span class="message">yep, i see</span></div><div class="line" id="050839"><span class="nick" style="color:#389600"><a href="#050839" label="[05:08:39]">&lt;aggi&gt;</a></span><span class="message">i am not sure, why the kernel i compiled crashes, although kconf/sources/patches are identical</span></div><div class="line" id="050858"><span class="nick" style="color:#6b8072"><a href="#050858" label="[05:08:58]">&lt;fossy&gt;</a></span><span class="message">i was going to say diffing memory dumps from qemu with crash/nocrash versions may help</span></div><div class="line" id="050908"><span class="nick" style="color:#389600"><a href="#050908" label="[05:09:08]">&lt;aggi&gt;</a></span><span class="message">one difference remaining... the boot sequence itself (i am not using tccboot), and a different tcc compiler version</span></div><div class="line" id="050946"><span class="nick" style="color:#389600"><a href="#050946" label="[05:09:46]">&lt;aggi&gt;</a></span><span class="message">fossy: difficult, because then i had to test tccboot sequence itself, which i wanted to avoid for now, because it complicates and increases the amount of test cases further</span></div><div class="line" id="050956"><span class="nick" style="color:#6b8072"><a href="#050956" label="[05:09:56]">&lt;fossy&gt;</a></span><span class="message">fair enough</span></div><div class="line" id="051009"><span class="nick" style="color:#389600"><a href="#051009" label="[05:10:09]">&lt;aggi&gt;</a></span><span class="message">and, i narrowed down the problem, to an IRQ handling related issue, with high certainty</span></div><div class="line" id="051056"><span class="nick" style="color:#389600"><a href="#051056" label="[05:10:56]">&lt;aggi&gt;</a></span><span class="message">i am not sure how a trivial sti asm call could trigger a crash</span></div><div class="line" id="051118"><span class="nick" style="color:#389600"><a href="#051118" label="[05:11:18]">&lt;aggi&gt;</a></span><span class="message">which is done in init/main: sti(); bam...</span></div><div class="line" id="051139"><span class="nick" style="color:#389600"><a href="#051139" label="[05:11:39]">&lt;aggi&gt;</a></span><span class="message">if i uncomment this part, again, an irq related issue in __delay, calibration loop</span></div><div class="line" id="051154"><span class="nick" style="color:#389600"><a href="#051154" label="[05:11:54]">&lt;aggi&gt;</a></span><span class="message">that's rather consistent, this symptom... question remains why</span></div><div class="line" id="051557"><span class="nick" style="color:#389600"><a href="#051557" label="[05:15:57]">&lt;aggi&gt;</a></span><span class="message">because, with the exact same build-system (removed all kbuild), gcc-compiled vmlinuz boots, and does not crash</span></div><div class="line" id="051614"><span class="nick" style="color:#389600"><a href="#051614" label="[05:16:14]">&lt;aggi&gt;</a></span><span class="message">could be an internal macro or something</span></div><div class="line" id="051657"><span class="nick" style="color:#389600"><a href="#051657" label="[05:16:57]">&lt;aggi&gt;</a></span><span class="message">too i tried this: compiling with tcc, and linking with gcc... crashes; so something goes wrong in the compilation phase, surrounding IRQ/asm, i suspect</span></div><div class="line" id="051706"><span class="nick" style="color:#389600"><a href="#051706" label="[05:17:06]">&lt;aggi&gt;</a></span><span class="message">what... remains a mystery</span></div><div class="line" id="051839"><span class="nick" style="color:#389600"><a href="#051839" label="[05:18:39]">&lt;aggi&gt;</a></span><span class="message">because, i tried the exact same sources and konfig that bellard had used, with the only differences remaining, the tccbootloader compiling JIT, and the tcc-compiler version, mine is almost 20 years newer</span></div><div class="line" id="062726"><span class="nick" style="color:#389600"><a href="#062726" label="[06:27:26]">&lt;aggi&gt;</a></span><span class="message">ok, i need to test an older version of tcc-compiler, the one bellard used 20 years ago</span></div><div class="line" id="063733"><span class="nick" style="color:#389600"><a href="#063733" label="[06:37:33]">&lt;aggi&gt;</a></span><span class="message">another problem, the tccboot.iso Bellard provided is from year 2004 - and the compiler version from Bellard, that he used for tccboot, there isn't any source-bundle.tar.gz which matches this version</span></div><div class="line" id="063745"><span class="nick" style="color:#389600"><a href="#063745" label="[06:37:45]">&lt;aggi&gt;</a></span><span class="message">so, i have to guess, which one in the git repository is the one</span></div><div class="line" id="064543"><span class="nick" style="color:#389600"><a href="#064543" label="[06:45:43]">&lt;aggi&gt;</a></span><span class="message">amazing, the closest release tag release_0_9_22 was made _after_ he had released tccboot.iso, and in between the preceeding release tag there is almost one year of potential commits, year 2004</span></div><div class="line" id="064908"><span class="nick" style="color:#389600"><a href="#064908" label="[06:49:08]">&lt;aggi&gt;</a></span><span class="message">there's two ways to find out: either throwing a _new_ tcc-compiler version into tccboot.iso for JIT, or pre-compiling vmlinux with the old-version</span></div><div class="line" id="064935"><span class="nick" style="color:#389600"><a href="#064935" label="[06:49:35]">&lt;aggi&gt;</a></span><span class="message">it's probably easier, to throw in the new tcc-compiler version onto his old tccboot.iso, and then see what happens...</span></div><div class="line" id="065508"><span class="nick" style="color:#389600"><a href="#065508" label="[06:55:08]">&lt;aggi&gt;</a></span><span class="message">in either case, if tccboot fails then i have to bisect tcc-compiler-versions, and if the new tcc-compiler version passes on the old tccboot.iso then i have to diff tccboot.iso JIT sequence against the pre-compiled vmlinux image</span></div><div class="line" id="065519"><span class="nick" style="color:#389600"><a href="#065519" label="[06:55:19]">&lt;aggi&gt;</a></span><span class="message">which is both, complicated</span></div><div class="line" id="065819"><span class="nick" style="color:#80b1d3"><a href="#065819" label="[06:58:19]">&lt;muurkha&gt;</a></span><span class="message">this is exciting, aggi!</span></div><div class="line" id="070037"><span class="nick" style="color:#389600"><a href="#070037" label="[07:00:37]">&lt;aggi&gt;</a></span><span class="message">just decided, it's easier to test an older tcc-compiler with vmlinux pre-compilation, which i got stabilzed scripting for already</span></div><div class="line" id="070135"><span class="nick" style="color:#389600"><a href="#070135" label="[07:01:35]">&lt;aggi&gt;</a></span><span class="message">i'll just pick the release tag release_0_9_22 and another commit candidate matching the date of tccboot.iso closely</span></div><div class="line" id="231640"><span class="nick" style="color:#389600"><a href="#231640" label="[23:16:40]">&lt;aggi&gt;</a></span><span class="message">allright, digged out an old version of tcc (v0.9.21/v0.9.22/...) testing</span></div><div class="line" id="231713"><span class="nick" style="color:#389600"><a href="#231713" label="[23:17:13]">&lt;aggi&gt;</a></span><span class="message">and one interesting blocker popped up already, the i8259.c source file errors when compiling with an old version... which is... the interrupt controller</span></div><div class="line" id="231800"><span class="nick" style="color:#389600"><a href="#231800" label="[23:18:00]">&lt;aggi&gt;</a></span><span class="message">although, a most recent tcc compiler version didn't complain, the older ones can't digest a macro inside... so...</span></div><div class="line" id="231818"><span class="nick" style="color:#389600"><a href="#231818" label="[23:18:18]">&lt;aggi&gt;</a></span><span class="message">and this is what i could track down problems with recently... interrupt handling</span></div><div class="line" id="231945"><span class="nick" style="color:#389600"><a href="#231945" label="[23:19:45]">&lt;aggi&gt;</a></span><span class="message">the old compilers can't digest some macro, and the new tcc-version does process the macro, but the generated interrupt handling code may be flawed...</span></div><div class="line" id="232023"><span class="nick" style="color:#389600"><a href="#232023" label="[23:20:23]">&lt;aggi&gt;</a></span><span class="message">so, i may try this next... preprocess this macro with gcc... dump it inside i8259.c... and hope for this doesn't crash anymore</span></div><div class="line" id="232106"><span class="nick" style="color:#389600"><a href="#232106" label="[23:21:06]">&lt;aggi&gt;</a></span><span class="message">another pecularity with tinycc.git repository, I picked the last commit before/when tccboot.iso was released by Bellard, year 2004</span></div><div class="line" id="232137"><span class="nick" style="color:#389600"><a href="#232137" label="[23:21:37]">&lt;aggi&gt;</a></span><span class="message">however, this commit does mis a change, which was added to the repository one day _after_ tccboot.iso was released</span></div><div class="line" id="232229"><span class="nick" style="color:#389600"><a href="#232229" label="[23:22:29]">&lt;aggi&gt;</a></span><span class="message">so, it's a lucky guess, which commit to pick... and even tcc-0.9.22 tagged one year _after_ tccboot.iso was stamped, didn't digest i8259.c source inside linux-2.4.x</span></div><div class="line" id="232238"><span class="nick" style="color:#389600"><a href="#232238" label="[23:22:38]">&lt;aggi&gt;</a></span><span class="message">really weird... so... what's going on with this?</span></div><div class="line" id="234321"><span class="nick" style="color:#389600"><a href="#234321" label="[23:43:21]">&lt;aggi&gt;</a></span><span class="message">it is several questions: why/how tcc-compiler versions aren't identified or don't match with what's available on tccboot.iso?</span></div><div class="line" id="234520"><span class="nick" style="color:#389600"><a href="#234520" label="[23:45:20]">&lt;aggi&gt;</a></span><span class="message">because, although it said 0.9.21 which is the version label on tccboot.iso - this compiler version fails - even 0.9.22 does with i8259.c source file</span></div><div class="line" id="234540"><span class="nick" style="color:#389600"><a href="#234540" label="[23:45:40]">&lt;aggi&gt;</a></span><span class="message">could be it is some header and/or #define mismatch</span></div><div class="line" id="235855"><span class="nick" style="color:#389600"><a href="#235855" label="[23:58:55]">&lt;aggi&gt;</a></span><span class="message">and next, what's wrong with the tcc-preprocessor and/or tcc-assembler;</span></div><div class="line" id="235946"><span class="nick" style="color:#389600"><a href="#235946" label="[23:59:46]">&lt;aggi&gt;</a></span><span class="message">i'll try something else next... compile/link/assemble i8259.c with i686-gcc, and the rest with tcc, and then see if this errors at init_IRQ</span></div><br /></div></body></html>