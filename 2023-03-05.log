<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2023-03-05.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="004630"><span class="nick" style="color:#389600"><a href="#004630" label="[00:46:30]">&lt;stikonas&gt;</a></span><span class="message">fossy: do you remember why dist does not install into DESTDIR?</span></div><div class="line" id="004644"><span class="nick" style="color:#389600"><a href="#004644" label="[00:46:44]">&lt;stikonas&gt;</a></span><span class="message">I guess we should change that</span></div><div class="line" id="004950"><span class="nick" style="color:#8dd3c7"><a href="#004950" label="[00:49:50]">&lt;fossy&gt;</a></span><span class="message">oversight ;)</span></div><div class="line" id="010750"><span class="nick" style="color:#2e2a4a"><a href="#010750" label="[01:07:50]">&lt;pder&gt;</a></span><span class="message">stikonas: I believe you might need to do grep -h or grep --no-filename with that grep command using run*.sh</span></div><div class="line" id="010829"><span class="nick" style="color:#2e2a4a"><a href="#010829" label="[01:08:29]">&lt;pder&gt;</a></span><span class="message">Otherwise you will iterate over names like run.sh:bash-5.2.15</span></div><div class="line" id="010904"><span class="nick" style="color:#389600"><a href="#010904" label="[01:09:04]">&lt;stikonas&gt;</a></span><span class="message">hmm, how did it work before?</span></div><div class="line" id="010914"><span class="nick" style="color:#389600"><a href="#010914" label="[01:09:14]">&lt;stikonas&gt;</a></span><span class="message">or ir didn't?</span></div><div class="line" id="010936"><span class="nick" style="color:#2e2a4a"><a href="#010936" label="[01:09:36]">&lt;pder&gt;</a></span><span class="message">when you specify only one file grep doesnt prefix the results with the filename, but with multiple files it does</span></div><div class="line" id="010956"><span class="nick" style="color:#389600"><a href="#010956" label="[01:09:56]">&lt;stikonas&gt;</a></span><span class="message">oh I see</span></div><div class="line" id="011049"><span class="nick" style="color:#389600"><a href="#011049" label="[01:10:49]">&lt;stikonas&gt;</a></span><span class="message">ok, at least that old grep still has this option</span></div><div class="line" id="011158"><span class="nick" style="color:#389600"><a href="#011158" label="[01:11:58]">&lt;stikonas&gt;</a></span><span class="message">pder: fixed</span></div><div class="line" id="011309"><span class="nick" style="color:#2e2a4a"><a href="#011309" label="[01:13:09]">&lt;pder&gt;</a></span><span class="message">cool, thanks.  how much disk space is actually used at the end of sysa?</span></div><div class="line" id="011346"><span class="nick" style="color:#2e2a4a"><a href="#011346" label="[01:13:46]">&lt;pder&gt;</a></span><span class="message">or ram drive space</span></div><div class="line" id="011348"><span class="nick" style="color:#389600"><a href="#011348" label="[01:13:48]">&lt;stikonas&gt;</a></span><span class="message">pder: I haven't checked...</span></div><div class="line" id="011400"><span class="nick" style="color:#389600"><a href="#011400" label="[01:14:00]">&lt;stikonas&gt;</a></span><span class="message">pder: you can insert bash command at the end and check</span></div><div class="line" id="011408"><span class="nick" style="color:#389600"><a href="#011408" label="[01:14:08]">&lt;stikonas&gt;</a></span><span class="message">now bash is interactive</span></div><div class="line" id="011430"><span class="nick" style="color:#389600"><a href="#011430" label="[01:14:30]">&lt;stikonas&gt;</a></span><span class="message">I think the maximum usage is just after linux linking stage</span></div><div class="line" id="011445"><span class="nick" style="color:#389600"><a href="#011445" label="[01:14:45]">&lt;stikonas&gt;</a></span><span class="message">so if you add &quot;bash&quot; at the end of src_compile</span></div><div class="line" id="011502"><span class="nick" style="color:#389600"><a href="#011502" label="[01:15:02]">&lt;stikonas&gt;</a></span><span class="message">then mount /proc</span></div><div class="line" id="011513"><span class="nick" style="color:#389600"><a href="#011513" label="[01:15:13]">&lt;stikonas&gt;</a></span><span class="message">and then you could take a look at /proc/meminfo</span></div><div class="line" id="115645"><span class="nick" style="color:#389600"><a href="#115645" label="[11:56:45]">&lt;stikonas&gt;</a></span><span class="message">fossy: do we want to keep independent .env files for sysa and sysc?</span></div><div class="line" id="115721"><span class="nick" style="color:#389600"><a href="#115721" label="[11:57:21]">&lt;stikonas&gt;</a></span><span class="message">some variables are changing, so if we transfer it, we would have to source it, update some variables and reexport</span></div><div class="line" id="115744"><span class="nick" style="color:#389600"><a href="#115744" label="[11:57:44]">&lt;stikonas&gt;</a></span><span class="message">so not sure whether it's worth transferring it</span></div><div class="line" id="161034"><span class="nick" style="color:#6b8072"><a href="#161034" label="[16:10:34]">&lt;muurkha&gt;</a></span><span class="message"> <a rel="nofollow" href="https://riscv.org/blog/2022/10/deepcomputing-and-xcalibyte-announce-the-roma-laptop-will-be-powered-by-th1520-the-first-soc-from-wujian-600s-platform-by-alibaba-t-head-xcalibyte/">https://riscv.org/blog/2022/10/deepcomputing-and-xcalibyte-announce-the-roma-laptop-will-be-powered-by-th1520-the-first-soc-from-wujian-600s-platform-by-alibaba-t-head-xcalibyte/</a> </span></div><div class="line" id="175141"><span class="nick" style="color:#80b1d3"><a href="#175141" label="[17:51:41]">&lt;gforce_de1977&gt;</a></span><span class="message">hi there, i just opened <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/issues/256">https://github.com/fosslinux/live-bootstrap/issues/256</a>  - any hints for a ready-to-run-kernel or a build-receipt?</span></div><div class="line" id="175552"><span class="nick" style="color:#6d2462"><a href="#175552" label="[17:55:52]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: the new bash is raising new kernel bootstrap issues.</span></div><div class="line" id="175609"><span class="nick" style="color:#389600"><a href="#175609" label="[17:56:09]">&lt;stikonas&gt;</a></span><span class="message">rickmasters: oh :(</span></div><div class="line" id="175620"><span class="nick" style="color:#389600"><a href="#175620" label="[17:56:20]">&lt;stikonas&gt;</a></span><span class="message">maybe we need to revert then...</span></div><div class="line" id="175620"><span class="nick" style="color:#6d2462"><a href="#175620" label="[17:56:20]">&lt;rickmasters&gt;</a></span><span class="message">sitkonas: I'm looking forward to post-integration when the impact of these changes can be more easily assessed.</span></div><div class="line" id="175643"><span class="nick" style="color:#80b1d3"><a href="#175643" label="[17:56:43]">&lt;gforce_de1977&gt;</a></span><span class="message">hi rickmasters - a see <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/253">https://github.com/fosslinux/live-bootstrap/pull/253</a>  - so my-kernel question seems obsolete - thanks for this!</span></div><div class="line" id="175732"><span class="nick" style="color:#389600"><a href="#175732" label="[17:57:32]">&lt;stikonas&gt;</a></span><span class="message">gforce_de1977: unbz2 is missing in your run, did you update submodules?</span></div><div class="line" id="175757"><span class="nick" style="color:#389600"><a href="#175757" label="[17:57:57]">&lt;stikonas&gt;</a></span><span class="message">rickmasters: yeah, once it is integrated, it will be easier to make those changes</span></div><div class="line" id="175758"><span class="nick" style="color:#80b1d3"><a href="#175758" label="[17:57:58]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: sorry - let me double check this</span></div><div class="line" id="175811"><span class="nick" style="color:#389600"><a href="#175811" label="[17:58:11]">&lt;stikonas&gt;</a></span><span class="message">rickmasters: do you have any details of what is going wrong with new bash?</span></div><div class="line" id="175850"><span class="nick" style="color:#389600"><a href="#175850" label="[17:58:50]">&lt;stikonas&gt;</a></span><span class="message">rickmasters: if we know what causes it, we could see if there is a version of bash between 2 and 5 that works</span></div><div class="line" id="175910"><span class="nick" style="color:#6d2462"><a href="#175910" label="[17:59:10]">&lt;rickmasters&gt;</a></span><span class="message">It's a few faults in configure resulting in different answers which lead to checksum differences.</span></div><div class="line" id="175919"><span class="nick" style="color:#389600"><a href="#175919" label="[17:59:19]">&lt;stikonas&gt;</a></span><span class="message">oh, that's a minor thing then</span></div><div class="line" id="175936"><span class="nick" style="color:#389600"><a href="#175936" label="[17:59:36]">&lt;stikonas&gt;</a></span><span class="message">should be fixable by forcing the answer to configure tests</span></div><div class="line" id="175941"><span class="nick" style="color:#6d2462"><a href="#175941" label="[17:59:41]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: the first is that divide by zero is not producing SIGFPE</span></div><div class="line" id="180042"><span class="nick" style="color:#6d2462"><a href="#180042" label="[18:00:42]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: Page Fault after: checking for presence of POSIX-style sigsetjmp/siglongjmp...</span></div><div class="line" id="180049"><span class="nick" style="color:#389600"><a href="#180049" label="[18:00:49]">&lt;stikonas&gt;</a></span><span class="message">I guess once we start using autotools, we should expect reproducibility issues with different kernels  :(</span></div><div class="line" id="180102"><span class="nick" style="color:#80b1d3"><a href="#180102" label="[18:01:02]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: just, updating the submodules fixes it - sorry for the noise, i closed the report in github</span></div><div class="line" id="180103"><span class="nick" style="color:#6d2462"><a href="#180103" label="[18:01:03]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: Page Fault after: checking if signal handlers must be reinstalled when invoked...</span></div><div class="line" id="180130"><span class="nick" style="color:#6d2462"><a href="#180130" label="[18:01:30]">&lt;rickmasters&gt;</a></span><span class="message">gforce_de1977: no worries. glad your ok</span></div><div class="line" id="180142"><span class="nick" style="color:#6d2462"><a href="#180142" label="[18:01:42]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: that's it</span></div><div class="line" id="180155"><span class="nick" style="color:#389600"><a href="#180155" label="[18:01:55]">&lt;stikonas&gt;</a></span><span class="message">hmm, do you think it's possible to workaround those then?</span></div><div class="line" id="180204"><span class="nick" style="color:#389600"><a href="#180204" label="[18:02:04]">&lt;stikonas&gt;</a></span><span class="message">or do you want me to change something with bash then</span></div><div class="line" id="180255"><span class="nick" style="color:#6d2462"><a href="#180255" label="[18:02:55]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: I'm not sure how much work these are yet</span></div><div class="line" id="180317"><span class="nick" style="color:#389600"><a href="#180317" label="[18:03:17]">&lt;stikonas&gt;</a></span><span class="message">ok, let me know if you see that it's a lot of work...</span></div><div class="line" id="180334"><span class="nick" style="color:#389600"><a href="#180334" label="[18:03:34]">&lt;stikonas&gt;</a></span><span class="message">my initial goal was to get to as new autotools as possible</span></div><div class="line" id="180401"><span class="nick" style="color:#389600"><a href="#180401" label="[18:04:01]">&lt;stikonas&gt;</a></span><span class="message">but then I realized it's getting very hard to build binutils newer than 2.30</span></div><div class="line" id="180426"><span class="nick" style="color:#389600"><a href="#180426" label="[18:04:26]">&lt;stikonas&gt;</a></span><span class="message">and 2.30 does not yet need automake 1.16 (which needed newer bash than 2.05b)</span></div><div class="line" id="180540"><span class="nick" style="color:#389600"><a href="#180540" label="[18:05:40]">&lt;stikonas&gt;</a></span><span class="message">gforce_de1977: yes, soon we won't need a pre-built kernel in live-bootstrap</span></div><div class="line" id="180557"><span class="nick" style="color:#389600"><a href="#180557" label="[18:05:57]">&lt;stikonas&gt;</a></span><span class="message">but we are still not quite yet there, though getting fairly close</span></div><div class="line" id="180558"><span class="nick" style="color:#6d2462"><a href="#180558" label="[18:05:58]">&lt;rickmasters&gt;</a></span><span class="message">And the reason for doing it in sysa was to get bash interactivity as soon as possible?</span></div><div class="line" id="180625"><span class="nick" style="color:#389600"><a href="#180625" label="[18:06:25]">&lt;stikonas&gt;</a></span><span class="message">rickmasters: no, see that automake stuff</span></div><div class="line" id="180629"><span class="nick" style="color:#389600"><a href="#180629" label="[18:06:29]">&lt;stikonas&gt;</a></span><span class="message">automake needs newer bash</span></div><div class="line" id="180636"><span class="nick" style="color:#389600"><a href="#180636" label="[18:06:36]">&lt;stikonas&gt;</a></span><span class="message">I thought we'll be able to update more stuff</span></div><div class="line" id="180648"><span class="nick" style="color:#389600"><a href="#180648" label="[18:06:48]">&lt;stikonas&gt;</a></span><span class="message">thoguh interactivity is also a plus</span></div><div class="line" id="180653"><span class="nick" style="color:#6d2462"><a href="#180653" label="[18:06:53]">&lt;rickmasters&gt;</a></span><span class="message">ok</span></div><div class="line" id="180708"><span class="nick" style="color:#389600"><a href="#180708" label="[18:07:08]">&lt;stikonas&gt;</a></span><span class="message">but if we just want interactivity, I could rebuild bash 2.05b too with musl</span></div><div class="line" id="180715"><span class="nick" style="color:#389600"><a href="#180715" label="[18:07:15]">&lt;stikonas&gt;</a></span><span class="message">but I'm not sure if that would help</span></div><div class="line" id="180733"><span class="nick" style="color:#389600"><a href="#180733" label="[18:07:33]">&lt;stikonas&gt;</a></span><span class="message">your issues might be there too (caused by differences in autotools on different kernels)</span></div><div class="line" id="180746"><span class="nick" style="color:#389600"><a href="#180746" label="[18:07:46]">&lt;stikonas&gt;</a></span><span class="message">gforce_de1977: by the way, you need 32-bit kernel, 64-bit kernel won't work</span></div><div class="line" id="180810"><span class="nick" style="color:#389600"><a href="#180810" label="[18:08:10]">&lt;stikonas&gt;</a></span><span class="message">you'll be able to run sysa on 64-bit kernel but the transition with kexec won't work</span></div><div class="line" id="180953"><span class="nick" style="color:#6d2462"><a href="#180953" label="[18:09:53]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: forcing the answer to configure tests sound easier than kernel debugging. Any hints on how I can try that?</span></div><div class="line" id="181031"><span class="nick" style="color:#389600"><a href="#181031" label="[18:10:31]">&lt;stikonas&gt;</a></span><span class="message">something like <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/blob/master/sysa/binutils-2.30/binutils-2.30.sh#L83">https://github.com/fosslinux/live-bootstrap/blob/master/sysa/binutils-2.30/binutils-2.30.sh#L83</a> </span></div><div class="line" id="181052"><span class="nick" style="color:#389600"><a href="#181052" label="[18:10:52]">&lt;stikonas&gt;</a></span><span class="message">you basically just pass it to ./configure script</span></div><div class="line" id="181411"><span class="nick" style="color:#389600"><a href="#181411" label="[18:14:11]">&lt;stikonas&gt;</a></span><span class="message">I suppose ./configure system environment autodetection is a bit at odds with reproducibility in general</span></div><div class="line" id="181715"><span class="nick" style="color:#389600"><a href="#181715" label="[18:17:15]">&lt;stikonas&gt;</a></span><span class="message">we should be fine with libc and userspace tests but once they start testing kernel features we are in trouble</span></div><div class="line" id="182553"><span class="nick" style="color:#6b8072"><a href="#182553" label="[18:25:53]">&lt;muurkha&gt;</a></span><span class="message">the reason the TH1520 is interesting is that it's a fully open-source RISC-V implementation which can evidently deliver fairly reasonable performance when implemented in a modern process (2.4 GHz in 12nm in this case)</span></div><div class="line" id="183242"><span class="nick" style="color:#6b8072"><a href="#183242" label="[18:32:42]">&lt;muurkha&gt;</a></span><span class="message">oh hey, here's the blog post: <a rel="nofollow" href="http://web.archive.org/web/20221016063724/https://riscv.org/blog/2022/10/deepcomputing-and-xcalibyte-announce-the-roma-laptop-will-be-powered-by-th1520-the-first-soc-from-wujian-600s-platform-by-alibaba-t-head-xcalibyte/">http://web.archive.org/web/20221016063724/https://riscv.org/blog/2022/10/deepcomputing-and-xcalibyte-announce-the-roma-laptop-will-be-powered-by-th1520-the-first-soc-from-wujian-600s-platform-by-alibaba-t-head-xcalibyte/</a> </span></div><div class="line" id="185525"><span class="nick" style="color:#80b1d3"><a href="#185525" label="[18:55:25]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: is there a known-to-work-32bit-kernel downloadable somewhere?</span></div><div class="line" id="190305"><span class="nick" style="color:#389600"><a href="#190305" label="[19:03:05]">&lt;stikonas&gt;</a></span><span class="message">I can upload mine</span></div><div class="line" id="190325"><span class="nick" style="color:#389600"><a href="#190325" label="[19:03:25]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://stikonas.eu/files/bootstrap/kernel/kernel32">https://stikonas.eu/files/bootstrap/kernel/kernel32</a> </span></div><div class="line" id="190328"><span class="nick" style="color:#389600"><a href="#190328" label="[19:03:28]">&lt;stikonas&gt;</a></span><span class="message">I think this should work</span></div><div class="line" id="190358"><span class="nick" style="color:#389600"><a href="#190358" label="[19:03:58]">&lt;stikonas&gt;</a></span><span class="message">probably slightly outdated, so just use it for live-bootstrap and not for production</span></div><div class="line" id="190736"><span class="nick" style="color:#80b1d3"><a href="#190736" label="[19:07:36]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: thanks for the kernel, will report</span></div><div class="line" id="192101"><span class="nick" style="color:#6d2462"><a href="#192101" label="[19:21:01]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: I was able to force matching answers for the three obvious configure problems.</span></div><div class="line" id="192119"><span class="nick" style="color:#6d2462"><a href="#192119" label="[19:21:19]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: unfortunately, there is still a checksum mismatch so I'll have to look closer.</span></div><div class="line" id="193021"><span class="nick" style="color:#389600"><a href="#193021" label="[19:30:21]">&lt;stikonas&gt;</a></span><span class="message">maybe yet another configure issue?</span></div><div class="line" id="193512"><span class="nick" style="color:#6d2462"><a href="#193512" label="[19:35:12]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: yes, found one more</span></div><div class="line" id="203358"><span class="nick" style="color:#6d2462"><a href="#203358" label="[20:33:58]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: I've still got an issue. I'm wondering if you could at least hold off on further changes to sysa until I can resolve this.</span></div><div class="line" id="203508"><span class="nick" style="color:#234e69"><a href="#203508" label="[20:35:08]">&lt;stikonas[m]&gt;</a></span><span class="message">Sure</span></div><div class="line" id="203557"><span class="nick" style="color:#234e69"><a href="#203557" label="[20:35:57]">&lt;stikonas[m]&gt;</a></span><span class="message">I'll just push non package change (pass environment variables via file).That wouldn't affect fiwix</span></div><div class="line" id="203604"><span class="nick" style="color:#6d2462"><a href="#203604" label="[20:36:04]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: Thanks. I'm hoping I can work through this soon.</span></div><div class="line" id="203645"><span class="nick" style="color:#234e69"><a href="#203645" label="[20:36:45]">&lt;stikonas[m]&gt;</a></span><span class="message">Yeah, sorry for extra work for you</span></div><div class="line" id="203731"><span class="nick" style="color:#234e69"><a href="#203731" label="[20:37:31]">&lt;stikonas[m]&gt;</a></span><span class="message">Though we updated binutils from 2.14 to 2.30. That will help us longer turn</span></div><div class="line" id="203827"><span class="nick" style="color:#389600"><a href="#203827" label="[20:38:27]">&lt;stikonas&gt;</a></span><span class="message">s/turn/term/</span></div><div class="line" id="205332"><span class="nick" style="color:#6d2462"><a href="#205332" label="[20:53:32]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: don't worry about it. I'll try to review your PRs in advance until integration. I have to step away for a while. Back later.</span></div><div class="line" id="231444"><span class="nick" style="color:#389600"><a href="#231444" label="[23:14:44]">&lt;stikonas&gt;</a></span><span class="message">gforce_de1977: still stuck with mkdir call?</span></div><div class="line" id="231649"><span class="nick" style="color:#389600"><a href="#231649" label="[23:16:49]">&lt;stikonas&gt;</a></span><span class="message">make sure that you don't have unnecessary files in live-bootstrap directory</span></div><div class="line" id="231702"><span class="nick" style="color:#389600"><a href="#231702" label="[23:17:02]">&lt;stikonas&gt;</a></span><span class="message">one thing that might go wrong is that those files will make initramfs image too big</span></div><br /></div></body></html>