<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2024-02-21.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000156"><span class="nick" style="color:#389600"><a href="#000156" label="[00:01:56]">&lt;Googulator&gt;</a></span><span class="message">AFAIK only gentoo-systemd is at this time</span></div><div class="line" id="000204"><span class="nick" style="color:#389600"><a href="#000204" label="[00:02:04]">&lt;Googulator&gt;</a></span><span class="message">regular openrc gentoo is still split-usr</span></div><div class="line" id="081605"><span class="nick" style="color:#8dd3c7"><a href="#081605" label="[08:16:05]">&lt;Guest991&gt;</a></span><span class="message">Hi, After doing git pull, I put img on usb driver and turned on bios, but linux_ 4.14.336 the computer restarts</span></div><div class="line" id="101021"><span class="nick" style="color:#389600"><a href="#101021" label="[10:10:21]">&lt;Googulator&gt;</a></span><span class="message">Guest991: update submodules (and submodules of submodules)</span></div><div class="line" id="101100"><span class="nick" style="color:#389600"><a href="#101100" label="[10:11:00]">&lt;Googulator&gt;</a></span><span class="message">and make sure you aren't building on a system with a wonky memory map (boot a regular kernel and check dmesg for e820)</span></div><div class="line" id="123933"><span class="nick" style="color:#8dd3c7"><a href="#123933" label="[12:39:33]">&lt;Guest991&gt;</a></span><span class="message">Googulator I updated all the files, but it restarts from there</span></div><div class="line" id="142516"><span class="nick" style="color:#8dd3c7"><a href="#142516" label="[14:25:16]">&lt;Guest991&gt;</a></span><span class="message">I installed it again and executed these commands ./download.sh ./rootfs.py -b -a x86 --cores 4 and again the same error on another computer, I also tried</span></div><div class="line" id="170704"><span class="nick" style="color:#2e2a4a"><a href="#170704" label="[17:07:04]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: regarding your commentary &lt;<a rel="nofollow" href="https://github.com/mikaku/Fiwix/issues/72#issuecomment-1941506432">https://github.com/mikaku/Fiwix/issues/72#issuecomment-1941506432</a>&gt;,  can you confirm that the Linux kernel that comes with that zip file is not outputting the boot messages into the ttyS0 (nor ttyS1) during a kexec from Fiwix, using a simple qemu-system-i386 session?</span></div><div class="line" id="170725"><span class="nick" style="color:#2e2a4a"><a href="#170725" label="[17:07:25]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: I can pastebin the exact QEMU parameters I'm using, if that's necessary</span></div><div class="line" id="170732"><span class="nick" style="color:#389600"><a href="#170732" label="[17:07:32]">&lt;Googulator&gt;</a></span><span class="message">That would be helpful, yes</span></div><div class="line" id="170749"><span class="nick" style="color:#389600"><a href="#170749" label="[17:07:49]">&lt;Googulator&gt;</a></span><span class="message">It does output fine in live-bootstrap, that's what I know so far</span></div><div class="line" id="170824"><span class="nick" style="color:#389600"><a href="#170824" label="[17:08:24]">&lt;Googulator&gt;</a></span><span class="message">&amp; it shows a slightly different memory map when kexec'd using kexec-linux inside live-bootstrap, compared to when I boot it directly with grub on the same hardware</span></div><div class="line" id="171022"><span class="nick" style="color:#2e2a4a"><a href="#171022" label="[17:10:22]">&lt;Mikaku&gt;</a></span><span class="message">I'm just trying to reproduce the issue on an simpler environment</span></div><div class="line" id="171157"><span class="nick" style="color:#389600"><a href="#171157" label="[17:11:57]">&lt;Googulator&gt;</a></span><span class="message">How are you booting it rn?</span></div><div class="line" id="171413"><span class="nick" style="color:#2e2a4a"><a href="#171413" label="[17:14:13]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: this is the command I use &lt;<a rel="nofollow" href="https://pastesite.org/view/d3ed125d">https://pastesite.org/view/d3ed125d</a>&gt; </span></div><div class="line" id="171458"><span class="nick" style="color:#389600"><a href="#171458" label="[17:14:58]">&lt;Googulator&gt;</a></span><span class="message">what's in that ext2 img?</span></div><div class="line" id="171553"><span class="nick" style="color:#2e2a4a"><a href="#171553" label="[17:15:53]">&lt;Mikaku&gt;</a></span><span class="message">once booted I run the following script to copy your kernel into the ramdisk drive: &lt;<a rel="nofollow" href="https://pastesite.org/view/f40cf0cb">https://pastesite.org/view/f40cf0cb</a>&gt; </span></div><div class="line" id="171616"><span class="nick" style="color:#2e2a4a"><a href="#171616" label="[17:16:16]">&lt;Mikaku&gt;</a></span><span class="message">fiwix-ext2.img is my FiwixOS image</span></div><div class="line" id="171639"><span class="nick" style="color:#2e2a4a"><a href="#171639" label="[17:16:39]">&lt;Mikaku&gt;</a></span><span class="message">after running that script, I just do 'shutdown -h 0'</span></div><div class="line" id="171704"><span class="nick" style="color:#389600"><a href="#171704" label="[17:17:04]">&lt;Googulator&gt;</a></span><span class="message">so you're not using kexec-linux</span></div><div class="line" id="171704"><span class="nick" style="color:#2e2a4a"><a href="#171704" label="[17:17:04]">&lt;Mikaku&gt;</a></span><span class="message">the Fiwix kernel kexecs Linux kernel successfully boot the Linux kernel doesn't show the messages to the serial line</span></div><div class="line" id="171717"><span class="nick" style="color:#2e2a4a"><a href="#171717" label="[17:17:17]">&lt;Mikaku&gt;</a></span><span class="message">I boot the Fiwix kernel with the following command line:</span></div><div class="line" id="171804"><span class="nick" style="color:#2e2a4a"><a href="#171804" label="[17:18:04]">&lt;Mikaku&gt;</a></span><span class="message">ro root=/dev/hda2 kexec_proto=linux kexec_size=8000 kexec_cmdline=\&quot;rootdelay=900 console=ttyS0\&quot;</span></div><div class="line" id="171823"><span class="nick" style="color:#2e2a4a"><a href="#171823" label="[17:18:23]">&lt;Mikaku&gt;</a></span><span class="message">I tried with ttyS1, but it doesn't work either</span></div><div class="line" id="171908"><span class="nick" style="color:#2e2a4a"><a href="#171908" label="[17:19:08]">&lt;Mikaku&gt;</a></span><span class="message">I don't care if the Linux kernel cannot reach the /sbin/init, I just want to see the first boot lines where there is the memory map</span></div><div class="line" id="172024"><span class="nick" style="color:#389600"><a href="#172024" label="[17:20:24]">&lt;Googulator&gt;</a></span><span class="message">is kexec_size=8000 sufficient for this kernel?</span></div><div class="line" id="172104"><span class="nick" style="color:#389600"><a href="#172104" label="[17:21:04]">&lt;Googulator&gt;</a></span><span class="message">also, is fiwix-ext2.img this: <a rel="nofollow" href="https://www.fiwix.org/FiwixOS-3.3-i386.raw.gz">https://www.fiwix.org/FiwixOS-3.3-i386.raw.gz</a>  ?</span></div><div class="line" id="172110"><span class="nick" style="color:#2e2a4a"><a href="#172110" label="[17:21:10]">&lt;Mikaku&gt;</a></span><span class="message">yes, your kernel weights 7.4M aprox</span></div><div class="line" id="172146"><span class="nick" style="color:#389600"><a href="#172146" label="[17:21:46]">&lt;Googulator&gt;</a></span><span class="message">I wasn't quite sure because the current kernel in lvie-bootstrap is quite a bit larger</span></div><div class="line" id="172230"><span class="nick" style="color:#2e2a4a"><a href="#172230" label="[17:22:30]">&lt;Mikaku&gt;</a></span><span class="message">you can check the 'kernels.zip' archive you posted in the above link</span></div><div class="line" id="172306"><span class="nick" style="color:#2e2a4a"><a href="#172306" label="[17:23:06]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: yes, fiwix-ext2.img is based on FiwixOS 3.3</span></div><div class="line" id="172336"><span class="nick" style="color:#2e2a4a"><a href="#172336" label="[17:23:36]">&lt;Mikaku&gt;</a></span><span class="message">the kexec procedure works successfully but I don't know why the Linux kernel refuses to write on ttyS0</span></div><div class="line" id="173600"><span class="nick" style="color:#2e2a4a"><a href="#173600" label="[17:36:00]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: I'll be away for a while, I'll read your posts later</span></div><div class="line" id="180744"><span class="nick" style="color:#389600"><a href="#180744" label="[18:07:44]">&lt;Googulator&gt;</a></span><span class="message">Mikaku: I can't even boot the live-bootstrap Fiwix kernel using FiwixOS's grub if I specify *any* kexec_size parameter, it just freezes right on startup</span></div><div class="line" id="180758"><span class="nick" style="color:#389600"><a href="#180758" label="[18:07:58]">&lt;Googulator&gt;</a></span><span class="message">I'm afraid this path to trying to reproduce won't really get us anywhere</span></div><div class="line" id="180926"><span class="nick" style="color:#389600"><a href="#180926" label="[18:09:26]">&lt;Googulator&gt;</a></span><span class="message">but it's fully reproducible if you run a live-bootstrap session in qemu or bare metal mode (i.e. with kernel bootstrap)</span></div><div class="line" id="180933"><span class="nick" style="color:#389600"><a href="#180933" label="[18:09:33]">&lt;Googulator&gt;</a></span><span class="message">and it's fixed by <a rel="nofollow" href="https://github.com/mikaku/Fiwix/pull/74/files">https://github.com/mikaku/Fiwix/pull/74/files</a> </span></div><div class="line" id="204300"><span class="nick" style="color:#2e2a4a"><a href="#204300" label="[20:43:00]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: in my image the kernel is not the stock kernel of FiwixOS 3.3 because that kernel don't has enabled kexec feature</span></div><div class="line" id="204627"><span class="nick" style="color:#2e2a4a"><a href="#204627" label="[20:46:27]">&lt;Mikaku&gt;</a></span><span class="message">I mean, if you are using the flat ATA disk that comes with the FiwixOS 3.3 we won't be able to kexec anything because kexec features is not enabled by default</span></div><div class="line" id="204658"><span class="nick" style="color:#2e2a4a"><a href="#204658" label="[20:46:58]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: I'm using a kernel with CONFIG_KEXEC enabled and using the FiwixOS 3.3 filesystem</span></div><div class="line" id="204732"><span class="nick" style="color:#2e2a4a"><a href="#204732" label="[20:47:32]">&lt;Mikaku&gt;</a></span><span class="message">Let met repeat again; the kexec procedure works successfully but I don't know why the Linux kernel refuses to write on ttyS0</span></div><div class="line" id="210745"><span class="nick" style="color:#389600"><a href="#210745" label="[21:07:45]">&lt;Googulator&gt;</a></span><span class="message">I did install the kernel from live-bootstrap into that FS</span></div><div class="line" id="210801"><span class="nick" style="color:#389600"><a href="#210801" label="[21:08:01]">&lt;Googulator&gt;</a></span><span class="message">and it fails to boot completely if I set kexec_size</span></div><div class="line" id="210812"><span class="nick" style="color:#389600"><a href="#210812" label="[21:08:12]">&lt;Googulator&gt;</a></span><span class="message">The stock kernel just ignores kexec_size and boots anyway</span></div><div class="line" id="210845"><span class="nick" style="color:#2e2a4a"><a href="#210845" label="[21:08:45]">&lt;Mikaku&gt;</a></span><span class="message">CONFIG_KEXEC is not enabled by default in the stock kernel</span></div><div class="line" id="210932"><span class="nick" style="color:#389600"><a href="#210932" label="[21:09:32]">&lt;Googulator&gt;</a></span><span class="message">I know</span></div><div class="line" id="211002"><span class="nick" style="color:#389600"><a href="#211002" label="[21:10:02]">&lt;Googulator&gt;</a></span><span class="message">Did you build your own kexec-enabled kernel for your test, or did you use the one I sent (which is taken directly from an LB session)?</span></div><div class="line" id="211037"><span class="nick" style="color:#2e2a4a"><a href="#211037" label="[21:10:37]">&lt;Mikaku&gt;</a></span><span class="message">I did build the stock kernel with CONFIG_KEXEC enabled</span></div><div class="line" id="211059"><span class="nick" style="color:#2e2a4a"><a href="#211059" label="[21:10:59]">&lt;Mikaku&gt;</a></span><span class="message">the only think I use from your archive kernels.zip is the Linux kernel</span></div><div class="line" id="211129"><span class="nick" style="color:#2e2a4a"><a href="#211129" label="[21:11:29]">&lt;Mikaku&gt;</a></span><span class="message">s/think/thing/</span></div><div class="line" id="211907"><span class="nick" style="color:#2e2a4a"><a href="#211907" label="[21:19:07]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: nvm, I've built a new Linux kernel 4.9.54 using a minimal config (make tinyconfig), and it turns out that there are so few boot messages that I'm able to scroll back up to the first one</span></div><div class="line" id="211939"><span class="nick" style="color:#389600"><a href="#211939" label="[21:19:39]">&lt;Googulator&gt;</a></span><span class="message">fyi, in LB, we're now using 4.14.336</span></div><div class="line" id="212019"><span class="nick" style="color:#2e2a4a"><a href="#212019" label="[21:20:19]">&lt;Mikaku&gt;</a></span><span class="message">Googulator: &lt;<a rel="nofollow" href="https://imgur.com/a/X5rv2Wy">https://imgur.com/a/X5rv2Wy</a>&gt; </span></div><div class="line" id="212046"><span class="nick" style="color:#389600"><a href="#212046" label="[21:20:46]">&lt;Googulator&gt;</a></span><span class="message">looks like that reproduces the bug then</span></div><div class="line" id="212055"><span class="nick" style="color:#2e2a4a"><a href="#212055" label="[21:20:55]">&lt;Mikaku&gt;</a></span><span class="message">sorry, I meant, 4.19.54</span></div><div class="line" id="212131"><span class="nick" style="color:#389600"><a href="#212131" label="[21:21:31]">&lt;Googulator&gt;</a></span><span class="message">ranges ending @ 0x...fffe instead of 0x...ffff, and an extra reservation @ 0x9d000</span></div><div class="line" id="221229"><span class="nick" style="color:#6b8072"><a href="#221229" label="[22:12:29]">&lt;pder&gt;</a></span><span class="message">Googulator: would this Fiwix patch <a rel="nofollow" href="https://github.com/mikaku/Fiwix/pull/74">https://github.com/mikaku/Fiwix/pull/74</a>  possibly solve the hang issue I was having booting Fiwix in live-bootstrap with one of my machines?</span></div><div class="line" id="221243"><span class="nick" style="color:#389600"><a href="#221243" label="[22:12:43]">&lt;Googulator&gt;</a></span><span class="message">I doubt it, but feel free to try</span></div><div class="line" id="221306"><span class="nick" style="color:#389600"><a href="#221306" label="[22:13:06]">&lt;Googulator&gt;</a></span><span class="message">there's a chance it would shift structures around in such a way to avoid the issue, although I wouldn't call that &quot;fixing&quot; the issue</span></div><div class="line" id="221331"><span class="nick" style="color:#389600"><a href="#221331" label="[22:13:31]">&lt;Googulator&gt;</a></span><span class="message">unfortunately I don't have access to Raptor Lake hardware, which appears to be necessary to reproduce that issue</span></div><div class="line" id="221336"><span class="nick" style="color:#6b8072"><a href="#221336" label="[22:13:36]">&lt;pder&gt;</a></span><span class="message">Is work still needed in builder-hex0 to fix up these memory mapping issues?</span></div><div class="line" id="221415"><span class="nick" style="color:#389600"><a href="#221415" label="[22:14:15]">&lt;Googulator&gt;</a></span><span class="message">builder-hex0 currently stores the BIOS e820 memory map for later use by Fiwix &amp; Linux, but itself doesn't use it</span></div><div class="line" id="221433"><span class="nick" style="color:#389600"><a href="#221433" label="[22:14:33]">&lt;Googulator&gt;</a></span><span class="message">this is probably unrelated to the Raptor Lake virtualized Fiwix boot issue</span></div><div class="line" id="224329"><span class="nick" style="color:#80b1d3"><a href="#224329" label="[22:43:29]">&lt;stikonas&gt;</a></span><span class="message">Googulator: but I guess there is an assumption in builder-hex0 that Bios memory map does not reserve hardcoded range where stage0-posix binaries are loaded...</span></div><div class="line" id="224345"><span class="nick" style="color:#389600"><a href="#224345" label="[22:43:45]">&lt;Googulator&gt;</a></span><span class="message">more than that</span></div><div class="line" id="224350"><span class="nick" style="color:#80b1d3"><a href="#224350" label="[22:43:50]">&lt;stikonas&gt;</a></span><span class="message">I guess in practice BIOSes don't reserve such high ranges...</span></div><div class="line" id="224421"><span class="nick" style="color:#80b1d3"><a href="#224421" label="[22:44:21]">&lt;stikonas&gt;</a></span><span class="message">well, I guess any memory used in builder-hex0 (not just for loading binaries but all other usage)</span></div><div class="line" id="224422"><span class="nick" style="color:#389600"><a href="#224422" label="[22:44:22]">&lt;Googulator&gt;</a></span><span class="message">there's an assumption that 0x100000 to 0xBBFFFFFF is available physical RAM, with no gaps, reservations or MMIO regions</span></div><div class="line" id="224443"><span class="nick" style="color:#389600"><a href="#224443" label="[22:44:43]">&lt;Googulator&gt;</a></span><span class="message">which is true of most &quot;true&quot; BIOSes with 3GiB or more memory installed</span></div><div class="line" id="224452"><span class="nick" style="color:#389600"><a href="#224452" label="[22:44:52]">&lt;Googulator&gt;</a></span><span class="message">but fails spectacularly on some versions of edk2 in CSM mode</span></div><div class="line" id="224501"><span class="nick" style="color:#80b1d3"><a href="#224501" label="[22:45:01]">&lt;stikonas&gt;</a></span><span class="message">yeah, that's where all those structures to strore process metadata / memory and other buider-hex0 stuff are...</span></div><div class="line" id="224515"><span class="nick" style="color:#389600"><a href="#224515" label="[22:45:15]">&lt;Googulator&gt;</a></span><span class="message">also 0x400 to 0x7FFFF is assumed to be usable</span></div><div class="line" id="224515"><span class="nick" style="color:#80b1d3"><a href="#224515" label="[22:45:15]">&lt;stikonas&gt;</a></span><span class="message">well, for edk2 machines we should get stage0-uefi working...</span></div><div class="line" id="224528"><span class="nick" style="color:#80b1d3"><a href="#224528" label="[22:45:28]">&lt;stikonas&gt;</a></span><span class="message">so longer term not a big problem I guess</span></div><div class="line" id="224539"><span class="nick" style="color:#389600"><a href="#224539" label="[22:45:39]">&lt;Googulator&gt;</a></span><span class="message">yes, we don't really intend to ever support CSM bootstrapping</span></div><div class="line" id="224611"><span class="nick" style="color:#389600"><a href="#224611" label="[22:46:11]">&lt;Googulator&gt;</a></span><span class="message">&quot;UEFI Class 1&quot; systems are vanishingly rare, let alone Class 1 systems based on buggy versions of edk2</span></div><div class="line" id="224636"><span class="nick" style="color:#389600"><a href="#224636" label="[22:46:36]">&lt;Googulator&gt;</a></span><span class="message">(Class 1 is a firmware that's internally a UEFI, but only exposes CSM interfaces)</span></div><div class="line" id="224720"><span class="nick" style="color:#389600"><a href="#224720" label="[22:47:20]">&lt;Googulator&gt;</a></span><span class="message">the only &quot;UEFI Class 1&quot; system I know of is the Acer Aspire 5720</span></div><div class="line" id="224732"><span class="nick" style="color:#389600"><a href="#224732" label="[22:47:32]">&lt;Googulator&gt;</a></span><span class="message">which is a 32-bit UEFI, to make matters even more confusing</span></div><div class="line" id="224800"><span class="nick" style="color:#389600"><a href="#224800" label="[22:48:00]">&lt;Googulator&gt;</a></span><span class="message">I used to have one of those back in college</span></div><div class="line" id="224800"><span class="nick" style="color:#80b1d3"><a href="#224800" label="[22:48:00]">&lt;stikonas&gt;</a></span><span class="message">oh yeah,those things are annoying</span></div><div class="line" id="224833"><span class="nick" style="color:#80b1d3"><a href="#224833" label="[22:48:33]">&lt;stikonas&gt;</a></span><span class="message">even if they support proper UEFI API, we don't have support for that in stage0-uefi</span></div><div class="line" id="224853"><span class="nick" style="color:#389600"><a href="#224853" label="[22:48:53]">&lt;Googulator&gt;</a></span><span class="message">actually, IIRC it's not even UEFI, but EFI 1.x</span></div><div class="line" id="224902"><span class="nick" style="color:#80b1d3"><a href="#224902" label="[22:49:02]">&lt;stikonas&gt;</a></span><span class="message">I think I had either BIOS or later normal UEFI with CSM</span></div><div class="line" id="224913"><span class="nick" style="color:#389600"><a href="#224913" label="[22:49:13]">&lt;Googulator&gt;</a></span><span class="message">e.g. with the old UgaDraw protocol instead of GOP</span></div><div class="line" id="225045"><span class="nick" style="color:#389600"><a href="#225045" label="[22:50:45]">&lt;Googulator&gt;</a></span><span class="message">but it never really publishes any of the EFI APIs to the outside world (unless you patch the EFI to do so, which I did to some amusement - it was _almost_ able to natively boot versions of Mac OS X intended for the first Intel Macs, which also had EFI 1.x firmwarae)</span></div><div class="line" id="225138"><span class="nick" style="color:#389600"><a href="#225138" label="[22:51:38]">&lt;Googulator&gt;</a></span><span class="message">UEFIs with buggy memory map in CSM seem to all come from the early-to-mid-2010s</span></div><div class="line" id="225151"><span class="nick" style="color:#389600"><a href="#225151" label="[22:51:51]">&lt;Googulator&gt;</a></span><span class="message">&amp; AFAIK they are all exclusively Intel</span></div><div class="line" id="225243"><span class="nick" style="color:#389600"><a href="#225243" label="[22:52:43]">&lt;Googulator&gt;</a></span><span class="message">there were also some tablets with 32-bit Class 3 UEFIs (i.e. no CSM)</span></div><div class="line" id="232309"><span class="nick" style="color:#389600"><a href="#232309" label="[23:23:09]">&lt;Googulator&gt;</a></span><span class="message">mid-kid: ICYMI: achieved Gentoo bootstrap based on your instructions on bare metal: <a rel="nofollow" href="https://gist.github.com/Googulator/86af97ed078eb9e6c18c6eb49e46c96d">https://gist.github.com/Googulator/86af97ed078eb9e6c18c6eb49e46c96d</a> </span></div><div class="line" id="232401"><span class="nick" style="color:#389600"><a href="#232401" label="[23:24:01]">&lt;Googulator&gt;</a></span><span class="message">the resulting Gentoo chroot so far successfully built a stage3 tarball and a working live install CD image that boots fine in qemu in both BIOS and UEFI mode</span></div><div class="line" id="232504"><span class="nick" style="color:#389600"><a href="#232504" label="[23:25:04]">&lt;Googulator&gt;</a></span><span class="message">LiveGUI image building as we speak, as the ultimate verification of successful bootstrap</span></div><div class="line" id="233331"><span class="nick" style="color:#80b1d3"><a href="#233331" label="[23:33:31]">&lt;stikonas&gt;</a></span><span class="message">Googulator: nice! I'm a bit behind on this</span></div><div class="line" id="233408"><span class="nick" style="color:#80b1d3"><a href="#233408" label="[23:34:08]">&lt;stikonas&gt;</a></span><span class="message">put it slightly on hold till my new USB -&gt; Gigabit ethernet adapter arrives</span></div><div class="line" id="233438"><span class="nick" style="color:#80b1d3"><a href="#233438" label="[23:34:38]">&lt;stikonas&gt;</a></span><span class="message">(though I didn't do kernel bootstrap but that's impossible on that machine yet</span></div><div class="line" id="233502"><span class="nick" style="color:#389600"><a href="#233502" label="[23:35:02]">&lt;Googulator&gt;</a></span><span class="message">update: also boots on real hardware, although it takes considerably longer due to my crappy USB drive</span></div><div class="line" id="233835"><span class="nick" style="color:#80b1d3"><a href="#233835" label="[23:38:35]">&lt;stikonas&gt;</a></span><span class="message">Googulator: also I had some trouble with our live-bootstrap kernel config</span></div><div class="line" id="233847"><span class="nick" style="color:#80b1d3"><a href="#233847" label="[23:38:47]">&lt;stikonas&gt;</a></span><span class="message">I was not able to mount FAT32 drives with UEFI partitions</span></div><div class="line" id="233859"><span class="nick" style="color:#80b1d3"><a href="#233859" label="[23:38:59]">&lt;stikonas&gt;</a></span><span class="message">errors about encoding tables</span></div><div class="line" id="233924"><span class="nick" style="color:#80b1d3"><a href="#233924" label="[23:39:24]">&lt;stikonas&gt;</a></span><span class="message">&quot;codepage cp437 not found&quot;</span></div><div class="line" id="233939"><span class="nick" style="color:#80b1d3"><a href="#233939" label="[23:39:39]">&lt;stikonas&gt;</a></span><span class="message">Googulator: so that module is not included in 4.14 kernel config</span></div><div class="line" id="233940"><span class="nick" style="color:#389600"><a href="#233940" label="[23:39:40]">&lt;Googulator&gt;</a></span><span class="message">probably bad NLS config</span></div><div class="line" id="233944"><span class="nick" style="color:#80b1d3"><a href="#233944" label="[23:39:44]">&lt;stikonas&gt;</a></span><span class="message">yeah,</span></div><div class="line" id="233951"><span class="nick" style="color:#80b1d3"><a href="#233951" label="[23:39:51]">&lt;stikonas&gt;</a></span><span class="message">but I think that encoding is set to default</span></div><div class="line" id="234005"><span class="nick" style="color:#80b1d3"><a href="#234005" label="[23:40:05]">&lt;stikonas&gt;</a></span><span class="message">let me dig up that config</span></div><div class="line" id="234033"><span class="nick" style="color:#80b1d3"><a href="#234033" label="[23:40:33]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/blob/d6e49c181cd115cc2df89dd06cd2f11cd2564137/steps/linux-4.14.336/files/config#L3718">https://github.com/fosslinux/live-bootstrap/blob/d6e49c181cd115cc2df89dd06cd2f11cd2564137/steps/linux-4.14.336/files/config#L3718</a> </span></div><div class="line" id="234048"><span class="nick" style="color:#80b1d3"><a href="#234048" label="[23:40:48]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/blob/d6e49c181cd115cc2df89dd06cd2f11cd2564137/steps/linux-4.14.336/files/config#L3779">https://github.com/fosslinux/live-bootstrap/blob/d6e49c181cd115cc2df89dd06cd2f11cd2564137/steps/linux-4.14.336/files/config#L3779</a> </span></div><div class="line" id="234100"><span class="nick" style="color:#80b1d3"><a href="#234100" label="[23:41:00]">&lt;stikonas&gt;</a></span><span class="message">I think this inconsistency causes the problem</span></div><div class="line" id="234116"><span class="nick" style="color:#389600"><a href="#234116" label="[23:41:16]">&lt;Googulator&gt;</a></span><span class="message">yeah, that's clearly wrong</span></div><div class="line" id="234153"><span class="nick" style="color:#80b1d3"><a href="#234153" label="[23:41:53]">&lt;stikonas&gt;</a></span><span class="message">which is why I wasn't able to create a bootable system...</span></div><div class="line" id="234159"><span class="nick" style="color:#80b1d3"><a href="#234159" label="[23:41:59]">&lt;stikonas&gt;</a></span><span class="message">no way to mount EFI</span></div><br /></div></body></html>