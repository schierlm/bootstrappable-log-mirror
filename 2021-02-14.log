<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2021-02-14.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="003121"><span class="nick" style="color:#8dd3c7"><a href="#003121" label="[00:31:21]">&lt;stikonas&gt;</a></span><span class="message">fossy: ok, so I can create embed.h in perl 5.000, so that's good</span></div><div class="line" id="003128"><span class="nick" style="color:#8dd3c7"><a href="#003128" label="[00:31:28]">&lt;stikonas&gt;</a></span><span class="message">anything newer needs perl</span></div><div class="line" id="003140"><span class="nick" style="color:#8dd3c7"><a href="#003140" label="[00:31:40]">&lt;stikonas&gt;</a></span><span class="message">let's see if I can build miniperl there...</span></div><div class="line" id="012018"><span class="nick" style="color:#8dd3c7"><a href="#012018" label="[01:20:18]">&lt;stikonas&gt;</a></span><span class="message">hmm, miniperl 5.000 is not easy either :( I managed to build it with gcc, but when trying to build in live-bootstrap, there seem to be incompatibilities with musl and FILE* pointer...</span></div><div class="line" id="015042"><span class="nick" style="color:#8dd3c7"><a href="#015042" label="[01:50:42]">&lt;stikonas&gt;</a></span><span class="message">fossy: oh, partial success!</span></div><div class="line" id="015052"><span class="nick" style="color:#8dd3c7"><a href="#015052" label="[01:50:52]">&lt;stikonas&gt;</a></span><span class="message">/after/perl5.000 # ./miniperl ../hw.pl</span></div><div class="line" id="015053"><span class="nick" style="color:#8dd3c7"><a href="#015053" label="[01:50:53]">&lt;stikonas&gt;</a></span><span class="message">Hello World</span></div><div class="line" id="015102"><span class="nick" style="color:#8dd3c7"><a href="#015102" label="[01:51:02]">&lt;stikonas&gt;</a></span><span class="message">although, I still need to create proper config.h</span></div><div class="line" id="015118"><span class="nick" style="color:#8dd3c7"><a href="#015118" label="[01:51:18]">&lt;stikonas&gt;</a></span><span class="message">the one from  my work on 5.8.9 is not usable</span></div><div class="line" id="015243"><span class="nick" style="color:#8dd3c7"><a href="#015243" label="[01:52:43]">&lt;stikonas&gt;</a></span><span class="message">and no problems with bison here...</span></div><div class="line" id="015250"><span class="nick" style="color:#8dd3c7"><a href="#015250" label="[01:52:50]">&lt;stikonas&gt;</a></span><span class="message">so I think I'll be able to get something working tomorrow</span></div><div class="line" id="015743"><span class="nick" style="color:#8dd3c7"><a href="#015743" label="[01:57:43]">&lt;stikonas&gt;</a></span><span class="message">argh, but there are still two header files created by perl scripts...</span></div><div class="line" id="015806"><span class="nick" style="color:#8dd3c7"><a href="#015806" label="[01:58:06]">&lt;stikonas&gt;</a></span><span class="message">keywords.pl and opcode.pl -&gt; keywords.h opcode.h</span></div><div class="line" id="015919"><span class="nick" style="color:#8dd3c7"><a href="#015919" label="[01:59:19]">&lt;stikonas&gt;</a></span><span class="message">well, keywords.h is simple enough, either we treat it as original source or write some bash script to generate it...</span></div><div class="line" id="020124"><span class="nick" style="color:#8dd3c7"><a href="#020124" label="[02:01:24]">&lt;stikonas&gt;</a></span><span class="message">opcode.h is not so clear-cut...</span></div><div class="line" id="020309"><span class="nick" style="color:#8dd3c7"><a href="#020309" label="[02:03:09]">&lt;stikonas&gt;</a></span><span class="message">fossy: can you at some point take a look at those two perl scripts <a rel="nofollow" href="https://github.com/Perl/perl5/tree/perl-5.000">https://github.com/Perl/perl5/tree/perl-5.000</a>  ? keywords.pl and opcode.pl</span></div><div class="line" id="020403"><span class="nick" style="color:#8dd3c7"><a href="#020403" label="[02:04:03]">&lt;stikonas&gt;</a></span><span class="message">we'll have to decide what to do with them</span></div><div class="line" id="020410"><span class="nick" style="color:#8dd3c7"><a href="#020410" label="[02:04:10]">&lt;stikonas&gt;</a></span><span class="message">but at least they are simpler than that embed script</span></div><div class="line" id="021446"><span class="nick" style="color:#8dd3c7"><a href="#021446" label="[02:14:46]">&lt;stikonas&gt;</a></span><span class="message">hmm, maybe we should start with perl4...</span></div><div class="line" id="095252"><span class="nick" style="color:#2e2a4a"><a href="#095252" label="[09:52:52]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: ok, had the think the whole night about: checking build-bin-hashes from external or internal and you are right: from internal is better and check from both sides is even better 8-))) i will try to make sha256 working from an early stage and add the hashes, ok?</span></div><div class="line" id="100529"><span class="nick" style="color:#2e2a4a"><a href="#100529" label="[10:05:29]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: i see <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/39">https://github.com/fosslinux/live-bootstrap/pull/39</a>  (&quot;Checksumming&quot;) and will read, but using !SHA256 seems odd to me</span></div><div class="line" id="100832"><span class="nick" style="color:#2e2a4a"><a href="#100832" label="[10:08:32]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: anyway, i like your 'fletcher16.c'!</span></div><div class="line" id="100902"><span class="nick" style="color:#2e2a4a"><a href="#100902" label="[10:09:02]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: and i even more like 'mescc-tools-extra.kaem '</span></div><div class="line" id="101530"><span class="nick" style="color:#6b8072"><a href="#101530" label="[10:15:30]">&lt;stikonas[m]&gt;</a></span><span class="message">Let's not overcomplicate with both internal and external I think, just one is enough</span></div><div class="line" id="101546"><span class="nick" style="color:#80b1d3"><a href="#101546" label="[10:15:46]">&lt;fossy&gt;</a></span><span class="message">I agree with stikonas[m]</span></div><div class="line" id="101554"><span class="nick" style="color:#2e2a4a"><a href="#101554" label="[10:15:54]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: regarding your fletcher16.kaem: shouldt it be e.g. '-f /M2-Planet/functions/numerate_number.c' instead of '-f functions/numerate_number.c'</span></div><div class="line" id="101623"><span class="nick" style="color:#80b1d3"><a href="#101623" label="[10:16:23]">&lt;fossy&gt;</a></span><span class="message">gforce_de1977: no, they are different</span></div><div class="line" id="101631"><span class="nick" style="color:#80b1d3"><a href="#101631" label="[10:16:31]">&lt;fossy&gt;</a></span><span class="message">(confusingly)</span></div><div class="line" id="101704"><span class="nick" style="color:#80b1d3"><a href="#101704" label="[10:17:04]">&lt;fossy&gt;</a></span><span class="message">gforce_de1977: we cannot use sha256</span></div><div class="line" id="101713"><span class="nick" style="color:#80b1d3"><a href="#101713" label="[10:17:13]">&lt;fossy&gt;</a></span><span class="message">it is not implemented in coreutils 5.0</span></div><div class="line" id="101719"><span class="nick" style="color:#6b8072"><a href="#101719" label="[10:17:19]">&lt;stikonas[m]&gt;</a></span><span class="message">fossy any idea on generated  perl5.000 headers?</span></div><div class="line" id="101725"><span class="nick" style="color:#80b1d3"><a href="#101725" label="[10:17:25]">&lt;fossy&gt;</a></span><span class="message">stikonas[m]: oh, sorry, i forgot</span></div><div class="line" id="101730"><span class="nick" style="color:#6d2462"><a href="#101730" label="[10:17:30]">*</a></span><span class="message">fossy looks now</span></div><div class="line" id="101744"><span class="nick" style="color:#6b8072"><a href="#101744" label="[10:17:44]">&lt;stikonas[m]&gt;</a></span><span class="message">We can recheck everything with sha256sum later</span></div><div class="line" id="101759"><span class="nick" style="color:#6b8072"><a href="#101759" label="[10:17:59]">&lt;stikonas[m]&gt;</a></span><span class="message">Once we have newer coreutils</span></div><div class="line" id="101812"><span class="nick" style="color:#80b1d3"><a href="#101812" label="[10:18:12]">&lt;fossy&gt;</a></span><span class="message">yes</span></div><div class="line" id="101824"><span class="nick" style="color:#80b1d3"><a href="#101824" label="[10:18:24]">&lt;fossy&gt;</a></span><span class="message">hm, maybe i should recheck fletcher binaries with sha1sum</span></div><div class="line" id="101832"><span class="nick" style="color:#80b1d3"><a href="#101832" label="[10:18:32]">&lt;fossy&gt;</a></span><span class="message">cause fletcher16 has highish collision chance</span></div><div class="line" id="101937"><span class="nick" style="color:#6b8072"><a href="#101937" label="[10:19:37]">&lt;stikonas[m]&gt;</a></span><span class="message">Well, we'll recheck with sha2 later, so rechecking now is optional</span></div><div class="line" id="101940"><span class="nick" style="color:#80b1d3"><a href="#101940" label="[10:19:40]">&lt;fossy&gt;</a></span><span class="message">stikonas[m]: oh, i can implement keywords.pl very trivally</span></div><div class="line" id="102107"><span class="nick" style="color:#6b8072"><a href="#102107" label="[10:21:07]">&lt;stikonas[m]&gt;</a></span><span class="message">Keywords yeah, that one is simple...</span></div><div class="line" id="102119"><span class="nick" style="color:#6b8072"><a href="#102119" label="[10:21:19]">&lt;stikonas[m]&gt;</a></span><span class="message">I am more worried about opcodes</span></div><div class="line" id="102137"><span class="nick" style="color:#6b8072"><a href="#102137" label="[10:21:37]">&lt;stikonas[m]&gt;</a></span><span class="message">I also tested my miniperl on these two</span></div><div class="line" id="102152"><span class="nick" style="color:#6b8072"><a href="#102152" label="[10:21:52]">&lt;stikonas[m]&gt;</a></span><span class="message">Keywords was regenerated</span></div><div class="line" id="102215"><span class="nick" style="color:#80b1d3"><a href="#102215" label="[10:22:15]">&lt;fossy&gt;</a></span><span class="message">opcodes...</span></div><div class="line" id="102222"><span class="nick" style="color:#6b8072"><a href="#102222" label="[10:22:22]">&lt;stikonas[m]&gt;</a></span><span class="message">But opcodes.h was truncated</span></div><div class="line" id="102226"><span class="nick" style="color:#80b1d3"><a href="#102226" label="[10:22:26]">&lt;fossy&gt;</a></span><span class="message">that isn't super duper hard to reimplement in shell</span></div><div class="line" id="102228"><span class="nick" style="color:#80b1d3"><a href="#102228" label="[10:22:28]">&lt;fossy&gt;</a></span><span class="message">wait what</span></div><div class="line" id="102236"><span class="nick" style="color:#80b1d3"><a href="#102236" label="[10:22:36]">&lt;fossy&gt;</a></span><span class="message">can you pastebin a real opcodes.h then</span></div><div class="line" id="102306"><span class="nick" style="color:#6b8072"><a href="#102306" label="[10:23:06]">&lt;stikonas[m]&gt;</a></span><span class="message">Real is on github</span></div><div class="line" id="102320"><span class="nick" style="color:#80b1d3"><a href="#102320" label="[10:23:20]">&lt;fossy&gt;</a></span><span class="message">this is real opcodes.h untruncated no? <a rel="nofollow" href="https://github.com/Perl/perl5/blob/perl-5.000/opcode.h">https://github.com/Perl/perl5/blob/perl-5.000/opcode.h</a> </span></div><div class="line" id="102320"><span class="nick" style="color:#6b8072"><a href="#102320" label="[10:23:20]">&lt;stikonas[m]&gt;</a></span><span class="message">I mean my miniperl was buggy</span></div><div class="line" id="102322"><span class="nick" style="color:#80b1d3"><a href="#102322" label="[10:23:22]">&lt;fossy&gt;</a></span><span class="message">ohh</span></div><div class="line" id="102329"><span class="nick" style="color:#80b1d3"><a href="#102329" label="[10:23:29]">&lt;fossy&gt;</a></span><span class="message">that's no good :|</span></div><div class="line" id="102333"><span class="nick" style="color:#6b8072"><a href="#102333" label="[10:23:33]">&lt;stikonas[m]&gt;</a></span><span class="message">For some reason</span></div><div class="line" id="102356"><span class="nick" style="color:#6b8072"><a href="#102356" label="[10:23:56]">&lt;stikonas[m]&gt;</a></span><span class="message">Yes</span></div><div class="line" id="102410"><span class="nick" style="color:#6b8072"><a href="#102410" label="[10:24:10]">&lt;stikonas[m]&gt;</a></span><span class="message">Perl4?</span></div><div class="line" id="102426"><span class="nick" style="color:#6b8072"><a href="#102426" label="[10:24:26]">&lt;stikonas[m]&gt;</a></span><span class="message">That one doesn't seem to have these</span></div><div class="line" id="102447"><span class="nick" style="color:#80b1d3"><a href="#102447" label="[10:24:47]">&lt;fossy&gt;</a></span><span class="message">i'm not convinced perl4 will be able to do this</span></div><div class="line" id="102452"><span class="nick" style="color:#80b1d3"><a href="#102452" label="[10:24:52]">&lt;fossy&gt;</a></span><span class="message">perl4 is quite different to perl 5</span></div><div class="line" id="102557"><span class="nick" style="color:#6b8072"><a href="#102557" label="[10:25:57]">&lt;stikonas[m]&gt;</a></span><span class="message">OK, reimplement in bash/sed/awk?</span></div><div class="line" id="102615"><span class="nick" style="color:#80b1d3"><a href="#102615" label="[10:26:15]">&lt;fossy&gt;</a></span><span class="message">yeah</span></div><div class="line" id="102622"><span class="nick" style="color:#80b1d3"><a href="#102622" label="[10:26:22]">&lt;fossy&gt;</a></span><span class="message">if you want me to do that i can probs do that tomorrow</span></div><div class="line" id="102634"><span class="nick" style="color:#80b1d3"><a href="#102634" label="[10:26:34]">&lt;fossy&gt;</a></span><span class="message">or you can do it if you want</span></div><div class="line" id="102713"><span class="nick" style="color:#6b8072"><a href="#102713" label="[10:27:13]">&lt;stikonas[m]&gt;</a></span><span class="message">Well, I'll probably spend today fixing other issues and getting it to build</span></div><div class="line" id="102725"><span class="nick" style="color:#80b1d3"><a href="#102725" label="[10:27:25]">&lt;fossy&gt;</a></span><span class="message">ok, i'll do opcode.h and keywords.h in shell</span></div><div class="line" id="102732"><span class="nick" style="color:#80b1d3"><a href="#102732" label="[10:27:32]">&lt;fossy&gt;</a></span><span class="message">and you can use pregenerated for now</span></div><div class="line" id="102753"><span class="nick" style="color:#80b1d3"><a href="#102753" label="[10:27:53]">&lt;fossy&gt;</a></span><span class="message">cause it's pretty easy to slot it in</span></div><div class="line" id="102825"><span class="nick" style="color:#6b8072"><a href="#102825" label="[10:28:25]">&lt;stikonas[m]&gt;</a></span><span class="message">Yeah... Keywords.h is basically source like anyway</span></div><div class="line" id="102841"><span class="nick" style="color:#6b8072"><a href="#102841" label="[10:28:41]">&lt;stikonas[m]&gt;</a></span><span class="message">Easy if a bit annoying to modify</span></div><div class="line" id="102915"><span class="nick" style="color:#6b8072"><a href="#102915" label="[10:29:15]">&lt;stikonas[m]&gt;</a></span><span class="message">(Just need to renumber everything if you insert something in the middle)</span></div><div class="line" id="103130"><span class="nick" style="color:#2e2a4a"><a href="#103130" label="[10:31:30]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: stikonas: what about suck in &quot;<a rel="nofollow" href="https://codereview.stackexchange.com/questions/182812/self-contained-sha-256-implementation-in-c">https://codereview.stackexchange.com/questions/182812/self-contained-sha-256-implementation-in-c</a>&quot; </span></div><div class="line" id="103346"><span class="nick" style="color:#80b1d3"><a href="#103346" label="[10:33:46]">&lt;fossy&gt;</a></span><span class="message">gforce_de1977: hm ty for this</span></div><div class="line" id="103351"><span class="nick" style="color:#80b1d3"><a href="#103351" label="[10:33:51]">&lt;fossy&gt;</a></span><span class="message">this could work quite well</span></div><div class="line" id="103359"><span class="nick" style="color:#80b1d3"><a href="#103359" label="[10:33:59]">&lt;fossy&gt;</a></span><span class="message">ill try this tomorrow :D</span></div><div class="line" id="103408"><span class="nick" style="color:#6b8072"><a href="#103408" label="[10:34:08]">&lt;stikonas[m]&gt;</a></span><span class="message">All these implementations seem to use precomputed constants... Does coreutils to that as well?</span></div><div class="line" id="103448"><span class="nick" style="color:#6b8072"><a href="#103448" label="[10:34:48]">&lt;stikonas[m]&gt;</a></span><span class="message">(It's not a super big problem though)</span></div><div class="line" id="103525"><span class="nick" style="color:#80b1d3"><a href="#103525" label="[10:35:25]">&lt;fossy&gt;</a></span><span class="message">stikonas[m]: well they are mathematically generated</span></div><div class="line" id="103536"><span class="nick" style="color:#80b1d3"><a href="#103536" label="[10:35:36]">&lt;fossy&gt;</a></span><span class="message">but yeah it is somewhat annoying</span></div><div class="line" id="103557"><span class="nick" style="color:#80b1d3"><a href="#103557" label="[10:35:57]">&lt;fossy&gt;</a></span><span class="message">i don't have much of a problem with it either</span></div><div class="line" id="103603"><span class="nick" style="color:#80b1d3"><a href="#103603" label="[10:36:03]">&lt;fossy&gt;</a></span><span class="message">even if it was wrong it just is not to spec</span></div><div class="line" id="103709"><span class="nick" style="color:#6b8072"><a href="#103709" label="[10:37:09]">&lt;stikonas[m]&gt;</a></span><span class="message">Well, that's why I'm not too worried</span></div><div class="line" id="103714"><span class="nick" style="color:#80b1d3"><a href="#103714" label="[10:37:14]">&lt;fossy&gt;</a></span><span class="message">same</span></div><div class="line" id="103739"><span class="nick" style="color:#6b8072"><a href="#103739" label="[10:37:39]">&lt;stikonas[m]&gt;</a></span><span class="message">I guess they do it for performance</span></div><div class="line" id="103746"><span class="nick" style="color:#80b1d3"><a href="#103746" label="[10:37:46]">&lt;fossy&gt;</a></span><span class="message">yeah that is the reason</span></div><div class="line" id="104144"><span class="nick" style="color:#234e69"><a href="#104144" label="[10:41:44]">&lt;bauen1_&gt;</a></span><span class="message">i'm pretty sure they're part of every implementation</span></div><div class="line" id="104146"><span class="nick">***</span><span class="message notice">bauen1_ is now known as bauen1</span></div><div class="line" id="104257"><span class="nick" style="color:#6c3d55"><a href="#104257" label="[10:42:57]">&lt;bauen1&gt;</a></span><span class="message">sha256 is quite simple (and easy to verify opposed to a C compiler ...)</span></div><div class="line" id="104530"><span class="nick" style="color:#80b1d3"><a href="#104530" label="[10:45:30]">&lt;fossy&gt;</a></span><span class="message">yeah</span></div><div class="line" id="104537"><span class="nick" style="color:#80b1d3"><a href="#104537" label="[10:45:37]">&lt;fossy&gt;</a></span><span class="message">gforce_de1977: unfortunatly that implementation is only a library</span></div><div class="line" id="104540"><span class="nick" style="color:#80b1d3"><a href="#104540" label="[10:45:40]">&lt;fossy&gt;</a></span><span class="message">not a command line tool :|</span></div><div class="line" id="104551"><span class="nick" style="color:#80b1d3"><a href="#104551" label="[10:45:51]">&lt;fossy&gt;</a></span><span class="message">if you (or someone else) wrote a frontend for it though i would be happy to use it</span></div><div class="line" id="113750"><span class="nick" style="color:#2e2a4a"><a href="#113750" label="[11:37:50]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: here a naive implementation, which compiles with 'tcc sha256sum.c'</span></div><div class="line" id="113754"><span class="nick" style="color:#2e2a4a"><a href="#113754" label="[11:37:54]">&lt;gforce_de1977&gt;</a></span><span class="message"> <a rel="nofollow" href="http://intercity-vpn.de/sha256sum.c">http://intercity-vpn.de/sha256sum.c</a> </span></div><div class="line" id="113755"><span class="nick" style="color:#2e2a4a"><a href="#113755" label="[11:37:55]">&lt;gforce_de1977&gt;</a></span><span class="message"> <a rel="nofollow" href="http://intercity-vpn.de/sha256sum.h">http://intercity-vpn.de/sha256sum.h</a> </span></div><div class="line" id="113814"><span class="nick" style="color:#2e2a4a"><a href="#113814" label="[11:38:14]">&lt;gforce_de1977&gt;</a></span><span class="message">./sha256sum filename</span></div><div class="line" id="113843"><span class="nick" style="color:#2e2a4a"><a href="#113843" label="[11:38:43]">&lt;gforce_de1977&gt;</a></span><span class="message">i can make it work with mescc if needed</span></div><div class="line" id="114444"><span class="nick" style="color:#2e2a4a"><a href="#114444" label="[11:44:44]">&lt;gforce_de1977&gt;</a></span><span class="message">(i just added a main)</span></div><div class="line" id="115357"><span class="nick" style="color:#80b1d3"><a href="#115357" label="[11:53:57]">&lt;fossy&gt;</a></span><span class="message">gforce_de1977: :D</span></div><div class="line" id="115419"><span class="nick" style="color:#80b1d3"><a href="#115419" label="[11:54:19]">&lt;fossy&gt;</a></span><span class="message">mescc is probably unnessecary</span></div><div class="line" id="115442"><span class="nick" style="color:#80b1d3"><a href="#115442" label="[11:54:42]">&lt;fossy&gt;</a></span><span class="message">actually quite unnessecary</span></div><div class="line" id="115546"><span class="nick" style="color:#80b1d3"><a href="#115546" label="[11:55:46]">&lt;fossy&gt;</a></span><span class="message">gforce_de1977: this is a good implementation thanks</span></div><div class="line" id="115633"><span class="nick" style="color:#2e2a4a"><a href="#115633" label="[11:56:33]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: whats missing is something like ./sha256sum filename -check $HASHXY</span></div><div class="line" id="115647"><span class="nick" style="color:#80b1d3"><a href="#115647" label="[11:56:47]">&lt;fossy&gt;</a></span><span class="message">gforce_de1977: ah, true</span></div><div class="line" id="115649"><span class="nick" style="color:#80b1d3"><a href="#115649" label="[11:56:49]">&lt;fossy&gt;</a></span><span class="message">this does generation</span></div><div class="line" id="115651"><span class="nick" style="color:#80b1d3"><a href="#115651" label="[11:56:51]">&lt;fossy&gt;</a></span><span class="message">but not checking</span></div><div class="line" id="115659"><span class="nick" style="color:#80b1d3"><a href="#115659" label="[11:56:59]">&lt;fossy&gt;</a></span><span class="message">we do need that</span></div><div class="line" id="115700"><span class="nick" style="color:#2e2a4a"><a href="#115700" label="[11:57:00]">&lt;gforce_de1977&gt;</a></span><span class="message">yes, but checking is easy</span></div><div class="line" id="115704"><span class="nick" style="color:#80b1d3"><a href="#115704" label="[11:57:04]">&lt;fossy&gt;</a></span><span class="message">yeah</span></div><div class="line" id="115710"><span class="nick" style="color:#80b1d3"><a href="#115710" label="[11:57:10]">&lt;fossy&gt;</a></span><span class="message">it's just read from a file and compare generation</span></div><div class="line" id="115748"><span class="nick" style="color:#2e2a4a"><a href="#115748" label="[11:57:48]">&lt;gforce_de1977&gt;</a></span><span class="message">(ok, have to go in the kitchen now, the bird gets ready, awk for a while...)</span></div><div class="line" id="115803"><span class="nick" style="color:#80b1d3"><a href="#115803" label="[11:58:03]">&lt;fossy&gt;</a></span><span class="message">cya!</span></div><div class="line" id="140740"><span class="nick" style="color:#8dd3c7"><a href="#140740" label="[14:07:40]">&lt;stikonas&gt;</a></span><span class="message">pder: do you think perl output truncation might be the same problem that you saw with pipes?</span></div><div class="line" id="140856"><span class="nick" style="color:#8dd3c7"><a href="#140856" label="[14:08:56]">&lt;stikonas&gt;</a></span><span class="message">(i.e. file is truncated)</span></div><div class="line" id="140940"><span class="nick" style="color:#8dd3c7"><a href="#140940" label="[14:09:40]">&lt;stikonas&gt;</a></span><span class="message">but maybe not stdout writing but when writing tofile</span></div><div class="line" id="141041"><span class="nick" style="color:#8dd3c7"><a href="#141041" label="[14:10:41]">&lt;stikonas&gt;</a></span><span class="message">hmm, definitey...</span></div><div class="line" id="141106"><span class="nick" style="color:#8dd3c7"><a href="#141106" label="[14:11:06]">&lt;stikonas&gt;</a></span><span class="message">when I replaced commented open file call, it produces correct file</span></div><div class="line" id="142638"><span class="nick" style="color:#8dd3c7"><a href="#142638" label="[14:26:38]">&lt;stikonas&gt;</a></span><span class="message">anyway, miniperl 5.000 seems doable and once we have something, it will hopefully be much easier to build newer perl using that</span></div><div class="line" id="161810"><span class="nick" style="color:#d9d9d9"><a href="#161810" label="[16:18:10]">&lt;pder&gt;</a></span><span class="message">stikonas: definitely the truncation is still happening.  An easy fix is make sure you close any open file handles in the program</span></div><div class="line" id="161843"><span class="nick" style="color:#d9d9d9"><a href="#161843" label="[16:18:43]">&lt;pder&gt;</a></span><span class="message">I am still looking at trying to fix this issue properly, but havent had much time to look at it</span></div><div class="line" id="163946"><span class="nick" style="color:#8dd3c7"><a href="#163946" label="[16:39:46]">&lt;stikonas&gt;</a></span><span class="message">pushed wip version of perl <a rel="nofollow" href="https://github.com/stikonas/live-bootstrap/commit/perl">https://github.com/stikonas/live-bootstrap/commit/perl</a> </span></div><div class="line" id="163949"><span class="nick" style="color:#8dd3c7"><a href="#163949" label="[16:39:49]">&lt;stikonas&gt;</a></span><span class="message">(no PR for now)</span></div><div class="line" id="165225"><span class="nick" style="color:#8dd3c7"><a href="#165225" label="[16:52:25]">&lt;stikonas&gt;</a></span><span class="message">and I think miniperl might be enough to drive autotools...</span></div><div class="line" id="165319"><span class="nick" style="color:#8dd3c7"><a href="#165319" label="[16:53:19]">&lt;stikonas&gt;</a></span><span class="message">I think I can run automake (have some unrelated problems with autoconf but that's not perl based)</span></div><div class="line" id="172159"><span class="nick" style="color:#8dd3c7"><a href="#172159" label="[17:21:59]">&lt;stikonas&gt;</a></span><span class="message">hmm, and live-bootstrap's gawk segfaults :(</span></div><div class="line" id="173618"><span class="nick" style="color:#2e2a4a"><a href="#173618" label="[17:36:18]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: i added a 'check' function: <a rel="nofollow" href="http://intercity-vpn.de/sha256sum.c">http://intercity-vpn.de/sha256sum.c</a>  - i'am unsure about licencing, it's public domain....</span></div><div class="line" id="174317"><span class="nick" style="color:#2e2a4a"><a href="#174317" label="[17:43:17]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: you are right, i only tested &quot;gawk --version&quot;</span></div><div class="line" id="174447"><span class="nick" style="color:#2e2a4a"><a href="#174447" label="[17:44:47]">&lt;gforce_de1977&gt;</a></span><span class="message">some things are working (Hello World), but this segfaults: gawk '{ print or(4294967295,1) }'</span></div><div class="line" id="174544"><span class="nick" style="color:#8dd3c7"><a href="#174544" label="[17:45:44]">&lt;stikonas&gt;</a></span><span class="message">hmm, but do we know it's public domain, we can't assume that...</span></div><div class="line" id="174609"><span class="nick" style="color:#8dd3c7"><a href="#174609" label="[17:46:09]">&lt;stikonas&gt;</a></span><span class="message">yeah, so for now I'm trying to use sed instead of gawk to build miniperl</span></div><div class="line" id="174953"><span class="nick" style="color:#8dd3c7"><a href="#174953" label="[17:49:53]">&lt;stikonas&gt;</a></span><span class="message">fossy: I've generated keywords.h with sed, defines are off by one, but I don't think that matters</span></div><div class="line" id="175134"><span class="nick" style="color:#8dd3c7"><a href="#175134" label="[17:51:34]">&lt;stikonas&gt;</a></span><span class="message">this worked sed -e '1,/__END__/ d' keywords.pl  | sed -e '1d; s/^/#define KEY_/' | sed -n 'p;=' | paste - - &gt; keywords.h</span></div><div class="line" id="175334"><span class="nick" style="color:#2e2a4a"><a href="#175334" label="[17:53:34]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: it has a LICENCE file: <a rel="nofollow" href="https://github.com/amosnier/sha-2/blob/master/LICENSE">https://github.com/amosnier/sha-2/blob/master/LICENSE</a> </span></div><div class="line" id="175414"><span class="nick" style="color:#8dd3c7"><a href="#175414" label="[17:54:14]">&lt;stikonas&gt;</a></span><span class="message">oh, that's good</span></div><div class="line" id="175459"><span class="nick" style="color:#8dd3c7"><a href="#175459" label="[17:54:59]">&lt;stikonas&gt;</a></span><span class="message">so I think if we make any changes, we can also put GPLv3...</span></div><div class="line" id="183329"><span class="nick" style="color:#2e2a4a"><a href="#183329" label="[18:33:29]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: your sed-oneliner looks like it would be better a shell-script... (just saying), but thats something for later...</span></div><div class="line" id="184942"><span class="nick" style="color:#8dd3c7"><a href="#184942" label="[18:49:42]">&lt;stikonas&gt;</a></span><span class="message">ok, draft PR for perl <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/40">https://github.com/fosslinux/live-bootstrap/pull/40</a> </span></div><div class="line" id="184950"><span class="nick" style="color:#8dd3c7"><a href="#184950" label="[18:49:50]">&lt;stikonas&gt;</a></span><span class="message">I'll take a break from perl for now...</span></div><div class="line" id="185007"><span class="nick" style="color:#8dd3c7"><a href="#185007" label="[18:50:07]">&lt;stikonas&gt;</a></span><span class="message">(opcode.h should be recreated before we can merge it)</span></div><div class="line" id="191414"><span class="nick" style="color:#2e2a4a"><a href="#191414" label="[19:14:14]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: fetch a beer!</span></div><div class="line" id="191431"><span class="nick" style="color:#2e2a4a"><a href="#191431" label="[19:14:31]">&lt;gforce_de1977&gt;</a></span><span class="message">and look into the campfire</span></div><div class="line" id="210701"><span class="nick" style="color:#80b1d3"><a href="#210701" label="[21:07:01]">&lt;fossy&gt;</a></span><span class="message">gforce_de1977: stikonas I think I will put sha-2 right after patch, that way we dont have to vendor files (which I dont really enjoy doing)</span></div><div class="line" id="211738"><span class="nick" style="color:#8dd3c7"><a href="#211738" label="[21:17:38]">&lt;stikonas&gt;</a></span><span class="message">yeah, ok...</span></div><div class="line" id="211757"><span class="nick" style="color:#8dd3c7"><a href="#211757" label="[21:17:57]">&lt;stikonas&gt;</a></span><span class="message">fossy: so I've done the easy file for now in perl (keywords.h)</span></div><div class="line" id="211802"><span class="nick" style="color:#8dd3c7"><a href="#211802" label="[21:18:02]">&lt;stikonas&gt;</a></span><span class="message">the harder one still remains</span></div><div class="line" id="212132"><span class="nick" style="color:#2e2a4a"><a href="#212132" label="[21:21:32]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: i have updated <a rel="nofollow" href="http://intercity-vpn.de/sha256sum.c">http://intercity-vpn.de/sha256sum.c</a>  with some comments, just change what you need (e.g. OK and ERROR messages)</span></div><div class="line" id="213645"><span class="nick" style="color:#80b1d3"><a href="#213645" label="[21:36:45]">&lt;fossy&gt;</a></span><span class="message">:)</span></div><div class="line" id="221503"><span class="nick" style="color:#d9d9d9"><a href="#221503" label="[22:15:03]">&lt;pder&gt;</a></span><span class="message">stikonas: I might have a better musl fix for the truncated output shortly</span></div><div class="line" id="221533"><span class="nick" style="color:#d9d9d9"><a href="#221533" label="[22:15:33]">&lt;pder&gt;</a></span><span class="message">Did you work around your issue by doing an fclose before exiting?</span></div><div class="line" id="232828"><span class="nick" style="color:#8dd3c7"><a href="#232828" label="[23:28:28]">&lt;stikonas&gt;</a></span><span class="message">pder: no, I didn't look at it yet, but it might not be critical</span></div><div class="line" id="232918"><span class="nick" style="color:#8dd3c7"><a href="#232918" label="[23:29:18]">&lt;stikonas&gt;</a></span><span class="message">pder: it might be causing problems with perl scripts that we need to bootstrap perl more properly but I think automake might be working fine</span></div><div class="line" id="233646"><span class="nick" style="color:#d9d9d9"><a href="#233646" label="[23:36:46]">&lt;pder&gt;</a></span><span class="message">stikonas: I just pushed a branch stdio-flush-on-exit.  Seems to be working better and doesnt require my previous patch.</span></div><div class="line" id="233737"><span class="nick" style="color:#d9d9d9"><a href="#233737" label="[23:37:37]">&lt;pder&gt;</a></span><span class="message">On a side note, we can easily rebuild bash now with CC=tcc AR='tcc -ar' bash configure --without-bash-malloc  &amp;&amp; make</span></div><div class="line" id="233751"><span class="nick" style="color:#d9d9d9"><a href="#233751" label="[23:37:51]">&lt;pder&gt;</a></span><span class="message">And it is interactive</span></div><div class="line" id="233819"><span class="nick" style="color:#d9d9d9"><a href="#233819" label="[23:38:19]">&lt;pder&gt;</a></span><span class="message">But I know we would like to have autotools before running configure scripts</span></div><div class="line" id="235132"><span class="nick" style="color:#8dd3c7"><a href="#235132" label="[23:51:32]">&lt;stikonas&gt;</a></span><span class="message">pder: yeah, I think we should try to run autotools first</span></div><div class="line" id="235244"><span class="nick" style="color:#8dd3c7"><a href="#235244" label="[23:52:44]">&lt;stikonas&gt;</a></span><span class="message">I'm not an expert on autotools though. Do we need to have different versions of autotools for different software?</span></div><div class="line" id="235431"><span class="nick" style="color:#8dd3c7"><a href="#235431" label="[23:54:31]">&lt;stikonas&gt;</a></span><span class="message">pder: I guess bash is interactive because it builds with readline?</span></div><br /></div></body></html>