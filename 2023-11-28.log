<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2023-11-28.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000337"><span class="nick" style="color:#389600"><a href="#000337" label="[00:03:37]">&lt;rickmasters&gt;</a></span><span class="message">there are several ways to give Fiwix more storage space to build with but they're just not easy to do.</span></div><div class="line" id="002735"><span class="nick" style="color:#8dd3c7"><a href="#002735" label="[00:27:35]">&lt;stikonas&gt;</a></span><span class="message">well, unifying linux tarballs gives us quite a bit already</span></div><div class="line" id="002745"><span class="nick" style="color:#8dd3c7"><a href="#002745" label="[00:27:45]">&lt;stikonas&gt;</a></span><span class="message">those tarballs were huge...</span></div><div class="line" id="003142"><span class="nick" style="color:#8dd3c7"><a href="#003142" label="[00:31:42]">&lt;stikonas&gt;</a></span><span class="message">and there are some other ways we could save some storage</span></div><div class="line" id="003149"><span class="nick" style="color:#8dd3c7"><a href="#003149" label="[00:31:49]">&lt;stikonas&gt;</a></span><span class="message">some of them are not too hard</span></div><div class="line" id="003211"><span class="nick" style="color:#8dd3c7"><a href="#003211" label="[00:32:11]">&lt;stikonas&gt;</a></span><span class="message">e.g. one could delete unrelated arch directories from stage0-posix</span></div><div class="line" id="003222"><span class="nick" style="color:#8dd3c7"><a href="#003222" label="[00:32:22]">&lt;stikonas&gt;</a></span><span class="message">could probably save a few MiB</span></div><div class="line" id="003318"><span class="nick" style="color:#2e2a4a"><a href="#003318" label="[00:33:18]">&lt;GoogulatorMobile&gt;</a></span><span class="message">Modifying CHS access to LBA is why I'm interested in a higher-level version of builder-hex0</span></div><div class="line" id="003350"><span class="nick" style="color:#8dd3c7"><a href="#003350" label="[00:33:50]">&lt;stikonas&gt;</a></span><span class="message">well, right now we basically have only hex2 version of builder-hex0</span></div><div class="line" id="003406"><span class="nick" style="color:#2e2a4a"><a href="#003406" label="[00:34:06]">&lt;GoogulatorMobile&gt;</a></span><span class="message">Most 15-to-25YO boards don't really support CHS for anything serious</span></div><div class="line" id="003408"><span class="nick" style="color:#8dd3c7"><a href="#003408" label="[00:34:08]">&lt;stikonas&gt;</a></span><span class="message">and I think rickmaster manualy inspects diff between binaries after modification</span></div><div class="line" id="003417"><span class="nick" style="color:#8dd3c7"><a href="#003417" label="[00:34:17]">&lt;stikonas&gt;</a></span><span class="message">but it's not really writing hex0 directly</span></div><div class="line" id="003420"><span class="nick" style="color:#2e2a4a"><a href="#003420" label="[00:34:20]">&lt;GoogulatorMobile&gt;</a></span><span class="message">hex2 is probably good enough</span></div><div class="line" id="003434"><span class="nick" style="color:#8dd3c7"><a href="#003434" label="[00:34:34]">&lt;stikonas&gt;</a></span><span class="message">yeah, hex2 is not too bad</span></div><div class="line" id="003435"><span class="nick" style="color:#2e2a4a"><a href="#003435" label="[00:34:35]">&lt;GoogulatorMobile&gt;</a></span><span class="message">easy to get from assembly to hex2</span></div><div class="line" id="003440"><span class="nick" style="color:#8dd3c7"><a href="#003440" label="[00:34:40]">&lt;stikonas&gt;</a></span><span class="message">especially on x86</span></div><div class="line" id="003454"><span class="nick" style="color:#2e2a4a"><a href="#003454" label="[00:34:54]">&lt;GoogulatorMobile&gt;</a></span><span class="message">&amp; assembly is the language of choice for interfacing with 16-bit BIOS anyway</span></div><div class="line" id="003459"><span class="nick" style="color:#8dd3c7"><a href="#003459" label="[00:34:59]">&lt;stikonas&gt;</a></span><span class="message">it's a bit different for riscv64 where you still have to do some horrible transformations for immediate constants</span></div><div class="line" id="003519"><span class="nick" style="color:#8dd3c7"><a href="#003519" label="[00:35:19]">&lt;stikonas&gt;</a></span><span class="message">well, M0 is probably the nicest thing for this</span></div><div class="line" id="003600"><span class="nick" style="color:#8dd3c7"><a href="#003600" label="[00:36:00]">&lt;stikonas&gt;</a></span><span class="message">but for now we don't have that</span></div><div class="line" id="004006"><span class="nick" style="color:#389600"><a href="#004006" label="[00:40:06]">&lt;rickmasters&gt;</a></span><span class="message">GoogulatorMobile: Did you need to increase any ram drives to build a bigger kernel? I didn't find that in your playground branch.</span></div><div class="line" id="004151"><span class="nick" style="color:#389600"><a href="#004151" label="[00:41:51]">&lt;rickmasters&gt;</a></span><span class="message">Nor did I see linux tar ball unification but maybe I'm missing something...</span></div><div class="line" id="013947"><span class="nick" style="color:#2e2a4a"><a href="#013947" label="[01:39:47]">&lt;GoogulatorMobile&gt;</a></span><span class="message">It's not yet in playground</span></div><div class="line" id="014002"><span class="nick" style="color:#2e2a4a"><a href="#014002" label="[01:40:02]">&lt;GoogulatorMobile&gt;</a></span><span class="message">It's in the &quot;birthday&quot; patch from 11/18</span></div><div class="line" id="020436"><span class="nick" style="color:#2e2a4a"><a href="#020436" label="[02:04:36]">&lt;GoogulatorMobile&gt;</a></span><span class="message">fossy: I noticed the builder-hex0 stage 2 in live-bootstrap doesn't match the one in ironmeld/builder-hex0</span></div><div class="line" id="020447"><span class="nick" style="color:#2e2a4a"><a href="#020447" label="[02:04:47]">&lt;GoogulatorMobile&gt;</a></span><span class="message">Is it simply an older version, or is it modified?</span></div><div class="line" id="020506"><span class="nick" style="color:#6b8072"><a href="#020506" label="[02:05:06]">&lt;oriansj&gt;</a></span><span class="message">well a hex2 bootloading stage could be potentially crammed in 510 bytes but it'll require some creativity.</span></div><div class="line" id="020614"><span class="nick" style="color:#6b8072"><a href="#020614" label="[02:06:14]">&lt;oriansj&gt;</a></span><span class="message">then builder-hex0 could just be a hex2 program loaded/assembled and then run</span></div><div class="line" id="020952"><span class="nick" style="color:#80b1d3"><a href="#020952" label="[02:09:52]">&lt;fossy&gt;</a></span><span class="message">GoogulatorMobile: unsure, rickmasters put that there</span></div><div class="line" id="021739"><span class="nick" style="color:#389600"><a href="#021739" label="[02:17:39]">&lt;rickmasters&gt;</a></span><span class="message">GoogulatorMobile: The one in live-bootstrap is just a few commits behind</span></div><div class="line" id="022200"><span class="nick" style="color:#389600"><a href="#022200" label="[02:22:00]">&lt;rickmasters&gt;</a></span><span class="message">GoogulatorMobile: the one in ironmeld has cosmetic changes and supports an 'f' command to flush to disk.</span></div><div class="line" id="022551"><span class="nick" style="color:#8dd3c7"><a href="#022551" label="[02:25:51]">&lt;stikonas&gt;</a></span><span class="message">oriansj: I wasn't thinking about hex2 bootloading stage, I was thinking more of the hex0 bootloading stage that loads secondary larger loader that then loads builder-hex0</span></div><div class="line" id="022623"><span class="nick" style="color:#8dd3c7"><a href="#022623" label="[02:26:23]">&lt;stikonas&gt;</a></span><span class="message">basically follow stage0-posix stuff</span></div><div class="line" id="022630"><span class="nick" style="color:#389600"><a href="#022630" label="[02:26:30]">&lt;rickmasters&gt;</a></span><span class="message">GoogulatorMobile: The flush allows writing to disk and then booting fiwix off disk but we ended up not using that method.</span></div><div class="line" id="022631"><span class="nick" style="color:#8dd3c7"><a href="#022631" label="[02:26:31]">&lt;stikonas&gt;</a></span><span class="message">just make each program a &quot;kernel&quot;</span></div><div class="line" id="022657"><span class="nick" style="color:#8dd3c7"><a href="#022657" label="[02:26:57]">&lt;stikonas&gt;</a></span><span class="message">well, up to a point where we have good enough language for proper builder-hex0</span></div><div class="line" id="022711"><span class="nick" style="color:#389600"><a href="#022711" label="[02:27:11]">&lt;rickmasters&gt;</a></span><span class="message">GoogulatorMobile: If you're going to make a change that is needed for live-bootstrap I'd recommend using the latest ironmeld version as a base.</span></div><div class="line" id="022841"><span class="nick" style="color:#389600"><a href="#022841" label="[02:28:41]">&lt;rickmasters&gt;</a></span><span class="message">GoogulatorMobile: arguably we should be using a git submodule</span></div><div class="line" id="022924"><span class="nick" style="color:#8dd3c7"><a href="#022924" label="[02:29:24]">&lt;stikonas&gt;</a></span><span class="message">yeah, git submodule sounds right for this thing</span></div><div class="line" id="022934"><span class="nick" style="color:#8dd3c7"><a href="#022934" label="[02:29:34]">&lt;stikonas&gt;</a></span><span class="message">some people don't like them, but we arleady use them anyway</span></div><div class="line" id="023059"><span class="nick" style="color:#389600"><a href="#023059" label="[02:30:59]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: the downside is that it pulls in a lot of code, docs, utils and cruft that is not needed for live-bootstrap</span></div><div class="line" id="023116"><span class="nick" style="color:#8dd3c7"><a href="#023116" label="[02:31:16]">&lt;stikonas&gt;</a></span><span class="message">oh, indeed...</span></div><div class="line" id="023125"><span class="nick" style="color:#8dd3c7"><a href="#023125" label="[02:31:25]">&lt;stikonas&gt;</a></span><span class="message">and that blows up our already constrained size</span></div><div class="line" id="023150"><span class="nick" style="color:#389600"><a href="#023150" label="[02:31:50]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: but it probably makes sense as it can mislead someone into working on an out-of-date version.</span></div><div class="line" id="023209"><span class="nick" style="color:#389600"><a href="#023209" label="[02:32:09]">&lt;rickmasters&gt;</a></span><span class="message">I mean not having a submodule can be misleading</span></div><div class="line" id="023227"><span class="nick" style="color:#8dd3c7"><a href="#023227" label="[02:32:27]">&lt;stikonas&gt;</a></span><span class="message">yeah...</span></div><div class="line" id="023234"><span class="nick" style="color:#8dd3c7"><a href="#023234" label="[02:32:34]">&lt;stikonas&gt;</a></span><span class="message">there should be at least another readme file</span></div><div class="line" id="023241"><span class="nick" style="color:#8dd3c7"><a href="#023241" label="[02:32:41]">&lt;stikonas&gt;</a></span><span class="message">if we do't have submodule</span></div><div class="line" id="023338"><span class="nick" style="color:#8dd3c7"><a href="#023338" label="[02:33:38]">&lt;stikonas&gt;</a></span><span class="message">well, the whole thing not counting .git is 400K</span></div><div class="line" id="023414"><span class="nick" style="color:#389600"><a href="#023414" label="[02:34:14]">&lt;rickmasters&gt;</a></span><span class="message">manually copying over to this repo made more sense when I thought I would be the only one doing it...</span></div><div class="line" id="023441"><span class="nick" style="color:#8dd3c7"><a href="#023441" label="[02:34:41]">&lt;stikonas&gt;</a></span><span class="message">hmm, I haven't looked at your repo in a while</span></div><div class="line" id="023458"><span class="nick" style="color:#8dd3c7"><a href="#023458" label="[02:34:58]">&lt;stikonas&gt;</a></span><span class="message">what's the difference between builder-hex0.hex0 and  builder-hex0-x86-stage2.hex0</span></div><div class="line" id="023612"><span class="nick" style="color:#389600"><a href="#023612" label="[02:36:12]">&lt;rickmasters&gt;</a></span><span class="message">see DEVELOP.md, the build-hex0 is the original one with no stages</span></div><div class="line" id="023635"><span class="nick" style="color:#8dd3c7"><a href="#023635" label="[02:36:35]">&lt;stikonas&gt;</a></span><span class="message">oh I see</span></div><div class="line" id="023818"><span class="nick" style="color:#389600"><a href="#023818" label="[02:38:18]">&lt;rickmasters&gt;</a></span><span class="message">both builder-hex0-x86-stage2.hex0 and builder-hex0.hex0 come from the same hex2 file, they are just &quot;compiled&quot; with different starting addresses</span></div><div class="line" id="024532"><span class="nick" style="color:#389600"><a href="#024532" label="[02:45:32]">&lt;rickmasters&gt;</a></span><span class="message">in other words, the builder-hex0 is relocatable to two different addresses depending on whether it was loaded by stage1 or not.</span></div><div class="line" id="024701"><span class="nick" style="color:#389600"><a href="#024701" label="[02:47:01]">&lt;rickmasters&gt;</a></span><span class="message">At the beginning of the kernel_main it detects whether it is already loaded by stage1 or needs to load itself.</span></div><div class="line" id="024816"><span class="nick" style="color:#389600"><a href="#024816" label="[02:48:16]">&lt;rickmasters&gt;</a></span><span class="message">At the beginning of internalshell it detects where source should be read from the disk depending on how the kernel was loaded.</span></div><div class="line" id="025144"><span class="nick" style="color:#389600"><a href="#025144" label="[02:51:44]">&lt;rickmasters&gt;</a></span><span class="message">stikonas: you said the git submodule &quot;blows up our already constrained size&quot; but it only affect the live-bootstrap checkout footprint,</span></div><div class="line" id="025157"><span class="nick" style="color:#8dd3c7"><a href="#025157" label="[02:51:57]">&lt;stikonas&gt;</a></span><span class="message">oh, perhaps I was wrong</span></div><div class="line" id="025211"><span class="nick" style="color:#389600"><a href="#025211" label="[02:52:11]">&lt;rickmasters&gt;</a></span><span class="message">those files wouldn't be loaded into memory or anything</span></div><div class="line" id="025212"><span class="nick" style="color:#8dd3c7"><a href="#025212" label="[02:52:12]">&lt;stikonas&gt;</a></span><span class="message"> I didn't remember what rootfs.py does with that directory</span></div><div class="line" id="025216"><span class="nick" style="color:#8dd3c7"><a href="#025216" label="[02:52:16]">&lt;stikonas&gt;</a></span><span class="message">yeah, that's good</span></div><div class="line" id="025530"><span class="nick" style="color:#389600"><a href="#025530" label="[02:55:30]">&lt;rickmasters&gt;</a></span><span class="message">sysa.py:create_builder_hex0_disk_image() pulls the specific files into the disk image</span></div><div class="line" id="030145"><span class="nick" style="color:#389600"><a href="#030145" label="[03:01:45]">&lt;rickmasters&gt;</a></span><span class="message">GoogulatorMobile: thanks, found your birthday patch. Happy Birthday! (belated)</span></div><div class="line" id="030312"><span class="nick" style="color:#389600"><a href="#030312" label="[03:03:12]">&lt;rickmasters&gt;</a></span><span class="message">Stepping away. i'll be back tomorrow.</span></div><div class="line" id="233159"><span class="nick" style="color:#80b1d3"><a href="#233159" label="[23:31:59]">&lt;fossy&gt;</a></span><span class="message"> <a rel="nofollow" href="https://matrix.org/blog/2023/11/28/shutting-down-bridge-to-libera-chat/">https://matrix.org/blog/2023/11/28/shutting-down-bridge-to-libera-chat/</a>  fwiw</span></div><div class="line" id="233343"><span class="nick" style="color:#6d2462"><a href="#233343" label="[23:33:43]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; well, that was kind of expected</span></div><div class="line" id="233358"><span class="nick" style="color:#6d2462"><a href="#233358" label="[23:33:58]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; given how bridge shutdown happened a few months ago</span></div><div class="line" id="233539"><span class="nick" style="color:#8dd3c7"><a href="#233539" label="[23:35:39]">&lt;stikonas&gt;</a></span><span class="message">they were given some very short notice to bring down the bridge back then</span></div><div class="line" id="233618"><span class="nick" style="color:#8dd3c7"><a href="#233618" label="[23:36:18]">&lt;stikonas&gt;</a></span><span class="message">and communication coming from libera and EMS were fairly different</span></div><div class="line" id="233625"><span class="nick" style="color:#8dd3c7"><a href="#233625" label="[23:36:25]">&lt;stikonas&gt;</a></span><span class="message">which meant there were some serious differences</span></div><div class="line" id="233804"><span class="nick" style="color:#80b1d3"><a href="#233804" label="[23:38:04]">&lt;fossy&gt;</a></span><span class="message">yeah, not unexpected</span></div><div class="line" id="233915"><span class="nick" style="color:#8dd3c7"><a href="#233915" label="[23:39:15]">&lt;stikonas&gt;</a></span><span class="message">well, I do run heisenbridge on this room...</span></div><div class="line" id="233924"><span class="nick" style="color:#8dd3c7"><a href="#233924" label="[23:39:24]">&lt;stikonas&gt;</a></span><span class="message">but it's on residential connection</span></div><div class="line" id="233933"><span class="nick" style="color:#8dd3c7"><a href="#233933" label="[23:39:33]">&lt;stikonas&gt;</a></span><span class="message">so don't expect it to be 100% reliable</span></div><br /></div></body></html>