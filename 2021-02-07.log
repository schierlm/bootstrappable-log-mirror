<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2021-02-07.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="002634"><span class="nick" style="color:#8dd3c7"><a href="#002634" label="[00:26:34]">&lt;fossy&gt;</a></span><span class="message">stikonas: reuse pr is up</span></div><div class="line" id="002642"><span class="nick" style="color:#2e2a4a"><a href="#002642" label="[00:26:42]">&lt;stikonas&gt;</a></span><span class="message">looking</span></div><div class="line" id="004155"><span class="nick" style="color:#2e2a4a"><a href="#004155" label="[00:41:55]">&lt;stikonas&gt;</a></span><span class="message">fossy: ok, done</span></div><div class="line" id="004234"><span class="nick" style="color:#2e2a4a"><a href="#004234" label="[00:42:34]">&lt;stikonas&gt;</a></span><span class="message">mostly minor comments, but I suggest more permissive license for .gitgnore and .gitmodules</span></div><div class="line" id="004313"><span class="nick" style="color:#2e2a4a"><a href="#004313" label="[00:43:13]">&lt;stikonas&gt;</a></span><span class="message">maybe MIT or CC0?</span></div><div class="line" id="004333"><span class="nick" style="color:#2e2a4a"><a href="#004333" label="[00:43:33]">&lt;stikonas&gt;</a></span><span class="message">especially .gitmodules is autogenerated by git command</span></div><div class="line" id="004342"><span class="nick" style="color:#2e2a4a"><a href="#004342" label="[00:43:42]">&lt;stikonas&gt;</a></span><span class="message">so arguably there is nothing copyrightable there</span></div><div class="line" id="005237"><span class="nick" style="color:#6b8072"><a href="#005237" label="[00:52:37]">&lt;OriansJ&gt;</a></span><span class="message">stikonas: well .gitmodules is just a list of paths and urls and facts like phone numbers is non-copyrightable (in the USA)</span></div><div class="line" id="005402"><span class="nick" style="color:#2e2a4a"><a href="#005402" label="[00:54:02]">&lt;stikonas&gt;</a></span><span class="message">well, same for .gitignore</span></div><div class="line" id="005416"><span class="nick" style="color:#2e2a4a"><a href="#005416" label="[00:54:16]">&lt;stikonas&gt;</a></span><span class="message">that's why I thought putting GPLv3 there is overkilll</span></div><div class="line" id="005534"><span class="nick" style="color:#6b8072"><a href="#005534" label="[00:55:34]">&lt;OriansJ&gt;</a></span><span class="message">well .gitignore can certainly be hand written (all of them in my projects are)</span></div><div class="line" id="005649"><span class="nick" style="color:#6b8072"><a href="#005649" label="[00:56:49]">&lt;OriansJ&gt;</a></span><span class="message">and when in doubt, overkill is the option to use in this sort of a project</span></div><div class="line" id="005657"><span class="nick" style="color:#2e2a4a"><a href="#005657" label="[00:56:57]">&lt;stikonas&gt;</a></span><span class="message">well, okay...</span></div><div class="line" id="005751"><span class="nick" style="color:#6b8072"><a href="#005751" label="[00:57:51]">&lt;OriansJ&gt;</a></span><span class="message">Everything has to be beyond question and above board.</span></div><div class="line" id="005839"><span class="nick" style="color:#6b8072"><a href="#005839" label="[00:58:39]">&lt;OriansJ&gt;</a></span><span class="message">a delay to get proper licensing now will save us when in 4 years someone thinks to get a quick buck and shutdowns everything to do it.</span></div><div class="line" id="005948"><span class="nick" style="color:#6b8072"><a href="#005948" label="[00:59:48]">&lt;OriansJ&gt;</a></span><span class="message">prepare for the worst of human nature and you'll be safe when it shows up; because it will.</span></div><div class="line" id="010026"><span class="nick" style="color:#2e2a4a"><a href="#010026" label="[01:00:26]">&lt;stikonas&gt;</a></span><span class="message">well, both would be proper licensing... I was just thinking which license to use</span></div><div class="line" id="010042"><span class="nick" style="color:#2e2a4a"><a href="#010042" label="[01:00:42]">&lt;stikonas&gt;</a></span><span class="message">but with reuse 3.0 every file in the repo has a license and copyright statement</span></div><div class="line" id="010440"><span class="nick" style="color:#2e2a4a"><a href="#010440" label="[01:04:40]">&lt;stikonas&gt;</a></span><span class="message">anyway, reuse is a very nice tool by FSFE... It might be worth adopting it in other bootstrapping repositories</span></div><div class="line" id="010655"><span class="nick" style="color:#8dd3c7"><a href="#010655" label="[01:06:55]">&lt;fossy&gt;</a></span><span class="message">stikonas: i think i'll just go with MIT for .git*</span></div><div class="line" id="010900"><span class="nick" style="color:#8dd3c7"><a href="#010900" label="[01:09:00]">&lt;fossy&gt;</a></span><span class="message">10:58 &lt;OriansJ&gt; a delay to get proper licensing now will save us when in 4 years someone thinks to get a quick buck and shutdowns everything to do it.</span></div><div class="line" id="010903"><span class="nick" style="color:#8dd3c7"><a href="#010903" label="[01:09:03]">&lt;fossy&gt;</a></span><span class="message">how do you mean OriansJ</span></div><div class="line" id="040508"><span class="nick" style="color:#6b8072"><a href="#040508" label="[04:05:08]">&lt;OriansJ&gt;</a></span><span class="message">fossy: when it comes to copyright licensing and the stiff financial penalties for violation, it is best to assume bad faith and get terms up front that are favorable for the worst case in the future. Aka know for certain that it is under a free license or skip entirely to eliminate the risk.</span></div><div class="line" id="052551"><span class="nick" style="color:#8dd3c7"><a href="#052551" label="[05:25:51]">&lt;fossy&gt;</a></span><span class="message">OriansJ: ah, i see what you mean now</span></div><div class="line" id="062854"><span class="nick">***</span><span class="message notice">mephista is now known as spicy_icecream</span></div><div class="line" id="063352"><span class="nick" style="color:#6b8072"><a href="#063352" label="[06:33:52]">&lt;OriansJ&gt;</a></span><span class="message">best to learn from the past <a rel="nofollow" href="https://en.wikipedia.org/wiki/USL_v._BSDi">https://en.wikipedia.org/wiki/USL_v._BSDi</a>  than to repeat the same foolish mistakes.</span></div><div class="line" id="063527"><span class="nick" style="color:#6b8072"><a href="#063527" label="[06:35:27]">&lt;OriansJ&gt;</a></span><span class="message"> <a rel="nofollow" href="https://en.wikipedia.org/wiki/SCO-Linux_controversies">https://en.wikipedia.org/wiki/SCO-Linux_controversies</a> </span></div><div class="line" id="063906"><span class="nick" style="color:#6b8072"><a href="#063906" label="[06:39:06]">&lt;OriansJ&gt;</a></span><span class="message">we can't afford the years of delay that such things can cause.</span></div><div class="line" id="064226"><span class="nick" style="color:#6b8072"><a href="#064226" label="[06:42:26]">&lt;OriansJ&gt;</a></span><span class="message">We barely are holding on to the rope bridge of bootstrapping Guix, let alone trying to get bootstrap paths on all the nw things coming out everyday and creating paths to the pieces we don't have yet done (GHC, GCC-Ada, etc) even if they are only weeks of work</span></div><div class="line" id="064434"><span class="nick" style="color:#6b8072"><a href="#064434" label="[06:44:34]">&lt;OriansJ&gt;</a></span><span class="message">We have new CPU architectures that we will need to port to and lifetimes of work to do.</span></div><div class="line" id="082414"><span class="nick" style="color:#80b1d3"><a href="#082414" label="[08:24:14]">&lt;gio&gt;</a></span><span class="message">fossy, stikonas[m], OriansJ: most stuff in nbs is not mine, so it goes under their own license. My stuff is BSD-2, as written in the readme.</span></div><div class="line" id="084214"><span class="nick" style="color:#6d2462"><a href="#084214" label="[08:42:14]">&lt;siraben&gt;</a></span><span class="message">BSD isn't copyleft, is it?</span></div><div class="line" id="084613"><span class="nick" style="color:#8dd3c7"><a href="#084613" label="[08:46:13]">&lt;fossy&gt;</a></span><span class="message">yes it is</span></div><div class="line" id="084616"><span class="nick" style="color:#8dd3c7"><a href="#084616" label="[08:46:16]">&lt;fossy&gt;</a></span><span class="message">well</span></div><div class="line" id="084620"><span class="nick" style="color:#8dd3c7"><a href="#084620" label="[08:46:20]">&lt;fossy&gt;</a></span><span class="message">basically as copyleft as MIT</span></div><div class="line" id="084624"><span class="nick" style="color:#8dd3c7"><a href="#084624" label="[08:46:24]">&lt;fossy&gt;</a></span><span class="message">it's a more permissive license</span></div><div class="line" id="084627"><span class="nick" style="color:#6d2462"><a href="#084627" label="[08:46:27]">&lt;siraben&gt;</a></span><span class="message">will that be a problem for us?</span></div><div class="line" id="084632"><span class="nick" style="color:#8dd3c7"><a href="#084632" label="[08:46:32]">&lt;fossy&gt;</a></span><span class="message">not at all</span></div><div class="line" id="084648"><span class="nick" style="color:#6d2462"><a href="#084648" label="[08:46:48]">&lt;siraben&gt;</a></span><span class="message">ok</span></div><div class="line" id="093928"><span class="nick" style="color:#234e69"><a href="#093928" label="[09:39:28]">&lt;gforce_d11977&gt;</a></span><span class="message">fossy: stikonas: I updated <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/30">https://github.com/fosslinux/live-bootstrap/pull/30</a> </span></div><div class="line" id="094033"><span class="nick" style="color:#6c3d55"><a href="#094033" label="[09:40:33]">&lt;janneke&gt;</a></span><span class="message">OriansJ: ah, i see; in any case, let's be pragmatic while trying hard to think forward too ;)</span></div><div class="line" id="094221"><span class="nick" style="color:#234e69"><a href="#094221" label="[09:42:21]">&lt;gforce_d11977&gt;</a></span><span class="message">fossy: stikonas: DIFF here: <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/compare/master...bittorf:wget_cache">https://github.com/fosslinux/live-bootstrap/compare/master...bittorf:wget_cache</a> </span></div><div class="line" id="094517"><span class="nick" style="color:#6c3d55"><a href="#094517" label="[09:45:17]">&lt;janneke&gt;</a></span><span class="message">today's my talk in #fosdem-declarative.minimalistic: <a rel="nofollow" href="https://fosdem.org/2021/schedule/event/gnumes">https://fosdem.org/2021/schedule/event/gnumes</a> </span></div><div class="line" id="130132"><span class="nick" style="color:#d9d9d9"><a href="#130132" label="[13:01:32]">&lt;deesix&gt;</a></span><span class="message">fossy, I think you're confusing Copyleft with something else.</span></div><div class="line" id="131322"><span class="nick" style="color:#6d2462"><a href="#131322" label="[13:13:22]">&lt;siraben&gt;</a></span><span class="message">janneke: yay, I enjoyed that talk</span></div><div class="line" id="131356"><span class="nick" style="color:#6c3d55"><a href="#131356" label="[13:13:56]">&lt;janneke&gt;</a></span><span class="message">siraben: thanks -- sorry about the technical hiccup!</span></div><div class="line" id="131420"><span class="nick" style="color:#6d2462"><a href="#131420" label="[13:14:20]">&lt;siraben&gt;</a></span><span class="message">this was the whole talk right? <a rel="nofollow" href="https://fosdem.org/2021/schedule/event/gnumes/attachments/video/4690/export/events/attachments/gnumes/video/4690/gnu_mes_fosdem21.mp4">https://fosdem.org/2021/schedule/event/gnumes/attachments/video/4690/export/events/attachments/gnumes/video/4690/gnu_mes_fosdem21.mp4</a> </span></div><div class="line" id="131514"><span class="nick" style="color:#6d2462"><a href="#131514" label="[13:15:14]">&lt;siraben&gt;</a></span><span class="message">hopefully blynn-compiler can also play a role in this graph at some point too :D</span></div><div class="line" id="131602"><span class="nick" style="color:#6c3d55"><a href="#131602" label="[13:16:02]">&lt;janneke&gt;</a></span><span class="message">siraben: yes, that's it</span></div><div class="line" id="143900"><span class="nick" style="color:#6b8072"><a href="#143900" label="[14:39:00]">&lt;OriansJ&gt;</a></span><span class="message">siraben: well we still have to bootstrap GHC somehow getting Mes a better scheme certainly are import goals</span></div><div class="line" id="150249"><span class="nick" style="color:#2e2a4a"><a href="#150249" label="[15:02:49]">&lt;stikonas&gt;</a></span><span class="message">pder: I found what was causing problems in regex.c in m4-1.4.16...</span></div><div class="line" id="150300"><span class="nick" style="color:#2e2a4a"><a href="#150300" label="[15:03:00]">&lt;stikonas&gt;</a></span><span class="message">let's see if I can build the whole program now</span></div><div class="line" id="150524"><span class="nick" style="color:#2e2a4a"><a href="#150524" label="[15:05:24]">&lt;stikonas&gt;</a></span><span class="message">hmm, I might go for a bit earlier version of m4 if i it's easier though...</span></div><div class="line" id="150529"><span class="nick" style="color:#2e2a4a"><a href="#150529" label="[15:05:29]">&lt;stikonas&gt;</a></span><span class="message">and if it's sufficient for bison</span></div><div class="line" id="151944"><span class="nick" style="color:#2e2a4a"><a href="#151944" label="[15:19:44]">&lt;stikonas&gt;</a></span><span class="message">ok, built m4-1.4.6</span></div><div class="line" id="154344"><span class="nick" style="color:#d9d9d9"><a href="#154344" label="[15:43:44]">&lt;deesix&gt;</a></span><span class="message">stikonas, amazing job!</span></div><div class="line" id="154513"><span class="nick" style="color:#2e2a4a"><a href="#154513" label="[15:45:13]">&lt;stikonas&gt;</a></span><span class="message">well, it wasn't too hard. Just a bit of diffing through source code to find that i had to define -D_GNU_SOURCE=1</span></div><div class="line" id="154543"><span class="nick" style="color:#2e2a4a"><a href="#154543" label="[15:45:43]">&lt;stikonas&gt;</a></span><span class="message">hopefully, bison bootstrap will now work, but need to test that...</span></div><div class="line" id="154720"><span class="nick" style="color:#d9d9d9"><a href="#154720" label="[15:47:20]">&lt;deesix&gt;</a></span><span class="message">Well, not just this one, but all of the efforts during the last weeks!</span></div><div class="line" id="163026"><span class="nick" style="color:#6b8072"><a href="#163026" label="[16:30:26]">&lt;OriansJ&gt;</a></span><span class="message">I have a stupid idea to solve the javascript problem with brute force</span></div><div class="line" id="163054"><span class="nick" style="color:#2e2a4a"><a href="#163054" label="[16:30:54]">&lt;stikonas&gt;</a></span><span class="message">?</span></div><div class="line" id="163104"><span class="nick" style="color:#2e2a4a"><a href="#163104" label="[16:31:04]">&lt;stikonas&gt;</a></span><span class="message">non-free javascript on the web?</span></div><div class="line" id="163108"><span class="nick" style="color:#2e2a4a"><a href="#163108" label="[16:31:08]">&lt;stikonas&gt;</a></span><span class="message">or is this some other problem</span></div><div class="line" id="163152"><span class="nick" style="color:#6b8072"><a href="#163152" label="[16:31:52]">&lt;OriansJ&gt;</a></span><span class="message">the massive unmanagable javascript problem of vendoring</span></div><div class="line" id="163229"><span class="nick" style="color:#6b8072"><a href="#163229" label="[16:32:29]">&lt;OriansJ&gt;</a></span><span class="message">that even RedHat has abandon dealing with javascript packaging in RPM</span></div><div class="line" id="163951"><span class="nick" style="color:#234e69"><a href="#163951" label="[16:39:51]">&lt;gforce_d11977&gt;</a></span><span class="message">OriansJ: and what is your idea about JS?</span></div><div class="line" id="164503"><span class="nick" style="color:#6b8072"><a href="#164503" label="[16:45:03]">&lt;OriansJ&gt;</a></span><span class="message">have a unique bot for each js developer and assume an incremental only development model for their dependencies</span></div><div class="line" id="164707"><span class="nick" style="color:#6b8072"><a href="#164707" label="[16:47:07]">&lt;OriansJ&gt;</a></span><span class="message">Then when it finds a the oldest combo that can build the commit, generate a guix package definition and repeat for all commits.</span></div><div class="line" id="164814"><span class="nick" style="color:#6b8072"><a href="#164814" label="[16:48:14]">&lt;OriansJ&gt;</a></span><span class="message">Make javascipt a seperate channel for guix because it'll become *VERY MESSY* rather quickly</span></div><div class="line" id="164845"><span class="nick" style="color:#6b8072"><a href="#164845" label="[16:48:45]">&lt;OriansJ&gt;</a></span><span class="message">but enables us to not throw humans at the problem of packaging javascript</span></div><div class="line" id="164941"><span class="nick" style="color:#6b8072"><a href="#164941" label="[16:49:41]">&lt;OriansJ&gt;</a></span><span class="message">instead throw a server or so at it and forget all about it.</span></div><div class="line" id="165510"><span class="nick" style="color:#234e69"><a href="#165510" label="[16:55:10]">&lt;gforce_d11977&gt;</a></span><span class="message">OriansJ: interesting 8-)</span></div><div class="line" id="165637"><span class="nick" style="color:#6b8072"><a href="#165637" label="[16:56:37]">&lt;OriansJ&gt;</a></span><span class="message">It'll be more of a problem for someone more familiar with machine learning than for me but I thought the idea worth sharing.</span></div><div class="line" id="170712"><span class="nick" style="color:#d9d9d9"><a href="#170712" label="[17:07:12]">&lt;deesix&gt;</a></span><span class="message">What would be the role of ML? Detecting patched deps?</span></div><div class="line" id="170801"><span class="nick" style="color:#d9d9d9"><a href="#170801" label="[17:08:01]">&lt;deesix&gt;</a></span><span class="message">Does &quot;it build&quot; assumes &quot;it works&quot;?</span></div><div class="line" id="172544"><span class="nick" style="color:#6b8072"><a href="#172544" label="[17:25:44]">&lt;OriansJ&gt;</a></span><span class="message">deesix: simulating a contagion model of version updates might be a better solution I guess.</span></div><div class="line" id="172603"><span class="nick" style="color:#6b8072"><a href="#172603" label="[17:26:03]">&lt;OriansJ&gt;</a></span><span class="message">but yes builds with tests probably would be required to make it probbaly correct.</span></div><div class="line" id="172738"><span class="nick" style="color:#6b8072"><a href="#172738" label="[17:27:38]">&lt;OriansJ&gt;</a></span><span class="message">with the developer of a software package is always patient Zero for the spread of a software release.</span></div><div class="line" id="173944"><span class="nick" style="color:#2e2a4a"><a href="#173944" label="[17:39:44]">&lt;stikonas&gt;</a></span><span class="message">in the end it looks like m4-1.4.6 is still not sufficient to bootstrap bison :(. Anyway, it's not wasted efford because it will be easier to go to newer m4's from 1.4.6 than from 1.4.4</span></div><div class="line" id="175804"><span class="nick" style="color:#2e2a4a"><a href="#175804" label="[17:58:04]">&lt;stikonas&gt;</a></span><span class="message">oh, it actually works, missed one define...</span></div><div class="line" id="175824"><span class="nick" style="color:#2e2a4a"><a href="#175824" label="[17:58:24]">&lt;stikonas&gt;</a></span><span class="message">although, I've upgraded to m4-1.4.7 since it was a free upgrade (no extra work required)</span></div><div class="line" id="180106"><span class="nick" style="color:#bc80bd"><a href="#180106" label="[18:01:06]">&lt;Hagfish&gt;</a></span><span class="message">any idea what else bison needs?</span></div><div class="line" id="180332"><span class="nick" style="color:#2e2a4a"><a href="#180332" label="[18:03:32]">&lt;stikonas&gt;</a></span><span class="message">Hagfish: only formalizing build process</span></div><div class="line" id="180335"><span class="nick" style="color:#2e2a4a"><a href="#180335" label="[18:03:35]">&lt;stikonas&gt;</a></span><span class="message">we have all dependencies</span></div><div class="line" id="180341"><span class="nick" style="color:#2e2a4a"><a href="#180341" label="[18:03:41]">&lt;stikonas&gt;</a></span><span class="message">I manually did it with busybox shell</span></div><div class="line" id="180419"><span class="nick" style="color:#2e2a4a"><a href="#180419" label="[18:04:19]">&lt;stikonas&gt;</a></span><span class="message">so basically porting build instructions <a rel="nofollow" href="https://gitlab.com/giomasce/nbs/-/blob/master/root/scripts/continue.sh#L104">https://gitlab.com/giomasce/nbs/-/blob/master/root/scripts/continue.sh#L104</a>  to live-bootstrap's &quot;build system&quot;</span></div><div class="line" id="180451"><span class="nick" style="color:#2e2a4a"><a href="#180451" label="[18:04:51]">&lt;stikonas&gt;</a></span><span class="message">(change, paths, some defines, etc...)</span></div><div class="line" id="180524"><span class="nick" style="color:#2e2a4a"><a href="#180524" label="[18:05:24]">&lt;stikonas&gt;</a></span><span class="message">anyway, m4 PR is up. fossy: <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/33">https://github.com/fosslinux/live-bootstrap/pull/33</a> </span></div><div class="line" id="191334"><span class="nick" style="color:#3c5b35"><a href="#191334" label="[19:13:34]">&lt;pder&gt;</a></span><span class="message">stikonas: nice work with getting m4 working.  I went down a rabbit hole with the regex stuff</span></div><div class="line" id="191430"><span class="nick" style="color:#3c5b35"><a href="#191430" label="[19:14:30]">&lt;pder&gt;</a></span><span class="message">I am trying to run bisons configure script and it wants perl.  Do you know if it is really needed?</span></div><div class="line" id="191443"><span class="nick" style="color:#2e2a4a"><a href="#191443" label="[19:14:43]">&lt;stikonas&gt;</a></span><span class="message">pder: we use makefile...</span></div><div class="line" id="191446"><span class="nick" style="color:#2e2a4a"><a href="#191446" label="[19:14:46]">&lt;stikonas&gt;</a></span><span class="message">I can try to do bison</span></div><div class="line" id="191450"><span class="nick" style="color:#2e2a4a"><a href="#191450" label="[19:14:50]">&lt;stikonas&gt;</a></span><span class="message">since I already did it manually</span></div><div class="line" id="191513"><span class="nick" style="color:#2e2a4a"><a href="#191513" label="[19:15:13]">&lt;stikonas&gt;</a></span><span class="message">I use makefile from nbs</span></div><div class="line" id="191648"><span class="nick" style="color:#2e2a4a"><a href="#191648" label="[19:16:48]">&lt;stikonas&gt;</a></span><span class="message">pder: I'm actually already looking at bison now...</span></div><div class="line" id="191709"><span class="nick" style="color:#2e2a4a"><a href="#191709" label="[19:17:09]">&lt;stikonas&gt;</a></span><span class="message">pder: by the way, did you have any more chance to look at coreutils?</span></div><div class="line" id="191732"><span class="nick" style="color:#3c5b35"><a href="#191732" label="[19:17:32]">&lt;pder&gt;</a></span><span class="message">I havent yet.  Are there any utils you need in particular?</span></div><div class="line" id="191753"><span class="nick" style="color:#2e2a4a"><a href="#191753" label="[19:17:53]">&lt;stikonas&gt;</a></span><span class="message">yes</span></div><div class="line" id="191757"><span class="nick" style="color:#2e2a4a"><a href="#191757" label="[19:17:57]">&lt;stikonas&gt;</a></span><span class="message">let me try to remember</span></div><div class="line" id="191909"><span class="nick" style="color:#2e2a4a"><a href="#191909" label="[19:19:09]">&lt;stikonas&gt;</a></span><span class="message">we need at least expr sort uname uniq</span></div><div class="line" id="191922"><span class="nick" style="color:#2e2a4a"><a href="#191922" label="[19:19:22]">&lt;stikonas&gt;</a></span><span class="message">(I think those are frequently used by configure scripts</span></div><div class="line" id="191936"><span class="nick" style="color:#2e2a4a"><a href="#191936" label="[19:19:36]">&lt;stikonas&gt;</a></span><span class="message">so we'll need them to run configure scripts...</span></div><div class="line" id="192017"><span class="nick" style="color:#2e2a4a"><a href="#192017" label="[19:20:17]">&lt;stikonas&gt;</a></span><span class="message">although, most of the work was building coreutils lib...</span></div><div class="line" id="192039"><span class="nick" style="color:#2e2a4a"><a href="#192039" label="[19:20:39]">&lt;stikonas&gt;</a></span><span class="message">I think once you have that, it's fairly easy to build binaries themselves, most of them is just one additional C file...</span></div><div class="line" id="192057"><span class="nick" style="color:#2e2a4a"><a href="#192057" label="[19:20:57]">&lt;stikonas&gt;</a></span><span class="message">on the other hand, maybe those 4 utils need less files from coreutils lib...</span></div><div class="line" id="192201"><span class="nick" style="color:#3c5b35"><a href="#192201" label="[19:22:01]">&lt;pder&gt;</a></span><span class="message">since we are using musl at this stage, should we remove the current build directory, extract the original source and use a new makefile?</span></div><div class="line" id="192330"><span class="nick" style="color:#2e2a4a"><a href="#192330" label="[19:23:30]">&lt;stikonas&gt;</a></span><span class="message">pder: current build directory is automatically removed by build function</span></div><div class="line" id="192340"><span class="nick" style="color:#2e2a4a"><a href="#192340" label="[19:23:40]">&lt;stikonas&gt;</a></span><span class="message">but we will need new makefile</span></div><div class="line" id="192354"><span class="nick" style="color:#2e2a4a"><a href="#192354" label="[19:23:54]">&lt;stikonas&gt;</a></span><span class="message">we can do that by overriding src_prepare function</span></div><div class="line" id="192527"><span class="nick" style="color:#2e2a4a"><a href="#192527" label="[19:25:27]">&lt;stikonas&gt;</a></span><span class="message">but yes, clean builds please...</span></div><div class="line" id="192530"><span class="nick" style="color:#3c5b35"><a href="#192530" label="[19:25:30]">&lt;pder&gt;</a></span><span class="message">Currently build/coreutils-5.0 directory exists at the end of the build.  But I think its because it was originally built with kaem and not the new bash method</span></div><div class="line" id="192543"><span class="nick" style="color:#2e2a4a"><a href="#192543" label="[19:25:43]">&lt;stikonas&gt;</a></span><span class="message">bash method also leaves build dir</span></div><div class="line" id="192550"><span class="nick" style="color:#2e2a4a"><a href="#192550" label="[19:25:50]">&lt;stikonas&gt;</a></span><span class="message">but bash method removes build dir before building</span></div><div class="line" id="192555"><span class="nick" style="color:#3c5b35"><a href="#192555" label="[19:25:55]">&lt;pder&gt;</a></span><span class="message">Oh ok</span></div><div class="line" id="192613"><span class="nick" style="color:#2e2a4a"><a href="#192613" label="[19:26:13]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/blob/master/sysa/helpers.sh#L25">https://github.com/fosslinux/live-bootstrap/blob/master/sysa/helpers.sh#L25</a> </span></div><div class="line" id="201434"><span class="nick" style="color:#3c5b35"><a href="#201434" label="[20:14:34]">&lt;pder&gt;</a></span><span class="message">stikonas: Do you find the Makefile preprocessor defines for a package by trial and error, or are you running the configure script under another environment to get the correct values</span></div><div class="line" id="201523"><span class="nick" style="color:#3c5b35"><a href="#201523" label="[20:15:23]">&lt;pder&gt;</a></span><span class="message">I am wondering if getting coreutils building would be easier if I first tried building it on a musl based system</span></div><div class="line" id="201525"><span class="nick" style="color:#2e2a4a"><a href="#201525" label="[20:15:25]">&lt;stikonas&gt;</a></span><span class="message">mostly by trial and error, but I have run configure script under my normal system in glibc and occasionally check values there</span></div><div class="line" id="201602"><span class="nick" style="color:#2e2a4a"><a href="#201602" label="[20:16:02]">&lt;stikonas&gt;</a></span><span class="message">I don't copy all config.h, I try to get bare minimum in preprocessor defines...</span></div><div class="line" id="201611"><span class="nick" style="color:#2e2a4a"><a href="#201611" label="[20:16:11]">&lt;stikonas&gt;</a></span><span class="message">but yeah, sometimes it takes some time to figure it out...</span></div><div class="line" id="201615"><span class="nick" style="color:#2e2a4a"><a href="#201615" label="[20:16:15]">&lt;stikonas&gt;</a></span><span class="message">I'm doing it with bison now...</span></div><div class="line" id="201633"><span class="nick" style="color:#2e2a4a"><a href="#201633" label="[20:16:33]">&lt;stikonas&gt;</a></span><span class="message">(in my first testing I used pregenerated config.h from nsb)</span></div><div class="line" id="201713"><span class="nick" style="color:#2e2a4a"><a href="#201713" label="[20:17:13]">&lt;stikonas&gt;</a></span><span class="message">s/nsb/nbs/</span></div><div class="line" id="201749"><span class="nick" style="color:#2e2a4a"><a href="#201749" label="[20:17:49]">&lt;stikonas&gt;</a></span><span class="message">but basically, I try to run make without defines</span></div><div class="line" id="201752"><span class="nick" style="color:#2e2a4a"><a href="#201752" label="[20:17:52]">&lt;stikonas&gt;</a></span><span class="message">look at the error</span></div><div class="line" id="201807"><span class="nick" style="color:#2e2a4a"><a href="#201807" label="[20:18:07]">&lt;stikonas&gt;</a></span><span class="message">and try to see what define might be causing it</span></div><div class="line" id="201829"><span class="nick" style="color:#2e2a4a"><a href="#201829" label="[20:18:29]">&lt;stikonas&gt;</a></span><span class="message">after I've done quite a few packages, it gets a bit quicker</span></div><div class="line" id="201833"><span class="nick" style="color:#2e2a4a"><a href="#201833" label="[20:18:33]">&lt;stikonas&gt;</a></span><span class="message">since errors are similar</span></div><div class="line" id="201937"><span class="nick" style="color:#2e2a4a"><a href="#201937" label="[20:19:37]">&lt;stikonas&gt;</a></span><span class="message">pder: feel free to post some errors here</span></div><div class="line" id="201947"><span class="nick" style="color:#2e2a4a"><a href="#201947" label="[20:19:47]">&lt;stikonas&gt;</a></span><span class="message">maybe I'll be able to help</span></div><div class="line" id="205045"><span class="nick" style="color:#3c5b35"><a href="#205045" label="[20:50:45]">&lt;pder&gt;</a></span><span class="message"> <a rel="nofollow" href="https://paste.debian.net/1184433/">https://paste.debian.net/1184433/</a> </span></div><div class="line" id="205056"><span class="nick" style="color:#3c5b35"><a href="#205056" label="[20:50:56]">&lt;pder&gt;</a></span><span class="message">Here INT does not seem to be defined</span></div><div class="line" id="205512"><span class="nick" style="color:#2e2a4a"><a href="#205512" label="[20:55:12]">&lt;stikonas&gt;</a></span><span class="message">does -DUNSIGNED=1 help?</span></div><div class="line" id="205644"><span class="nick" style="color:#3c5b35"><a href="#205644" label="[20:56:44]">&lt;pder&gt;</a></span><span class="message">no, that was actually defined already in that tcc command</span></div><div class="line" id="205653"><span class="nick" style="color:#2e2a4a"><a href="#205653" label="[20:56:53]">&lt;stikonas&gt;</a></span><span class="message">and what about</span></div><div class="line" id="205719"><span class="nick" style="color:#2e2a4a"><a href="#205719" label="[20:57:19]">&lt;stikonas&gt;</a></span><span class="message">-DHAVE_INTTYPES_H=1 ?</span></div><div class="line" id="205749"><span class="nick" style="color:#2e2a4a"><a href="#205749" label="[20:57:49]">&lt;stikonas&gt;</a></span><span class="message">hmm</span></div><div class="line" id="205751"><span class="nick" style="color:#2e2a4a"><a href="#205751" label="[20:57:51]">&lt;stikonas&gt;</a></span><span class="message">it's also there...</span></div><div class="line" id="205943"><span class="nick" style="color:#2e2a4a"><a href="#205943" label="[20:59:43]">&lt;stikonas&gt;</a></span><span class="message">pder: maybe double check which branch is taken in the preprocessor define above that line?</span></div><div class="line" id="205950"><span class="nick" style="color:#2e2a4a"><a href="#205950" label="[20:59:50]">&lt;stikonas&gt;</a></span><span class="message">that's what helped me to figure out regex stuff</span></div><div class="line" id="210003"><span class="nick" style="color:#2e2a4a"><a href="#210003" label="[21:00:03]">&lt;stikonas&gt;</a></span><span class="message">I added #error 1, #error 2 lines etc...</span></div><div class="line" id="210036"><span class="nick" style="color:#2e2a4a"><a href="#210036" label="[21:00:36]">&lt;stikonas&gt;</a></span><span class="message">and noticed that it was redefined somewhere in .c file (so tcc flag was overridden)</span></div><div class="line" id="210051"><span class="nick" style="color:#3c5b35"><a href="#210051" label="[21:00:51]">&lt;pder&gt;</a></span><span class="message">thats a good point</span></div><div class="line" id="222350"><span class="nick" style="color:#8dd3c7"><a href="#222350" label="[22:23:50]">&lt;fossy&gt;</a></span><span class="message">&lt;deesix&gt; fossy, I think you're confusing Copyleft with something else.</span></div><div class="line" id="222355"><span class="nick" style="color:#8dd3c7"><a href="#222355" label="[22:23:55]">&lt;fossy&gt;</a></span><span class="message">perhaps</span></div><div class="line" id="222534"><span class="nick" style="color:#2e2a4a"><a href="#222534" label="[22:25:34]">&lt;stikonas&gt;</a></span><span class="message">well, MIT and BSD are not copyleft...</span></div><div class="line" id="222539"><span class="nick" style="color:#2e2a4a"><a href="#222539" label="[22:25:39]">&lt;stikonas&gt;</a></span><span class="message">but that's not a problem for us</span></div><div class="line" id="222546"><span class="nick" style="color:#8dd3c7"><a href="#222546" label="[22:25:46]">&lt;fossy&gt;</a></span><span class="message">well, according to the gnu, <a rel="nofollow" href="https://www.gnu.org/licenses/copyleft.en.html">https://www.gnu.org/licenses/copyleft.en.html</a> </span></div><div class="line" id="222548"><span class="nick" style="color:#2e2a4a"><a href="#222548" label="[22:25:48]">&lt;stikonas&gt;</a></span><span class="message">they are still free-software licenses</span></div><div class="line" id="222554"><span class="nick" style="color:#8dd3c7"><a href="#222554" label="[22:25:54]">&lt;fossy&gt;</a></span><span class="message">&quot;making a program (or other work) free (in the sense of freedom, not “zero price”), and requiring all modified and extended versions of the program to be free as well.&quot;</span></div><div class="line" id="222609"><span class="nick" style="color:#8dd3c7"><a href="#222609" label="[22:26:09]">&lt;fossy&gt;</a></span><span class="message">so yeah mit/bsd are not copyleft. My bad</span></div><div class="line" id="222617"><span class="nick" style="color:#2e2a4a"><a href="#222617" label="[22:26:17]">&lt;stikonas&gt;</a></span><span class="message">anyway, it's not even code there</span></div><div class="line" id="222623"><span class="nick" style="color:#2e2a4a"><a href="#222623" label="[22:26:23]">&lt;stikonas&gt;</a></span><span class="message">(.gitignore)</span></div><div class="line" id="222623"><span class="nick" style="color:#8dd3c7"><a href="#222623" label="[22:26:23]">&lt;fossy&gt;</a></span><span class="message">yesh</span></div><div class="line" id="222634"><span class="nick" style="color:#8dd3c7"><a href="#222634" label="[22:26:34]">&lt;fossy&gt;</a></span><span class="message">and the patches that are BSD are patches</span></div><div class="line" id="222636"><span class="nick" style="color:#2e2a4a"><a href="#222636" label="[22:26:36]">&lt;stikonas&gt;</a></span><span class="message">fossy: merge time :D</span></div><div class="line" id="222639"><span class="nick" style="color:#8dd3c7"><a href="#222639" label="[22:26:39]">&lt;fossy&gt;</a></span><span class="message">so it dosent really matter</span></div><div class="line" id="222643"><span class="nick" style="color:#2e2a4a"><a href="#222643" label="[22:26:43]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/33/files">https://github.com/fosslinux/live-bootstrap/pull/33/files</a> </span></div><div class="line" id="222650"><span class="nick" style="color:#8dd3c7"><a href="#222650" label="[22:26:50]">&lt;fossy&gt;</a></span><span class="message">sorry I just left for school at home I shall do it</span></div><div class="line" id="222654"><span class="nick" style="color:#2e2a4a"><a href="#222654" label="[22:26:54]">&lt;stikonas&gt;</a></span><span class="message">sure...</span></div><div class="line" id="222655"><span class="nick" style="color:#8dd3c7"><a href="#222655" label="[22:26:55]">&lt;fossy&gt;</a></span><span class="message">however I can review</span></div><div class="line" id="222711"><span class="nick" style="color:#2e2a4a"><a href="#222711" label="[22:27:11]">&lt;stikonas&gt;</a></span><span class="message">it's just minor m4 update 1.4.4-&gt;1.4.7</span></div><div class="line" id="222722"><span class="nick" style="color:#2e2a4a"><a href="#222722" label="[22:27:22]">&lt;stikonas&gt;</a></span><span class="message">1.4.7 is good enough for bison...</span></div><div class="line" id="222745"><span class="nick" style="color:#af8d2f"><a href="#222745" label="[22:27:45]">*</a></span><span class="message">fossy should put gpg login keys on laptop maybe</span></div><div class="line" id="222800"><span class="nick" style="color:#af8d2f"><a href="#222800" label="[22:28:00]">*</a></span><span class="message">fossy should also fix gpg signing of git commits</span></div><div class="line" id="222811"><span class="nick" style="color:#2e2a4a"><a href="#222811" label="[22:28:11]">&lt;stikonas&gt;</a></span><span class="message">I tried with nbs source and I could build bison. However, building bison from scratch (without config.h) is probably a bit more complicated...</span></div><div class="line" id="222818"><span class="nick" style="color:#2e2a4a"><a href="#222818" label="[22:28:18]">&lt;stikonas&gt;</a></span><span class="message">it's the longest config.h I've seen so far</span></div><div class="line" id="222831"><span class="nick" style="color:#8dd3c7"><a href="#222831" label="[22:28:31]">&lt;fossy&gt;</a></span><span class="message">:/</span></div><div class="line" id="222839"><span class="nick" style="color:#8dd3c7"><a href="#222839" label="[22:28:39]">&lt;fossy&gt;</a></span><span class="message">how many lines</span></div><div class="line" id="222850"><span class="nick" style="color:#8dd3c7"><a href="#222850" label="[22:28:50]">&lt;fossy&gt;</a></span><span class="message">iirc bash was 800 fwiw</span></div><div class="line" id="222851"><span class="nick" style="color:#2e2a4a"><a href="#222851" label="[22:28:51]">&lt;stikonas&gt;</a></span><span class="message">1730 lines</span></div><div class="line" id="222858"><span class="nick" style="color:#8dd3c7"><a href="#222858" label="[22:28:58]">&lt;fossy&gt;</a></span><span class="message">aagh</span></div><div class="line" id="222908"><span class="nick" style="color:#2e2a4a"><a href="#222908" label="[22:29:08]">&lt;stikonas&gt;</a></span><span class="message">bison when built is also 1.3 MIB</span></div><div class="line" id="222912"><span class="nick" style="color:#2e2a4a"><a href="#222912" label="[22:29:12]">&lt;stikonas&gt;</a></span><span class="message">1.3 MiB</span></div><div class="line" id="222915"><span class="nick" style="color:#2e2a4a"><a href="#222915" label="[22:29:15]">&lt;stikonas&gt;</a></span><span class="message">largest binary so far</span></div><div class="line" id="222923"><span class="nick" style="color:#2e2a4a"><a href="#222923" label="[22:29:23]">&lt;stikonas&gt;</a></span><span class="message">anyway, we'll do it eventually</span></div><div class="line" id="222931"><span class="nick" style="color:#2e2a4a"><a href="#222931" label="[22:29:31]">&lt;stikonas&gt;</a></span><span class="message">we have all dependencies...</span></div><div class="line" id="222948"><span class="nick" style="color:#8dd3c7"><a href="#222948" label="[22:29:48]">&lt;fossy&gt;</a></span><span class="message">finally :D</span></div><div class="line" id="223004"><span class="nick" style="color:#2e2a4a"><a href="#223004" label="[22:30:04]">&lt;stikonas&gt;</a></span><span class="message">yeah...</span></div><div class="line" id="223005"><span class="nick" style="color:#8dd3c7"><a href="#223005" label="[22:30:05]">&lt;fossy&gt;</a></span><span class="message">well long config.h hopefully means easy compatibility..</span></div><div class="line" id="223009"><span class="nick" style="color:#8dd3c7"><a href="#223009" label="[22:30:09]">&lt;fossy&gt;</a></span><span class="message">just a lot of defines</span></div><div class="line" id="223031"><span class="nick" style="color:#2e2a4a"><a href="#223031" label="[22:30:31]">&lt;stikonas&gt;</a></span><span class="message">well, hopefully, soon we'll have autotools...</span></div><div class="line" id="223048"><span class="nick" style="color:#2e2a4a"><a href="#223048" label="[22:30:48]">&lt;stikonas&gt;</a></span><span class="message">after bison we need gawk and then can probably start looking at perl</span></div><div class="line" id="223205"><span class="nick" style="color:#8dd3c7"><a href="#223205" label="[22:32:05]">&lt;fossy&gt;</a></span><span class="message">yeah</span></div><div class="line" id="223226"><span class="nick" style="color:#8dd3c7"><a href="#223226" label="[22:32:26]">&lt;fossy&gt;</a></span><span class="message">Perl configure script will be a pain but doable</span></div><div class="line" id="223252"><span class="nick" style="color:#2e2a4a"><a href="#223252" label="[22:32:52]">&lt;stikonas&gt;</a></span><span class="message">yeah...</span></div><div class="line" id="223258"><span class="nick" style="color:#2e2a4a"><a href="#223258" label="[22:32:58]">&lt;stikonas&gt;</a></span><span class="message">maybe we can build miniperl first</span></div><div class="line" id="223324"><span class="nick" style="color:#8dd3c7"><a href="#223324" label="[22:33:24]">&lt;fossy&gt;</a></span><span class="message">yeah we could build miniperl manially</span></div><div class="line" id="223329"><span class="nick" style="color:#8dd3c7"><a href="#223329" label="[22:33:29]">&lt;fossy&gt;</a></span><span class="message">then full perl</span></div><div class="line" id="233921"><span class="nick" style="color:#3c5b35"><a href="#233921" label="[23:39:21]">&lt;pder&gt;</a></span><span class="message">finally making some progress on coreutils</span></div><div class="line" id="234552"><span class="nick" style="color:#2e2a4a"><a href="#234552" label="[23:45:52]">&lt;stikonas&gt;</a></span><span class="message">pder: nice!</span></div><div class="line" id="234609"><span class="nick" style="color:#3c5b35"><a href="#234609" label="[23:46:09]">&lt;pder&gt;</a></span><span class="message">tcc -E was helpful</span></div><div class="line" id="234613"><span class="nick" style="color:#2e2a4a"><a href="#234613" label="[23:46:13]">&lt;stikonas&gt;</a></span><span class="message">I'll take some break from bison and try on some other day...</span></div><div class="line" id="234619"><span class="nick" style="color:#2e2a4a"><a href="#234619" label="[23:46:19]">&lt;stikonas&gt;</a></span><span class="message">did m4 today anyway</span></div><div class="line" id="234645"><span class="nick" style="color:#3c5b35"><a href="#234645" label="[23:46:45]">&lt;pder&gt;</a></span><span class="message">I have uname and expr working, now working on sort and uniq</span></div><br /></div></body></html>