<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2021-01-13.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000146"><span class="nick" style="color:#389600"><a href="#000146" label="[00:01:46]">&lt;fossy&gt;</a></span><span class="message">mihi: i did successfully build coreutils for mes c library previously, however a few tools had to be omitted</span></div><div class="line" id="000210"><span class="nick" style="color:#389600"><a href="#000210" label="[00:02:10]">&lt;fossy&gt;</a></span><span class="message">and a large number of patches were needed</span></div><div class="line" id="000258"><span class="nick" style="color:#8dd3c7"><a href="#000258" label="[00:02:58]">&lt;mihi&gt;</a></span><span class="message">fossy, ok thanks. So I assume for busybox/toybox you would just need an extra number of patches :)</span></div><div class="line" id="000311"><span class="nick" style="color:#8dd3c7"><a href="#000311" label="[00:03:11]">&lt;mihi&gt;</a></span><span class="message">s/extra number/extra large number/</span></div><div class="line" id="000322"><span class="nick" style="color:#389600"><a href="#000322" label="[00:03:22]">&lt;fossy&gt;</a></span><span class="message">mihi: i am guessing it would be a very complex job and it would be mostly disfunctional</span></div><div class="line" id="000420"><span class="nick" style="color:#8dd3c7"><a href="#000420" label="[00:04:20]">&lt;mihi&gt;</a></span><span class="message">I was toying with it yesterday and my first approach was to stub out all unsupported functions in libbb/platform.c. But when I reached stuff like rename and ctime (used by ls), I would agree that it would be mostly disfunctional.</span></div><div class="line" id="000508"><span class="nick" style="color:#8dd3c7"><a href="#000508" label="[00:05:08]">&lt;mihi&gt;</a></span><span class="message">I also tried some things with normal glibc (e.g. stubbing poll to always return 0) and at least for the shells it works. :)</span></div><div class="line" id="000525"><span class="nick" style="color:#8dd3c7"><a href="#000525" label="[00:05:25]">&lt;mihi&gt;</a></span><span class="message">not sure if bash also wants poll.</span></div><div class="line" id="000825"><span class="nick" style="color:#6b8072"><a href="#000825" label="[00:08:25]">&lt;stikonas&gt;</a></span><span class="message">fossy, mihi: do we actually need coreutils this early? I thought we can build gcc 2.95, glibc and then coreutils</span></div><div class="line" id="000918"><span class="nick" style="color:#6b8072"><a href="#000918" label="[00:09:18]">&lt;stikonas&gt;</a></span><span class="message">anyway, for now we have a few clear candidates that we need to build...</span></div><div class="line" id="000928"><span class="nick" style="color:#6b8072"><a href="#000928" label="[00:09:28]">&lt;stikonas&gt;</a></span><span class="message">patch, make, bash and try to get autotools</span></div><div class="line" id="011451"><span class="nick" style="color:#389600"><a href="#011451" label="[01:14:51]">&lt;fossy&gt;</a></span><span class="message">stikonas: we need coreutils for configure scripts....</span></div><div class="line" id="011457"><span class="nick" style="color:#389600"><a href="#011457" label="[01:14:57]">&lt;fossy&gt;</a></span><span class="message">and for makrfiles</span></div><div class="line" id="011503"><span class="nick" style="color:#389600"><a href="#011503" label="[01:15:03]">&lt;fossy&gt;</a></span><span class="message">for things like install</span></div><div class="line" id="011534"><span class="nick" style="color:#6b8072"><a href="#011534" label="[01:15:34]">&lt;stikonas&gt;</a></span><span class="message">oh I see...</span></div><div class="line" id="011607"><span class="nick" style="color:#6b8072"><a href="#011607" label="[01:16:07]">&lt;stikonas&gt;</a></span><span class="message">well, for manual makefiles we can avoid those, but for autogenerated ones I guess you are right</span></div><div class="line" id="012620"><span class="nick" style="color:#6b8072"><a href="#012620" label="[01:26:20]">&lt;stikonas&gt;</a></span><span class="message">anyway, let's get patch/make/bash first :)</span></div><div class="line" id="023324"><span class="nick" style="color:#80b1d3"><a href="#023324" label="[02:33:24]">&lt;OriansJ&gt;</a></span><span class="message">mihi: I will add any required primitives to M2libc with the hope that it solves the MesCC and M2-Planet libc problem.</span></div><div class="line" id="023410"><span class="nick" style="color:#80b1d3"><a href="#023410" label="[02:34:10]">&lt;OriansJ&gt;</a></span><span class="message">It is just an incremental process; where something is discovered as being needed and then we add it.</span></div><div class="line" id="024440"><span class="nick" style="color:#80b1d3"><a href="#024440" label="[02:44:40]">&lt;OriansJ&gt;</a></span><span class="message">yt: just to warn you I am going to do a force push to fixup the parallel make in a little bit. Sorry for the inconvience.</span></div><div class="line" id="030237"><span class="nick" style="color:#6d2462"><a href="#030237" label="[03:02:37]">&lt;siraben&gt;</a></span><span class="message">OriansJ: thanks for the merge, looks like blynn-compiler builds properly again</span></div><div class="line" id="030538"><span class="nick" style="color:#234e69"><a href="#030538" label="[03:05:38]">&lt;Hagfish&gt;</a></span><span class="message">nice</span></div><div class="line" id="030713"><span class="nick" style="color:#80b1d3"><a href="#030713" label="[03:07:13]">&lt;OriansJ&gt;</a></span><span class="message">good we probably need to do some tweaks in the Haskell code when I pull out --bootstrap-mode to get you better performance but yt and I need to discuss #if defined to ensure M2-Planet work arounds are isolated and have a clean future elimination path.</span></div><div class="line" id="030831"><span class="nick" style="color:#80b1d3"><a href="#030831" label="[03:08:31]">&lt;OriansJ&gt;</a></span><span class="message">I'm thinking variables like __M2_v1.x or _M2_Pointer_Arith but I'm sure yt has a better idea</span></div><div class="line" id="032540"><span class="nick">***</span><span class="message notice">mephista is now known as spicy_icecream</span></div><div class="line" id="033240"><span class="nick">***</span><span class="message notice">mephista is now known as spicy_icecream</span></div><div class="line" id="035807"><span class="nick" style="color:#6d2462"><a href="#035807" label="[03:58:07]">&lt;siraben&gt;</a></span><span class="message">pder: I just realized the prelude blynn uses is here <a rel="nofollow" href="https://crypto.stanford.edu/~blynn/compiler/">https://crypto.stanford.edu/~blynn/compiler/</a>  , if you click show prelude</span></div><div class="line" id="040100"><span class="nick" style="color:#6c3d55"><a href="#040100" label="[04:01:00]">&lt;pder&gt;</a></span><span class="message">siraben: i think i saw that too, however I think it is for crossly, and wont work with precisely.  I think copying a good portion of precisely.hs up to that same point might be a good start for a prelude.</span></div><div class="line" id="040402"><span class="nick" style="color:#6d2462"><a href="#040402" label="[04:04:02]">&lt;siraben&gt;</a></span><span class="message">I see.</span></div><div class="line" id="041946"><span class="nick" style="color:#6c3d55"><a href="#041946" label="[04:19:46]">&lt;pder&gt;</a></span><span class="message">Do you know of a good way to automatically include the prelude?</span></div><div class="line" id="042440"><span class="nick" style="color:#6d2462"><a href="#042440" label="[04:24:40]">&lt;siraben&gt;</a></span><span class="message">pder: Hm, looks like we'd need to expose some basic file primitives to Haskell so that we can read the prelude, then adjust the parser to add an includePrelude directive</span></div><div class="line" id="042621"><span class="nick" style="color:#6c3d55"><a href="#042621" label="[04:26:21]">&lt;pder&gt;</a></span><span class="message">Do you know what the bottom part of precisely.hs is for?  Starting with the line data CPP = CPPPass...</span></div><div class="line" id="052150"><span class="nick" style="color:#d9d9d9"><a href="#052150" label="[05:21:50]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy, pullrequest 9 IMHO breaks it AND breaks my pullrequest: <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/9">https://github.com/fosslinux/live-bootstrap/pull/9</a> </span></div><div class="line" id="053419"><span class="nick" style="color:#6d2462"><a href="#053419" label="[05:34:19]">&lt;siraben&gt;</a></span><span class="message">pder: oh it's a preprocessor!</span></div><div class="line" id="053453"><span class="nick" style="color:#6d2462"><a href="#053453" label="[05:34:53]">&lt;siraben&gt;</a></span><span class="message">if you look at the cpp function it actually does the IO</span></div><div class="line" id="060541"><span class="nick" style="color:#d9d9d9"><a href="#060541" label="[06:05:41]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: updated my pullrequest without the 'echo' statements</span></div><div class="line" id="061407"><span class="nick" style="color:#389600"><a href="#061407" label="[06:14:07]">&lt;fossy&gt;</a></span><span class="message">gforce_de1977: yeah I realised how I broke it</span></div><div class="line" id="061415"><span class="nick" style="color:#389600"><a href="#061415" label="[06:14:15]">&lt;fossy&gt;</a></span><span class="message">how it</span></div><div class="line" id="061436"><span class="nick" style="color:#389600"><a href="#061436" label="[06:14:36]">&lt;fossy&gt;</a></span><span class="message">I have a fix queued, ill push ur PR after I push bash</span></div><div class="line" id="091143"><span class="nick" style="color:#d9d9d9"><a href="#091143" label="[09:11:43]">&lt;gforce_de1977&gt;</a></span><span class="message">dumb question: kaem - i dont get the joke: how is the word formed/why? km?</span></div><div class="line" id="091223"><span class="nick" style="color:#d9d9d9"><a href="#091223" label="[09:12:23]">&lt;gforce_de1977&gt;</a></span><span class="message">or ist it playing with the chars ok 'make'?</span></div><div class="line" id="091301"><span class="nick" style="color:#d9d9d9"><a href="#091301" label="[09:13:01]">&lt;gforce_de1977&gt;</a></span><span class="message">(good morning to everyone!)</span></div><div class="line" id="104659"><span class="nick" style="color:#bc80bd"><a href="#104659" label="[10:46:59]">&lt;bauen1&gt;</a></span><span class="message">if you need a more complete libc before you can build gcc / glibc, you could try building musl with tinycc</span></div><div class="line" id="104720"><span class="nick" style="color:#bc80bd"><a href="#104720" label="[10:47:20]">&lt;bauen1&gt;</a></span><span class="message">of course complex numbers won't work and you will need to patch around a few assembly instructions, but it is possible</span></div><div class="line" id="104949"><span class="nick" style="color:#3c5b35"><a href="#104949" label="[10:49:49]">&lt;stikonas[m]&gt;</a></span><span class="message">musl doesn't build with tinycc...</span></div><div class="line" id="105016"><span class="nick" style="color:#3c5b35"><a href="#105016" label="[10:50:16]">&lt;stikonas[m]&gt;</a></span><span class="message">But maybe you can patch out like you said</span></div><div class="line" id="105118"><span class="nick" style="color:#bc80bd"><a href="#105118" label="[10:51:18]">&lt;bauen1&gt;</a></span><span class="message">stikonas[m]: i'm using musl build using tinycc for myunix :D you do need to patch a number of big components out (like complex numbers) and some minor patches</span></div><div class="line" id="105151"><span class="nick" style="color:#d9d9d9"><a href="#105151" label="[10:51:51]">&lt;gforce_de1977&gt;</a></span><span class="message">bauen1: sounds good, can you point us to a patchset or something alike?</span></div><div class="line" id="105202"><span class="nick" style="color:#3c5b35"><a href="#105202" label="[10:52:02]">&lt;stikonas[m]&gt;</a></span><span class="message">I tried and tcc complained about jecxz</span></div><div class="line" id="105220"><span class="nick" style="color:#bc80bd"><a href="#105220" label="[10:52:20]">&lt;bauen1&gt;</a></span><span class="message">gforce_de1977: for myunix v3 currently only exit() works :D i'll take a look at my earlier attempts that went further</span></div><div class="line" id="105234"><span class="nick" style="color:#d9d9d9"><a href="#105234" label="[10:52:34]">&lt;gforce_de1977&gt;</a></span><span class="message">bauen1: are you aware of, that 'bauen' means 'to build' in german? 8-)</span></div><div class="line" id="105236"><span class="nick" style="color:#3c5b35"><a href="#105236" label="[10:52:36]">&lt;stikonas[m]&gt;</a></span><span class="message">I tried musl 0.7.9</span></div><div class="line" id="105402"><span class="nick" style="color:#bc80bd"><a href="#105402" label="[10:54:02]">&lt;bauen1&gt;</a></span><span class="message">gforce_de1977: yes, the story behind my name actually goes back to my very first user name &quot;on the internet&quot; when i bought minecraft (which eventually lead to cpu building, then assembly and java)</span></div><div class="line" id="105410"><span class="nick" style="color:#bc80bd"><a href="#105410" label="[10:54:10]">&lt;bauen1&gt;</a></span><span class="message">i'm actually from germany \o/</span></div><div class="line" id="105421"><span class="nick" style="color:#d9d9d9"><a href="#105421" label="[10:54:21]">&lt;gforce_de1977&gt;</a></span><span class="message">\O/ 8-)</span></div><div class="line" id="105430"><span class="nick" style="color:#bc80bd"><a href="#105430" label="[10:54:30]">&lt;bauen1&gt;</a></span><span class="message">stikonas[m]: <a rel="nofollow" href="https://github.com/bauen1/myunix/blob/master/toolchain/patches/musl.patch">https://github.com/bauen1/myunix/blob/master/toolchain/patches/musl.patch</a>  it compiles but is not pretty and i would do so many things differently</span></div><div class="line" id="105512"><span class="nick" style="color:#bc80bd"><a href="#105512" label="[10:55:12]">&lt;bauen1&gt;</a></span><span class="message">stikonas[m]: i'm pretty sure there's bugs in there too, best to start over</span></div><div class="line" id="105547"><span class="nick" style="color:#bc80bd"><a href="#105547" label="[10:55:47]">&lt;bauen1&gt;</a></span><span class="message">stikonas[m]: in any case it boils down to: remove complex numbers (and maybe some other math related things), then rewrite some of the assembly that uses opcodes unsupported by tinycc (or implement them)</span></div><div class="line" id="105610"><span class="nick" style="color:#bc80bd"><a href="#105610" label="[10:56:10]">&lt;bauen1&gt;</a></span><span class="message">stikonas[m]: keep in mind that myunix2 loaded raw binaries not elf files, leading to some pretty terrible things</span></div><div class="line" id="105751"><span class="nick" style="color:#bc80bd"><a href="#105751" label="[10:57:51]">&lt;bauen1&gt;</a></span><span class="message">stikonas[m]: the new musl &quot;port&quot; to myunix v3 is here: <a rel="nofollow" href="https://gitlab.com/myunix/libc/-/compare/v1.2.1...myunix3-libc">https://gitlab.com/myunix/libc/-/compare/v1.2.1...myunix3-libc</a>  but currently only the exit syscall is implemented as an example</span></div><div class="line" id="112953"><span class="nick" style="color:#389600"><a href="#112953" label="[11:29:53]">&lt;fossy&gt;</a></span><span class="message">GRR PATCH I HATE YOU</span></div><div class="line" id="113001"><span class="nick" style="color:#389600"><a href="#113001" label="[11:30:01]">&lt;fossy&gt;</a></span><span class="message">keeps dying making temp files</span></div><div class="line" id="113002"><span class="nick" style="color:#389600"><a href="#113002" label="[11:30:02]">&lt;fossy&gt;</a></span><span class="message">i dont get it</span></div><div class="line" id="113009"><span class="nick" style="color:#389600"><a href="#113009" label="[11:30:09]">&lt;fossy&gt;</a></span><span class="message">luckily i've found an alternative solution for now</span></div><div class="line" id="113011"><span class="nick" style="color:#389600"><a href="#113011" label="[11:30:11]">&lt;fossy&gt;</a></span><span class="message">for make</span></div><div class="line" id="113024"><span class="nick" style="color:#389600"><a href="#113024" label="[11:30:24]">&lt;fossy&gt;</a></span><span class="message">but we will need patch for linux kernel</span></div><div class="line" id="113843"><span class="nick" style="color:#6b8072"><a href="#113843" label="[11:38:43]">&lt;stikonas&gt;</a></span><span class="message">is patch also struggling with mes libc?</span></div><div class="line" id="113930"><span class="nick" style="color:#6b8072"><a href="#113930" label="[11:39:30]">&lt;stikonas&gt;</a></span><span class="message">fossy: you mentioned that you will fix misplaced asterisk. or should I make a new PR?</span></div><div class="line" id="115246"><span class="nick" style="color:#6b8072"><a href="#115246" label="[11:52:46]">&lt;stikonas&gt;</a></span><span class="message">ok, thanks for pushing the fix!</span></div><div class="line" id="115316"><span class="nick" style="color:#389600"><a href="#115316" label="[11:53:16]">&lt;fossy&gt;</a></span><span class="message">stikonas: i'm almost 100% it's a missing macro, because guix compiles this successfully</span></div><div class="line" id="115321"><span class="nick" style="color:#389600"><a href="#115321" label="[11:53:21]">&lt;fossy&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/10">https://github.com/fosslinux/live-bootstrap/pull/10</a>  &lt;-- that's my work on patch</span></div><div class="line" id="115333"><span class="nick" style="color:#389600"><a href="#115333" label="[11:53:33]">&lt;fossy&gt;</a></span><span class="message">make builds now, but needs testing</span></div><div class="line" id="115340"><span class="nick" style="color:#389600"><a href="#115340" label="[11:53:40]">&lt;fossy&gt;</a></span><span class="message">spend too long on patch lol</span></div><div class="line" id="115349"><span class="nick" style="color:#6b8072"><a href="#115349" label="[11:53:49]">&lt;stikonas&gt;</a></span><span class="message">well, you can push it too if it builds</span></div><div class="line" id="115403"><span class="nick" style="color:#6b8072"><a href="#115403" label="[11:54:03]">&lt;stikonas&gt;</a></span><span class="message">if it doesn't work, it can be fixed in a followon patch</span></div><div class="line" id="115815"><span class="nick" style="color:#6b8072"><a href="#115815" label="[11:58:15]">&lt;stikonas&gt;</a></span><span class="message">hmm, patch tarball has very strange permissions too...</span></div><div class="line" id="120038"><span class="nick" style="color:#d9d9d9"><a href="#120038" label="[12:00:38]">&lt;gforce_de1977&gt;</a></span><span class="message">fossy: question: &quot;catm config.h&quot; ist just the same like 'touch config.h' ?</span></div><div class="line" id="120143"><span class="nick" style="color:#6b8072"><a href="#120143" label="[12:01:43]">&lt;stikonas&gt;</a></span><span class="message">gforce_de1977: yes, this is just my hack since we don't have touch</span></div><div class="line" id="120144"><span class="nick" style="color:#389600"><a href="#120144" label="[12:01:44]">&lt;fossy&gt;</a></span><span class="message">yes</span></div><div class="line" id="120147"><span class="nick" style="color:#389600"><a href="#120147" label="[12:01:47]">&lt;fossy&gt;</a></span><span class="message">lol</span></div><div class="line" id="120154"><span class="nick" style="color:#6b8072"><a href="#120154" label="[12:01:54]">&lt;stikonas&gt;</a></span><span class="message">actually, you don't need touch on normal system either</span></div><div class="line" id="120207"><span class="nick" style="color:#6b8072"><a href="#120207" label="[12:02:07]">&lt;stikonas&gt;</a></span><span class="message">you just do &quot;&gt;config.h&quot;</span></div><div class="line" id="120220"><span class="nick" style="color:#389600"><a href="#120220" label="[12:02:20]">&lt;fossy&gt;</a></span><span class="message">stikonas: i don't really like pushing things im not sure work to master, but i'll push it to a branch once this build finishes</span></div><div class="line" id="120305"><span class="nick" style="color:#d9d9d9"><a href="#120305" label="[12:03:05]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: that is great and a nice hack!</span></div><div class="line" id="120331"><span class="nick" style="color:#d9d9d9"><a href="#120331" label="[12:03:31]">&lt;gforce_de1977&gt;</a></span><span class="message">stikonas: we have no normal system yet 8-)</span></div><div class="line" id="120402"><span class="nick" style="color:#6b8072"><a href="#120402" label="[12:04:02]">&lt;stikonas&gt;</a></span><span class="message">fossy: util.c also doesn't compile here</span></div><div class="line" id="120404"><span class="nick" style="color:#6b8072"><a href="#120404" label="[12:04:04]">&lt;stikonas&gt;</a></span><span class="message">(from patch)</span></div><div class="line" id="120418"><span class="nick" style="color:#6b8072"><a href="#120418" label="[12:04:18]">&lt;stikonas&gt;</a></span><span class="message">oh, maybe because I'm missing something in dev environment</span></div><div class="line" id="120437"><span class="nick" style="color:#6b8072"><a href="#120437" label="[12:04:37]">&lt;stikonas&gt;</a></span><span class="message">(but the error was error: macro 'geteuid' used with too many args)</span></div><div class="line" id="120550"><span class="nick" style="color:#389600"><a href="#120550" label="[12:05:50]">&lt;fossy&gt;</a></span><span class="message">stikonas: oh what</span></div><div class="line" id="120559"><span class="nick" style="color:#389600"><a href="#120559" label="[12:05:59]">&lt;fossy&gt;</a></span><span class="message">oh</span></div><div class="line" id="120602"><span class="nick" style="color:#389600"><a href="#120602" label="[12:06:02]">&lt;fossy&gt;</a></span><span class="message">whoops</span></div><div class="line" id="120623"><span class="nick" style="color:#6b8072"><a href="#120623" label="[12:06:23]">&lt;stikonas&gt;</a></span><span class="message">maybe that's why patch is not working?</span></div><div class="line" id="120637"><span class="nick" style="color:#389600"><a href="#120637" label="[12:06:37]">&lt;fossy&gt;</a></span><span class="message">no it's not, it's just something i added in dev environm,ent but not to the kaem script</span></div><div class="line" id="120650"><span class="nick" style="color:#6b8072"><a href="#120650" label="[12:06:50]">&lt;stikonas&gt;</a></span><span class="message">oh ok...</span></div><div class="line" id="120714"><span class="nick" style="color:#389600"><a href="#120714" label="[12:07:14]">&lt;fossy&gt;</a></span><span class="message">oh not even, a typo lol</span></div><div class="line" id="120742"><span class="nick" style="color:#389600"><a href="#120742" label="[12:07:42]">&lt;fossy&gt;</a></span><span class="message">and..... boom, pushed to patch branch typo fix</span></div><div class="line" id="120849"><span class="nick" style="color:#6b8072"><a href="#120849" label="[12:08:49]">&lt;stikonas&gt;</a></span><span class="message">yeah, it works</span></div><div class="line" id="120858"><span class="nick" style="color:#6b8072"><a href="#120858" label="[12:08:58]">&lt;stikonas&gt;</a></span><span class="message">once you said typo, I spotted it too and already tested</span></div><div class="line" id="120936"><span class="nick" style="color:#6b8072"><a href="#120936" label="[12:09:36]">&lt;stikonas&gt;</a></span><span class="message">fossy: also whitespace, please remove it</span></div><div class="line" id="120942"><span class="nick" style="color:#6b8072"><a href="#120942" label="[12:09:42]">&lt;stikonas&gt;</a></span><span class="message">in the other command</span></div><div class="line" id="120951"><span class="nick" style="color:#6b8072"><a href="#120951" label="[12:09:51]">&lt;stikonas&gt;</a></span><span class="message">after dirname.c</span></div><div class="line" id="121021"><span class="nick" style="color:#6b8072"><a href="#121021" label="[12:10:21]">&lt;stikonas&gt;</a></span><span class="message">version.c:27: error: 'PACKAGE_VERSION' undeclared</span></div><div class="line" id="121113"><span class="nick" style="color:#6b8072"><a href="#121113" label="[12:11:13]">&lt;stikonas&gt;</a></span><span class="message">need -DPACKAGE_VERSION=\&quot;2.5.9\&quot;</span></div><div class="line" id="121208"><span class="nick" style="color:#6b8072"><a href="#121208" label="[12:12:08]">&lt;stikonas&gt;</a></span><span class="message">there are more typos in xmalloc.c</span></div><div class="line" id="121233"><span class="nick" style="color:#6b8072"><a href="#121233" label="[12:12:33]">&lt;stikonas&gt;</a></span><span class="message">-DHAVE_MACLLOC -&gt; -DHAVE_MALLOC</span></div><div class="line" id="121351"><span class="nick" style="color:#6b8072"><a href="#121351" label="[12:13:51]">&lt;stikonas&gt;</a></span><span class="message">fossy: <a rel="nofollow" href="https://paste.debian.net/1180917/">https://paste.debian.net/1180917/</a> </span></div><div class="line" id="121359"><span class="nick" style="color:#6b8072"><a href="#121359" label="[12:13:59]">&lt;stikonas&gt;</a></span><span class="message">should have all typos fixed</span></div><div class="line" id="121907"><span class="nick" style="color:#389600"><a href="#121907" label="[12:19:07]">&lt;fossy&gt;</a></span><span class="message">gosh, i must be very tired tonight</span></div><div class="line" id="121937"><span class="nick" style="color:#389600"><a href="#121937" label="[12:19:37]">&lt;fossy&gt;</a></span><span class="message">i did fix version.c too, but i didn't commit that change either</span></div><div class="line" id="122027"><span class="nick" style="color:#389600"><a href="#122027" label="[12:20:27]">&lt;fossy&gt;</a></span><span class="message">fwiw, PATCH_VERSION is not required</span></div><div class="line" id="122029"><span class="nick" style="color:#6b8072"><a href="#122029" label="[12:20:29]">&lt;stikonas&gt;</a></span><span class="message">with those changes it seems to at least run</span></div><div class="line" id="122031"><span class="nick" style="color:#6b8072"><a href="#122031" label="[12:20:31]">&lt;stikonas&gt;</a></span><span class="message">oh</span></div><div class="line" id="122038"><span class="nick" style="color:#6b8072"><a href="#122038" label="[12:20:38]">&lt;stikonas&gt;</a></span><span class="message">only PACKAGE_VERSOIN?</span></div><div class="line" id="122040"><span class="nick" style="color:#6b8072"><a href="#122040" label="[12:20:40]">&lt;stikonas&gt;</a></span><span class="message">ok</span></div><div class="line" id="122041"><span class="nick" style="color:#389600"><a href="#122041" label="[12:20:41]">&lt;fossy&gt;</a></span><span class="message">ya</span></div><div class="line" id="122048"><span class="nick" style="color:#389600"><a href="#122048" label="[12:20:48]">&lt;fossy&gt;</a></span><span class="message">what did you run?</span></div><div class="line" id="122112"><span class="nick" style="color:#6b8072"><a href="#122112" label="[12:21:12]">&lt;stikonas&gt;</a></span><span class="message">I ran kaem but outside live environment</span></div><div class="line" id="122122"><span class="nick" style="color:#6b8072"><a href="#122122" label="[12:21:22]">&lt;stikonas&gt;</a></span><span class="message">with tcc built externally</span></div><div class="line" id="122140"><span class="nick" style="color:#389600"><a href="#122140" label="[12:21:40]">&lt;fossy&gt;</a></span><span class="message">yeah --version works, but when you try to use it to apply a patch it fails (at least inside live env)</span></div><div class="line" id="122140"><span class="nick" style="color:#6b8072"><a href="#122140" label="[12:21:40]">&lt;stikonas&gt;</a></span><span class="message">it usually finds most of the issues</span></div><div class="line" id="122144"><span class="nick" style="color:#389600"><a href="#122144" label="[12:21:44]">&lt;fossy&gt;</a></span><span class="message">ya</span></div><div class="line" id="122146"><span class="nick" style="color:#6b8072"><a href="#122146" label="[12:21:46]">&lt;stikonas&gt;</a></span><span class="message">oh ok...</span></div><div class="line" id="122147"><span class="nick" style="color:#389600"><a href="#122147" label="[12:21:47]">&lt;fossy&gt;</a></span><span class="message">it shoudl</span></div><div class="line" id="122324"><span class="nick" style="color:#6b8072"><a href="#122324" label="[12:23:24]">&lt;stikonas&gt;</a></span><span class="message">yeah ./patch: **** Can't create file /tmp/poizubgaerror 02:</span></div><div class="line" id="122541"><span class="nick" style="color:#6b8072"><a href="#122541" label="[12:25:41]">&lt;stikonas&gt;</a></span><span class="message">maybe open call fails?</span></div><div class="line" id="122551"><span class="nick" style="color:#6b8072"><a href="#122551" label="[12:25:51]">&lt;stikonas&gt;</a></span><span class="message">on L203 of util.c</span></div><div class="line" id="122624"><span class="nick" style="color:#389600"><a href="#122624" label="[12:26:24]">&lt;fossy&gt;</a></span><span class="message">I think so</span></div><div class="line" id="122627"><span class="nick" style="color:#389600"><a href="#122627" label="[12:26:27]">&lt;fossy&gt;</a></span><span class="message">But idk why</span></div><div class="line" id="123005"><span class="nick" style="color:#6b8072"><a href="#123005" label="[12:30:05]">&lt;stikonas&gt;</a></span><span class="message">fossy: it's some define</span></div><div class="line" id="123009"><span class="nick" style="color:#6b8072"><a href="#123009" label="[12:30:09]">&lt;stikonas&gt;</a></span><span class="message">it works with configure</span></div><div class="line" id="123202"><span class="nick" style="color:#6b8072"><a href="#123202" label="[12:32:02]">&lt;stikonas&gt;</a></span><span class="message">I can look in more details later</span></div><div class="line" id="123204"><span class="nick" style="color:#6b8072"><a href="#123204" label="[12:32:04]">&lt;stikonas&gt;</a></span><span class="message">this evening</span></div><div class="line" id="123221"><span class="nick" style="color:#6b8072"><a href="#123221" label="[12:32:21]">&lt;stikonas&gt;</a></span><span class="message">(my evening, probably very early morning for you)</span></div><div class="line" id="124411"><span class="nick" style="color:#389600"><a href="#124411" label="[12:44:11]">&lt;fossy&gt;</a></span><span class="message">stikonas: yeah thats what I think too</span></div><div class="line" id="173551"><span class="nick" style="color:#6c3d55"><a href="#173551" label="[17:35:51]">&lt;pder&gt;</a></span><span class="message">fossy, is patch possibly failing because it it attempting to write to /tmp within the chroot and that directory doesnt exist?</span></div><div class="line" id="174202"><span class="nick" style="color:#6b8072"><a href="#174202" label="[17:42:02]">&lt;stikonas&gt;</a></span><span class="message">pder: no, I fixed the problem</span></div><div class="line" id="174209"><span class="nick" style="color:#6b8072"><a href="#174209" label="[17:42:09]">&lt;stikonas&gt;</a></span><span class="message">fossy: passed the wrong definitions</span></div><div class="line" id="174223"><span class="nick" style="color:#6b8072"><a href="#174223" label="[17:42:23]">&lt;stikonas&gt;</a></span><span class="message">I had something similar in some of tar/gz/sed/diffutils</span></div><div class="line" id="174256"><span class="nick" style="color:#6b8072"><a href="#174256" label="[17:42:56]">&lt;stikonas&gt;</a></span><span class="message">pder: you need -DHAVE_FCNTL_H</span></div><div class="line" id="174445"><span class="nick" style="color:#6b8072"><a href="#174445" label="[17:44:45]">&lt;stikonas&gt;</a></span><span class="message">I had to use it to to get creat function working</span></div><div class="line" id="175350"><span class="nick" style="color:#6b8072"><a href="#175350" label="[17:53:50]">&lt;stikonas&gt;</a></span><span class="message">pder: in any case patch should be able to create folders</span></div><div class="line" id="175357"><span class="nick" style="color:#6b8072"><a href="#175357" label="[17:53:57]">&lt;stikonas&gt;</a></span><span class="message">mes libc has mkdir call</span></div><div class="line" id="183907"><span class="nick" style="color:#6c3d55"><a href="#183907" label="[18:39:07]">&lt;pder&gt;</a></span><span class="message">stikonas: that's great, thanks</span></div><div class="line" id="184105"><span class="nick" style="color:#6b8072"><a href="#184105" label="[18:41:05]">&lt;stikonas&gt;</a></span><span class="message">pder: the fix is on github review suggestions</span></div><div class="line" id="184108"><span class="nick" style="color:#6b8072"><a href="#184108" label="[18:41:08]">&lt;stikonas&gt;</a></span><span class="message">if you want to try...</span></div><div class="line" id="184259"><span class="nick" style="color:#6b8072"><a href="#184259" label="[18:42:59]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/10#discussion_r556528206">https://github.com/fosslinux/live-bootstrap/pull/10#discussion_r556528206</a>  and <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/10#discussion_r556526947">https://github.com/fosslinux/live-bootstrap/pull/10#discussion_r556526947</a> </span></div><div class="line" id="192008"><span class="nick" style="color:#6b8072"><a href="#192008" label="[19:20:08]">&lt;stikonas&gt;</a></span><span class="message">pder: and I've got bzip2 (conditional on pder work, so untested in live environment but it should work)</span></div><div class="line" id="192015"><span class="nick" style="color:#6b8072"><a href="#192015" label="[19:20:15]">&lt;stikonas&gt;</a></span><span class="message">conditional on fossy's work</span></div><div class="line" id="192039"><span class="nick" style="color:#6b8072"><a href="#192039" label="[19:20:39]">&lt;stikonas&gt;</a></span><span class="message">bzip2 is very easy</span></div><div class="line" id="192101"><span class="nick" style="color:#6b8072"><a href="#192101" label="[19:21:01]">&lt;stikonas&gt;</a></span><span class="message">and it's newer than bzip2 that I have on my current Gentoo system</span></div><div class="line" id="192138"><span class="nick" style="color:#6b8072"><a href="#192138" label="[19:21:38]">&lt;stikonas&gt;</a></span><span class="message">so I think we need to do patch -&gt; make -&gt; bzip2 and then we can do bash</span></div><div class="line" id="192409"><span class="nick" style="color:#6b8072"><a href="#192409" label="[19:24:09]">&lt;stikonas&gt;</a></span><span class="message">or maybe patch -&gt; rebuild tcc with static patch -&gt; make -&gt; bzip2 -&gt; bash</span></div><div class="line" id="194046"><span class="nick" style="color:#bc80bd"><a href="#194046" label="[19:40:46]">&lt;bauen1&gt;</a></span><span class="message">&amp;11</span></div><div class="line" id="194047"><span class="nick" style="color:#bc80bd"><a href="#194047" label="[19:40:47]">&lt;bauen1&gt;</a></span><span class="message">&amp;11</span></div><div class="line" id="201728"><span class="nick" style="color:#6b8072"><a href="#201728" label="[20:17:28]">&lt;stikonas&gt;</a></span><span class="message">&amp;11?</span></div><div class="line" id="210035"><span class="nick" style="color:#6b8072"><a href="#210035" label="[21:00:35]">&lt;stikonas&gt;</a></span><span class="message">I've just answered question on SO how GCC is bootstrapped :D <a rel="nofollow" href="https://stackoverflow.com/questions/9429491/how-are-gcc-and-g-bootstrapped/65708958#65708958">https://stackoverflow.com/questions/9429491/how-are-gcc-and-g-bootstrapped/65708958#65708958</a> </span></div><div class="line" id="213111"><span class="nick" style="color:#bc80bd"><a href="#213111" label="[21:31:11]">&lt;bauen1&gt;</a></span><span class="message">stikonas: that's what happens when you have the us keyboard layout selected on a macbook air and try to switch to window 11 in irssi</span></div><div class="line" id="213128"><span class="nick" style="color:#6b8072"><a href="#213128" label="[21:31:28]">&lt;stikonas&gt;</a></span><span class="message">oh I see...</span></div><div class="line" id="213143"><span class="nick" style="color:#bc80bd"><a href="#213143" label="[21:31:43]">&lt;bauen1&gt;</a></span><span class="message">stikonas: the second time is when you can't believe that you're at fault</span></div><div class="line" id="220716"><span class="nick" style="color:#af8d2f"><a href="#220716" label="[22:07:16]">&lt;xentrac&gt;</a></span><span class="message">stikonas: awesome :)</span></div><div class="line" id="220733"><span class="nick" style="color:#af8d2f"><a href="#220733" label="[22:07:33]">&lt;xentrac&gt;</a></span><span class="message">bauen1: alt-q is &amp;11?</span></div><div class="line" id="221029"><span class="nick" style="color:#389600"><a href="#221029" label="[22:10:29]">&lt;fossy&gt;</a></span><span class="message">stikonas: ahhhh, thanks!!!</span></div><div class="line" id="221040"><span class="nick" style="color:#6b8072"><a href="#221040" label="[22:10:40]">&lt;stikonas&gt;</a></span><span class="message">fossy: yeah, I've seen something similar before</span></div><div class="line" id="221048"><span class="nick" style="color:#6b8072"><a href="#221048" label="[22:10:48]">&lt;stikonas&gt;</a></span><span class="message">in some of gzip/tar/sed/diff</span></div><div class="line" id="221057"><span class="nick" style="color:#bc80bd"><a href="#221057" label="[22:10:57]">&lt;bauen1&gt;</a></span><span class="message">xentrac: well, on this keyboard with the german layout when i want to type &quot;/11&quot;, i use shift-7 to get the / which is &amp; with the american layout apparently</span></div><div class="line" id="221058"><span class="nick" style="color:#389600"><a href="#221058" label="[22:10:58]">&lt;fossy&gt;</a></span><span class="message">I see</span></div><div class="line" id="221108"><span class="nick" style="color:#6b8072"><a href="#221108" label="[22:11:08]">&lt;stikonas&gt;</a></span><span class="message">probably tar...</span></div><div class="line" id="221121"><span class="nick" style="color:#bc80bd"><a href="#221121" label="[22:11:21]">&lt;bauen1&gt;</a></span><span class="message">xentrac: alt-number only works for 0-9 :/</span></div><div class="line" id="221123"><span class="nick" style="color:#6b8072"><a href="#221123" label="[22:11:23]">&lt;stikonas&gt;</a></span><span class="message">fossy: and I'm mostly done with bzip</span></div><div class="line" id="221132"><span class="nick" style="color:#6b8072"><a href="#221132" label="[22:11:32]">&lt;stikonas&gt;</a></span><span class="message">fossy: assuming you push make...</span></div><div class="line" id="221155"><span class="nick" style="color:#6b8072"><a href="#221155" label="[22:11:55]">&lt;stikonas&gt;</a></span><span class="message">bzip2 already ships with hand-written makefile and only a small patch is needed to build with tcc</span></div><div class="line" id="221247"><span class="nick" style="color:#6b8072"><a href="#221247" label="[22:12:47]">&lt;stikonas&gt;</a></span><span class="message">and I tested my patch binary, it managed to apply necessary patch</span></div><div class="line" id="221412"><span class="nick" style="color:#389600"><a href="#221412" label="[22:14:12]">&lt;fossy&gt;</a></span><span class="message">stikonas: you made bzip using make or kaem?</span></div><div class="line" id="221427"><span class="nick" style="color:#6b8072"><a href="#221427" label="[22:14:27]">&lt;stikonas&gt;</a></span><span class="message">fossy: make, so I'm not making PR yet</span></div><div class="line" id="221432"><span class="nick" style="color:#6b8072"><a href="#221432" label="[22:14:32]">&lt;stikonas&gt;</a></span><span class="message">I used my system make for now</span></div><div class="line" id="221438"><span class="nick" style="color:#6b8072"><a href="#221438" label="[22:14:38]">&lt;stikonas&gt;</a></span><span class="message">but I think the one you are bootstrapping will work</span></div><div class="line" id="221501"><span class="nick" style="color:#6b8072"><a href="#221501" label="[22:15:01]">&lt;stikonas&gt;</a></span><span class="message">that's why adding bzip2 will be just a few-liner</span></div><div class="line" id="221613"><span class="nick" style="color:#6b8072"><a href="#221613" label="[22:16:13]">&lt;stikonas&gt;</a></span><span class="message">fossy: but maybe once we have patch we can rebuild tcc first?</span></div><div class="line" id="221635"><span class="nick" style="color:#6b8072"><a href="#221635" label="[22:16:35]">&lt;stikonas&gt;</a></span><span class="message">or maybe after patch+make.... not sure what is easier</span></div><div class="line" id="221843"><span class="nick" style="color:#389600"><a href="#221843" label="[22:18:43]">&lt;fossy&gt;</a></span><span class="message">stikonas: right after patch, i have it queued up</span></div><div class="line" id="221915"><span class="nick" style="color:#389600"><a href="#221915" label="[22:19:15]">&lt;fossy&gt;</a></span><span class="message">stikonas: with that suggested change, it works fine, right?</span></div><div class="line" id="221933"><span class="nick" style="color:#6b8072"><a href="#221933" label="[22:19:33]">&lt;stikonas&gt;</a></span><span class="message">patch? yes, I tried to apply my multi-file bzip2 patch</span></div><div class="line" id="221936"><span class="nick" style="color:#6b8072"><a href="#221936" label="[22:19:36]">&lt;stikonas&gt;</a></span><span class="message">and it worked</span></div><div class="line" id="221938"><span class="nick" style="color:#389600"><a href="#221938" label="[22:19:38]">&lt;fossy&gt;</a></span><span class="message">cool, cool</span></div><div class="line" id="221949"><span class="nick" style="color:#6b8072"><a href="#221949" label="[22:19:49]">&lt;stikonas&gt;</a></span><span class="message">(and one of those files is actually created)</span></div><div class="line" id="221959"><span class="nick" style="color:#6b8072"><a href="#221959" label="[22:19:59]">&lt;stikonas&gt;</a></span><span class="message">so you can switch back to patching make too</span></div><div class="line" id="222012"><span class="nick" style="color:#6b8072"><a href="#222012" label="[22:20:12]">&lt;stikonas&gt;</a></span><span class="message">instead of I guess sed'ing it</span></div><div class="line" id="222328"><span class="nick" style="color:#6b8072"><a href="#222328" label="[22:23:28]">&lt;stikonas&gt;</a></span><span class="message">so, putting up WIP patches up for review works quite well</span></div><div class="line" id="222403"><span class="nick" style="color:#389600"><a href="#222403" label="[22:24:03]">&lt;fossy&gt;</a></span><span class="message">if you want to push your bzip2 to a branch and make a wip pr go ahead</span></div><div class="line" id="222724"><span class="nick" style="color:#6b8072"><a href="#222724" label="[22:27:24]">&lt;stikonas&gt;</a></span><span class="message">well, I can wait a bit, otherwise it will conflict with your changes to after.kaem.run</span></div><div class="line" id="222729"><span class="nick" style="color:#389600"><a href="#222729" label="[22:27:29]">&lt;fossy&gt;</a></span><span class="message">ah eyah</span></div><div class="line" id="222739"><span class="nick" style="color:#6b8072"><a href="#222739" label="[22:27:39]">&lt;stikonas&gt;</a></span><span class="message">it's a minor patch anywya</span></div><div class="line" id="222809"><span class="nick" style="color:#6b8072"><a href="#222809" label="[22:28:09]">&lt;stikonas&gt;</a></span><span class="message">then we can also start downloading tar.bz2</span></div><div class="line" id="223359"><span class="nick" style="color:#af8d2f"><a href="#223359" label="[22:33:59]">&lt;xentrac&gt;</a></span><span class="message">bauen1: on my irssi, alt-qwertyuio are the next 9 windows</span></div><div class="line" id="223516"><span class="nick" style="color:#bc80bd"><a href="#223516" label="[22:35:16]">&lt;bauen1&gt;</a></span><span class="message">xentrac: thanks, that's good to know</span></div><div class="line" id="230819"><span class="nick" style="color:#af8d2f"><a href="#230819" label="[23:08:19]">&lt;xentrac&gt;</a></span><span class="message">bauen1: does it work for you?</span></div><div class="line" id="230858"><span class="nick" style="color:#af8d2f"><a href="#230858" label="[23:08:58]">&lt;xentrac&gt;</a></span><span class="message">or is it some weird thing with my setup?</span></div><div class="line" id="233053"><span class="nick" style="color:#6b8072"><a href="#233053" label="[23:30:53]">&lt;stikonas&gt;</a></span><span class="message">fossy: this is my untested bzip2 patch <a rel="nofollow" href="https://github.com/stikonas/live-bootstrap/commit/fa3a8b6ee0d4957aa939f44df553bfddfbe2900c">https://github.com/stikonas/live-bootstrap/commit/fa3a8b6ee0d4957aa939f44df553bfddfbe2900c</a> </span></div><div class="line" id="233228"><span class="nick" style="color:#389600"><a href="#233228" label="[23:32:28]">&lt;ericonr&gt;</a></span><span class="message">stikonas: you have a typo</span></div><div class="line" id="233234"><span class="nick" style="color:#389600"><a href="#233234" label="[23:32:34]">&lt;ericonr&gt;</a></span><span class="message">get_flie</span></div><div class="line" id="233243"><span class="nick" style="color:#6b8072"><a href="#233243" label="[23:32:43]">&lt;stikonas&gt;</a></span><span class="message">ericonr: thanks...</span></div><div class="line" id="233256"><span class="nick" style="color:#6b8072"><a href="#233256" label="[23:32:56]">&lt;stikonas&gt;</a></span><span class="message">like I said it's untested (can't test until make is there)</span></div><div class="line" id="233343"><span class="nick" style="color:#6b8072"><a href="#233343" label="[23:33:43]">&lt;stikonas&gt;</a></span><span class="message">ok, fixed <a rel="nofollow" href="https://github.com/stikonas/live-bootstrap/commit/bzip2">https://github.com/stikonas/live-bootstrap/commit/bzip2</a> </span></div><div class="line" id="233542"><span class="nick" style="color:#6b8072"><a href="#233542" label="[23:35:42]">&lt;stikonas&gt;</a></span><span class="message">(and I suspect that it needs rebuilt tcc because I didn't specify &quot;tcc -static&quot;. Or alternatively I need to patch CFLAGS further...</span></div><br /></div></body></html>