<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2023-06-10.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000356"><span class="nick" style="color:#389600"><a href="#000356" label="[00:03:56]">&lt;oriansj&gt;</a></span><span class="message">muurkha: I think I finally found a reason to port stage0 to ESP32</span></div><div class="line" id="001321"><span class="nick" style="color:#389600"><a href="#001321" label="[00:13:21]">&lt;oriansj&gt;</a></span><span class="message"> <a rel="nofollow" href="https://www.crowdsupply.com/soldered/inkplate-6">https://www.crowdsupply.com/soldered/inkplate-6</a>  ; I figure if I get moderately useful emacs org-mode reader with inline picture support; I'll have a first attempt at an eternity manual device and I'll just have to grow out my notes until they cover everything needed to build such a device from first principals</span></div><div class="line" id="002200"><span class="nick" style="color:#8dd3c7"><a href="#002200" label="[00:22:00]">&lt;stikonas&gt;</a></span><span class="message">that's xtensa?</span></div><div class="line" id="002410"><span class="nick" style="color:#8dd3c7"><a href="#002410" label="[00:24:10]">&lt;stikonas&gt;</a></span><span class="message">actually some new ESP32 chips are riscv32</span></div><div class="line" id="002619"><span class="nick" style="color:#389600"><a href="#002619" label="[00:26:19]">&lt;oriansj&gt;</a></span><span class="message">well I guess I am going to learn the ugly details when they show</span></div><div class="line" id="002821"><span class="nick" style="color:#2e2a4a"><a href="#002821" label="[00:28:21]">&lt;theruran&gt;</a></span><span class="message">I finally figured out that my drive with all my cloned Git repos of code on it was mounted noexec despite 'exec' ostensibly being in the 'defaults'</span></div><div class="line" id="003139"><span class="nick" style="color:#2e2a4a"><a href="#003139" label="[00:31:39]">&lt;theruran&gt;</a></span><span class="message">(fresh install.) probably a security feature of Void Linux</span></div><div class="line" id="005130"><span class="nick" style="color:#8dd3c7"><a href="#005130" label="[00:51:30]">&lt;stikonas&gt;</a></span><span class="message">theruran: oh, so it's nothing to do with pie?</span></div><div class="line" id="005148"><span class="nick" style="color:#8dd3c7"><a href="#005148" label="[00:51:48]">&lt;stikonas&gt;</a></span><span class="message">or rather non position independent executable (kaem-optional-seed)</span></div><div class="line" id="011008"><span class="nick" style="color:#2e2a4a"><a href="#011008" label="[01:10:08]">&lt;theruran&gt;</a></span><span class="message">no, I don't think so. since all checksums pass on my other Arch Linux-musl machine</span></div><div class="line" id="011320"><span class="nick" style="color:#2e2a4a"><a href="#011320" label="[01:13:20]">&lt;theruran&gt;</a></span><span class="message">checks pass here too</span></div><div class="line" id="014307"><span class="nick" style="color:#6b8072"><a href="#014307" label="[01:43:07]">&lt;muurkha&gt;</a></span><span class="message">oriansj: cool!</span></div><div class="line" id="014418"><span class="nick" style="color:#6b8072"><a href="#014418" label="[01:44:18]">&lt;muurkha&gt;</a></span><span class="message">oriansj: yeah, QED as described was a pretty powerful editor</span></div><div class="line" id="014453"><span class="nick" style="color:#6b8072"><a href="#014453" label="[01:44:53]">&lt;muurkha&gt;</a></span><span class="message">theruran: heh, how frustrating</span></div><div class="line" id="014924"><span class="nick" style="color:#6b8072"><a href="#014924" label="[01:49:24]">&lt;muurkha&gt;</a></span><span class="message">oriansj: I think e-ink is still power-hungry enough that you need a battery or line power.  building batteries at home is achievable, of course</span></div><div class="line" id="014936"><span class="nick" style="color:#6b8072"><a href="#014936" label="[01:49:36]">&lt;muurkha&gt;</a></span><span class="message">but they're not very eternal</span></div><div class="line" id="015316"><span class="nick" style="color:#6b8072"><a href="#015316" label="[01:53:16]">&lt;muurkha&gt;</a></span><span class="message">in theory a copper-iron battery should be 0.79 volts; six of them in series should get you five volts</span></div><div class="line" id="015421"><span class="nick" style="color:#6b8072"><a href="#015421" label="[01:54:21]">&lt;muurkha&gt;</a></span><span class="message">copper is pretty scarce, but iron is abundant, and if I understand correctly, it's the iron that gets consumed</span></div><div class="line" id="015743"><span class="nick" style="color:#389600"><a href="#015743" label="[01:57:43]">&lt;oriansj&gt;</a></span><span class="message">muurkha: granted, but a 25 μA @3.7v isn't a hard requirement to hit</span></div><div class="line" id="015911"><span class="nick" style="color:#6b8072"><a href="#015911" label="[01:59:11]">&lt;muurkha&gt;</a></span><span class="message">is that all the device needs on average?  I'd've guessed more like 25 mA during use</span></div><div class="line" id="020009"><span class="nick" style="color:#389600"><a href="#020009" label="[02:00:09]">&lt;oriansj&gt;</a></span><span class="message">well the battery they reference lasting months is 1200mA</span></div><div class="line" id="020102"><span class="nick" style="color:#389600"><a href="#020102" label="[02:01:02]">&lt;oriansj&gt;</a></span><span class="message">and the 25 μA is the sleep power</span></div><div class="line" id="020134"><span class="nick" style="color:#389600"><a href="#020134" label="[02:01:34]">&lt;oriansj&gt;</a></span><span class="message">so i am guessing aggressive write to eeprom and powerdown</span></div><div class="line" id="020145"><span class="nick" style="color:#389600"><a href="#020145" label="[02:01:45]">&lt;oriansj&gt;</a></span><span class="message">until next buttom press</span></div><div class="line" id="020230"><span class="nick" style="color:#389600"><a href="#020230" label="[02:02:30]">&lt;oriansj&gt;</a></span><span class="message">which puts this well within range which a human can charge using a hand dynamo</span></div><div class="line" id="023909"><span class="nick" style="color:#6b8072"><a href="#023909" label="[02:39:09]">&lt;muurkha&gt;</a></span><span class="message">1200mA is a lot more than 25 μA</span></div><div class="line" id="023951"><span class="nick" style="color:#6b8072"><a href="#023951" label="[02:39:51]">&lt;muurkha&gt;</a></span><span class="message">but maybe that's just the peak current, like when it's erasing the dcreen</span></div><div class="line" id="023954"><span class="nick" style="color:#6b8072"><a href="#023954" label="[02:39:54]">&lt;muurkha&gt;</a></span><span class="message">*screen</span></div><div class="line" id="023956"><span class="nick" style="color:#80b1d3"><a href="#023956" label="[02:39:56]">&lt;stikonas[m]&gt;</a></span><span class="message">I think oriansj meant 1200 mAh</span></div><div class="line" id="024028"><span class="nick" style="color:#6b8072"><a href="#024028" label="[02:40:28]">&lt;muurkha&gt;</a></span><span class="message">possibly?  is that what you meant, oriansj?</span></div><div class="line" id="024051"><span class="nick" style="color:#80b1d3"><a href="#024051" label="[02:40:51]">&lt;stikonas[m]&gt;</a></span><span class="message">Well, battery capacity of 1200 mAh would make sense</span></div><div class="line" id="024115"><span class="nick" style="color:#6b8072"><a href="#024115" label="[02:41:15]">&lt;muurkha&gt;</a></span><span class="message">it would still be sort of meaningless without knowing the voltage</span></div><div class="line" id="024134"><span class="nick" style="color:#80b1d3"><a href="#024134" label="[02:41:34]">&lt;stikonas[m]&gt;</a></span><span class="message">You can still work out time</span></div><div class="line" id="024154"><span class="nick" style="color:#6b8072"><a href="#024154" label="[02:41:54]">&lt;muurkha&gt;</a></span><span class="message">but we can probably guess that the battery voltage is somewhere in the range of 3.7V to 37V</span></div><div class="line" id="024217"><span class="nick" style="color:#6b8072"><a href="#024217" label="[02:42:17]">&lt;muurkha&gt;</a></span><span class="message">it's surely not 1200mAh at 0.1V or 1000V</span></div><div class="line" id="024222"><span class="nick" style="color:#80b1d3"><a href="#024222" label="[02:42:22]">&lt;stikonas[m]&gt;</a></span><span class="message"> 25 μA would last 48 thousand hours</span></div><div class="line" id="024308"><span class="nick" style="color:#6b8072"><a href="#024308" label="[02:43:08]">&lt;muurkha&gt;</a></span><span class="message">well, assuming those two currents are at the same voltage, but that's not a valid assumption</span></div><div class="line" id="024328"><span class="nick" style="color:#80b1d3"><a href="#024328" label="[02:43:28]">&lt;stikonas[m]&gt;</a></span><span class="message">Well, yes assuming voltage is the same</span></div><div class="line" id="024336"><span class="nick" style="color:#6b8072"><a href="#024336" label="[02:43:36]">&lt;muurkha&gt;</a></span><span class="message">there's surely a SMPS between the battery and the ESP32</span></div><div class="line" id="024525"><span class="nick" style="color:#6b8072"><a href="#024525" label="[02:45:25]">&lt;muurkha&gt;</a></span><span class="message">anyway, yes, a handcrank or pullstring generator is a reasonable thing to use</span></div><div class="line" id="030353"><span class="nick" style="color:#389600"><a href="#030353" label="[03:03:53]">&lt;oriansj&gt;</a></span><span class="message">muurkha: well the datasheet <a rel="nofollow" href="https://soldered.com/productdata/2020/07/Soldered_1200-mAh_datasheet.pdf">https://soldered.com/productdata/2020/07/Soldered_1200-mAh_datasheet.pdf</a>  says 1200mA but I am guessing it is a typo and they mean 1200mA @3.7volts</span></div><div class="line" id="030417"><span class="nick" style="color:#389600"><a href="#030417" label="[03:04:17]">&lt;oriansj&gt;</a></span><span class="message">^mA^mAh^</span></div><div class="line" id="035511"><span class="nick" style="color:#6b8072"><a href="#035511" label="[03:55:11]">&lt;muurkha&gt;</a></span><span class="message">yeah, it says that in the filename</span></div><div class="line" id="035541"><span class="nick" style="color:#6b8072"><a href="#035541" label="[03:55:41]">&lt;muurkha&gt;</a></span><span class="message">also it says 1200mA charging current is &quot;1C&quot; and 600mA is &quot;0.5C&quot;</span></div><div class="line" id="035617"><span class="nick" style="color:#6b8072"><a href="#035617" label="[03:56:17]">&lt;muurkha&gt;</a></span><span class="message">that</span></div><div class="line" id="035731"><span class="nick" style="color:#6b8072"><a href="#035731" label="[03:57:31]">&lt;muurkha&gt;</a></span><span class="message">'s 16kJ.  at a 100mW average load, which I think is typical for a Swindle, it would last about 48 hours of use</span></div><div class="line" id="035815"><span class="nick" style="color:#6b8072"><a href="#035815" label="[03:58:15]">&lt;muurkha&gt;</a></span><span class="message">maybe that's &quot;months&quot; if you read on it for half an hour before going to sleep every night</span></div><div class="line" id="035911"><span class="nick" style="color:#6b8072"><a href="#035911" label="[03:59:11]">&lt;muurkha&gt;</a></span><span class="message">or maybe the average power draw of the machine in use is much lower than my 100mW estimate</span></div><div class="line" id="040225"><span class="nick" style="color:#6b8072"><a href="#040225" label="[04:02:25]">&lt;muurkha&gt;</a></span><span class="message">by contrast, the memory LCD used in <a rel="nofollow" href="https://blog.za3k.com/introducing-the-zorchpad-display-demo/">https://blog.za3k.com/introducing-the-zorchpad-display-demo/</a>  is supposed to use 0.2 mW updating constantly</span></div><div class="line" id="040607"><span class="nick" style="color:#6b8072"><a href="#040607" label="[04:06:07]">&lt;muurkha&gt;</a></span><span class="message">16kJ at 0.2mW is two and a half years</span></div><div class="line" id="040717"><span class="nick" style="color:#6b8072"><a href="#040717" label="[04:07:17]">&lt;muurkha&gt;</a></span><span class="message">(of course, you need something to generate the display updates, but plausibly that could also be a lot less than a milliwatt, even with traditional CMOS)</span></div><div class="line" id="042340"><span class="nick" style="color:#389600"><a href="#042340" label="[04:23:40]">&lt;oriansj&gt;</a></span><span class="message">hmmm; valid points. Also I realize I have a good bit of software to write to achieve my desired final state of software</span></div><div class="line" id="044106"><span class="nick" style="color:#6b8072"><a href="#044106" label="[04:41:06]">&lt;muurkha&gt;</a></span><span class="message">but this is all based on my SWAG of 100mW</span></div><div class="line" id="122313"><span class="nick" style="color:#8dd3c7"><a href="#122313" label="[12:23:13]">&lt;stikonas&gt;</a></span><span class="message">janneke: last commit here adds my copyright statements <a rel="nofollow" href="https://git.stikonas.eu/andrius/mes/src/branch/wip-riscv">https://git.stikonas.eu/andrius/mes/src/branch/wip-riscv</a> </span></div><div class="line" id="122328"><span class="nick" style="color:#8dd3c7"><a href="#122328" label="[12:23:28]">&lt;stikonas&gt;</a></span><span class="message">I still need to provide you with an updated gnu style commit message</span></div><div class="line" id="122339"><span class="nick" style="color:#8dd3c7"><a href="#122339" label="[12:23:39]">&lt;stikonas&gt;</a></span><span class="message">how do I do it with your rebasing system?</span></div><div class="line" id="123739"><span class="nick" style="color:#6d2462"><a href="#123739" label="[12:37:39]">&lt;janneke&gt;</a></span><span class="message">stikonas: great, i'll just cherry-pick your commit to keep a linear history</span></div><div class="line" id="123756"><span class="nick" style="color:#8dd3c7"><a href="#123756" label="[12:37:56]">&lt;stikonas&gt;</a></span><span class="message">yes, no force-rebase is required for now</span></div><div class="line" id="123806"><span class="nick" style="color:#8dd3c7"><a href="#123806" label="[12:38:06]">&lt;stikonas&gt;</a></span><span class="message">but if you want me to change commit message</span></div><div class="line" id="123816"><span class="nick" style="color:#8dd3c7"><a href="#123816" label="[12:38:16]">&lt;stikonas&gt;</a></span><span class="message">then that would need rewriting history</span></div><div class="line" id="123834"><span class="nick" style="color:#6d2462"><a href="#123834" label="[12:38:34]">&lt;janneke&gt;</a></span><span class="message">ah, but that rule only holds for master</span></div><div class="line" id="123856"><span class="nick" style="color:#8dd3c7"><a href="#123856" label="[12:38:56]">&lt;stikonas&gt;</a></span><span class="message">yeah, I understand</span></div><div class="line" id="123857"><span class="nick" style="color:#6d2462"><a href="#123857" label="[12:38:57]">&lt;janneke&gt;</a></span><span class="message">i'll just rewrite wip-riscv</span></div><div class="line" id="123908"><span class="nick" style="color:#8dd3c7"><a href="#123908" label="[12:39:08]">&lt;stikonas&gt;</a></span><span class="message">I think I am asking more about those macros you use, like !squash</span></div><div class="line" id="123912"><span class="nick" style="color:#8dd3c7"><a href="#123912" label="[12:39:12]">&lt;stikonas&gt;</a></span><span class="message">ok, no problem</span></div><div class="line" id="123924"><span class="nick" style="color:#8dd3c7"><a href="#123924" label="[12:39:24]">&lt;stikonas&gt;</a></span><span class="message">I'll just prepare the text in some editor/pastebin</span></div><div class="line" id="123942"><span class="nick" style="color:#6d2462"><a href="#123942" label="[12:39:42]">&lt;janneke&gt;</a></span><span class="message">the squash! is just a (magit) convenience</span></div><div class="line" id="123944"><span class="nick" style="color:#8dd3c7"><a href="#123944" label="[12:39:44]">&lt;stikonas&gt;</a></span><span class="message">though that might have to wait till the evening, I might need to go weekend shopping first</span></div><div class="line" id="123959"><span class="nick" style="color:#8dd3c7"><a href="#123959" label="[12:39:59]">&lt;stikonas&gt;</a></span><span class="message">oh I see, it's magit</span></div><div class="line" id="124009"><span class="nick" style="color:#8dd3c7"><a href="#124009" label="[12:40:09]">&lt;stikonas&gt;</a></span><span class="message">I was trying to find where those macros are coming from...</span></div><div class="line" id="124020"><span class="nick" style="color:#6d2462"><a href="#124020" label="[12:40:20]">&lt;janneke&gt;</a></span><span class="message">keeping them separate for a bit makes it easier to see what changed</span></div><div class="line" id="124100"><span class="nick" style="color:#8dd3c7"><a href="#124100" label="[12:41:00]">&lt;stikonas&gt;</a></span><span class="message">indeed</span></div><div class="line" id="124117"><span class="nick" style="color:#6d2462"><a href="#124117" label="[12:41:17]">&lt;janneke&gt;</a></span><span class="message">stikonas; so you're welcome to squash those commits into yours and then add a changelog, and otherwise i'll do just that ;)</span></div><div class="line" id="124127"><span class="nick" style="color:#8dd3c7"><a href="#124127" label="[12:41:27]">&lt;stikonas&gt;</a></span><span class="message">janneke: not sure if you saw my message, I had a bit of success with tcc but it's not able to bootstrap itself</span></div><div class="line" id="124151"><span class="nick" style="color:#6d2462"><a href="#124151" label="[12:41:51]">&lt;janneke&gt;</a></span><span class="message">yes, that's great</span></div><div class="line" id="124204"><span class="nick" style="color:#6d2462"><a href="#124204" label="[12:42:04]">&lt;janneke&gt;</a></span><span class="message">you esp still have troubles with long long or float?</span></div><div class="line" id="124210"><span class="nick" style="color:#8dd3c7"><a href="#124210" label="[12:42:10]">&lt;stikonas&gt;</a></span><span class="message">I should probably push my intermediate changes somewhere</span></div><div class="line" id="124217"><span class="nick" style="color:#8dd3c7"><a href="#124217" label="[12:42:17]">&lt;stikonas&gt;</a></span><span class="message">janneke: those I tried to ifdef away</span></div><div class="line" id="124220"><span class="nick" style="color:#8dd3c7"><a href="#124220" label="[12:42:20]">&lt;stikonas&gt;</a></span><span class="message">so it builds</span></div><div class="line" id="124229"><span class="nick" style="color:#8dd3c7"><a href="#124229" label="[12:42:29]">&lt;stikonas&gt;</a></span><span class="message">just crashes on some stuff at runtime</span></div><div class="line" id="124233"><span class="nick" style="color:#8dd3c7"><a href="#124233" label="[12:42:33]">&lt;stikonas&gt;</a></span><span class="message">(but I think simple stuff works)</span></div><div class="line" id="124242"><span class="nick" style="color:#6d2462"><a href="#124242" label="[12:42:42]">&lt;janneke&gt;</a></span><span class="message">that's already pretty nice</span></div><div class="line" id="124314"><span class="nick" style="color:#8dd3c7"><a href="#124314" label="[12:43:14]">&lt;stikonas&gt;</a></span><span class="message">janneke: <a rel="nofollow" href="https://git.stikonas.eu/andrius/tinycc/commit/868d905a663f01f74ee5b7cb8e1c0b152e36a00b">https://git.stikonas.eu/andrius/tinycc/commit/868d905a663f01f74ee5b7cb8e1c0b152e36a00b</a> </span></div><div class="line" id="124330"><span class="nick" style="color:#8dd3c7"><a href="#124330" label="[12:43:30]">&lt;stikonas&gt;</a></span><span class="message">and at least some of the issues are in mes C library</span></div><div class="line" id="124410"><span class="nick" style="color:#6d2462"><a href="#124410" label="[12:44:10]">&lt;janneke&gt;</a></span><span class="message">ah yeah, that figures</span></div><div class="line" id="124414"><span class="nick" style="color:#8dd3c7"><a href="#124414" label="[12:44:14]">&lt;stikonas&gt;</a></span><span class="message">assembly code in linux/riscv64-mes-gcc uses far more stuff than tcc is able to understand</span></div><div class="line" id="124511"><span class="nick" style="color:#8dd3c7"><a href="#124511" label="[12:45:11]">&lt;stikonas&gt;</a></span><span class="message">and actually running the whole chain in qemu-riscv64 (binfmt/user emulation) takes about 6 hours here</span></div><div class="line" id="124524"><span class="nick" style="color:#6d2462"><a href="#124524" label="[12:45:24]">&lt;janneke&gt;</a></span><span class="message">ouch, that's terrible</span></div><div class="line" id="124541"><span class="nick" style="color:#8dd3c7"><a href="#124541" label="[12:45:41]">&lt;stikonas&gt;</a></span><span class="message">well, mes is slow and emulation slows it further</span></div><div class="line" id="124549"><span class="nick" style="color:#8dd3c7"><a href="#124549" label="[12:45:49]">&lt;stikonas&gt;</a></span><span class="message">not much we can do about emulation being slow</span></div><div class="line" id="124609"><span class="nick" style="color:#8dd3c7"><a href="#124609" label="[12:46:09]">&lt;stikonas&gt;</a></span><span class="message">you could perhaps use native mes to build riscv64 version of tcc for development...</span></div><div class="line" id="124717"><span class="nick" style="color:#6d2462"><a href="#124717" label="[12:47:17]">&lt;janneke&gt;</a></span><span class="message">stikonas: you can run mescc with guile, that may speedup things a bit</span></div><div class="line" id="124741"><span class="nick" style="color:#8dd3c7"><a href="#124741" label="[12:47:41]">&lt;stikonas&gt;</a></span><span class="message">perhaps...</span></div><div class="line" id="124801"><span class="nick" style="color:#8dd3c7"><a href="#124801" label="[12:48:01]">&lt;stikonas&gt;</a></span><span class="message">though that would need more time on my side to adjust build environment</span></div><div class="line" id="124802"><span class="nick" style="color:#6d2462"><a href="#124802" label="[12:48:02]">&lt;janneke&gt;</a></span><span class="message">it did/does for x86, i've done that a lot while working on tcc</span></div><div class="line" id="124811"><span class="nick" style="color:#6d2462"><a href="#124811" label="[12:48:11]">&lt;janneke&gt;</a></span><span class="message">yeah, i guess</span></div><div class="line" id="124823"><span class="nick" style="color:#6d2462"><a href="#124823" label="[12:48:23]">&lt;janneke&gt;</a></span><span class="message">but the cross-compile trick might work too</span></div><div class="line" id="124826"><span class="nick" style="color:#8dd3c7"><a href="#124826" label="[12:48:26]">&lt;stikonas&gt;</a></span><span class="message">right now I hacked live-bootstrap with some minimal changes to run riscv64 rather than x86</span></div><div class="line" id="124829"><span class="nick" style="color:#8dd3c7"><a href="#124829" label="[12:48:29]">&lt;stikonas&gt;</a></span><span class="message"> (<a rel="nofollow" href="https://git.stikonas.eu/andrius/live-bootstrap/src/branch/mes-x86_64">https://git.stikonas.eu/andrius/live-bootstrap/src/branch/mes-x86_64</a>) </span></div><div class="line" id="124901"><span class="nick" style="color:#8dd3c7"><a href="#124901" label="[12:49:01]">&lt;stikonas&gt;</a></span><span class="message">(branch name comes from my attempts to also test amd64 support)</span></div><div class="line" id="124903"><span class="nick" style="color:#6d2462"><a href="#124903" label="[12:49:03]">&lt;janneke&gt;</a></span><span class="message">oh, that's pretty nice</span></div><div class="line" id="124909"><span class="nick" style="color:#8dd3c7"><a href="#124909" label="[12:49:09]">&lt;stikonas&gt;</a></span><span class="message">amd64 support is actually worse then riscv64</span></div><div class="line" id="124922"><span class="nick" style="color:#6d2462"><a href="#124922" label="[12:49:22]">&lt;janneke&gt;</a></span><span class="message">ah</span></div><div class="line" id="124933"><span class="nick" style="color:#8dd3c7"><a href="#124933" label="[12:49:33]">&lt;stikonas&gt;</a></span><span class="message">I guess nobody worked on porting x86_64_*.c files to mescc</span></div><div class="line" id="125102"><span class="nick" style="color:#8dd3c7"><a href="#125102" label="[12:51:02]">&lt;stikonas&gt;</a></span><span class="message">(and if you or somebody else want to try that live-bootstrap branch, I was running it with &quot;./rootfs.py --arch riscv64--bwrap -p&quot; (-p is to keep build dir present after run eventually fails)</span></div><div class="line" id="125127"><span class="nick" style="color:#8dd3c7"><a href="#125127" label="[12:51:27]">&lt;stikonas&gt;</a></span><span class="message">argh, space got lost in the command above</span></div><div class="line" id="125147"><span class="nick" style="color:#6d2462"><a href="#125147" label="[12:51:47]">&lt;janneke&gt;</a></span><span class="message">;)</span></div><div class="line" id="125152"><span class="nick" style="color:#8dd3c7"><a href="#125152" label="[12:51:52]">&lt;stikonas&gt;</a></span><span class="message">./rootfs.py --arch riscv64 --bwrap --preserve</span></div><div class="line" id="131749"><span class="nick" style="color:#234e69"><a href="#131749" label="[13:17:49]">&lt;river&gt;</a></span><span class="message">Hi folks</span></div><div class="line" id="131920"><span class="nick" style="color:#234e69"><a href="#131920" label="[13:19:20]">&lt;river&gt;</a></span><span class="message">there was a virus in the modded minecraft community. it has been mostly sorted. but there was a meeting about mitigation and there was some discussion about things like code signing, reproducible builds, the security benefits of CI, 2fa</span></div><div class="line" id="131929"><span class="nick" style="color:#234e69"><a href="#131929" label="[13:19:29]">&lt;river&gt;</a></span><span class="message"> <a rel="nofollow" href="https://www.youtube.com/watch?v=L52Hu334Q90">https://www.youtube.com/watch?v=L52Hu334Q90</a>  and background <a rel="nofollow" href="https://github.com/fractureiser-investigation/fractureiser">https://github.com/fractureiser-investigation/fractureiser</a> </span></div><div class="line" id="131957"><span class="nick" style="color:#234e69"><a href="#131957" label="[13:19:57]">&lt;river&gt;</a></span><span class="message">ultimately it sounds like they are not going to do reproducible builds</span></div><div class="line" id="132011"><span class="nick" style="color:#234e69"><a href="#132011" label="[13:20:11]">&lt;river&gt;</a></span><span class="message">but it was interesting to listen to</span></div><div class="line" id="132157"><span class="nick" style="color:#6c3d55"><a href="#132157" label="[13:21:57]">&lt;h01ger&gt;</a></span><span class="message">O_i</span></div><div class="line" id="132900"><span class="nick" style="color:#234e69"><a href="#132900" label="[13:29:00]">&lt;river&gt;</a></span><span class="message">h01ger--</span></div><div class="line" id="134010"><span class="nick" style="color:#6d2462"><a href="#134010" label="[13:40:10]">&lt;janneke&gt;</a></span><span class="message">river: wow, there's quite some corporate bullshit there</span></div><div class="line" id="134023"><span class="nick" style="color:#6d2462"><a href="#134023" label="[13:40:23]">&lt;janneke&gt;</a></span><span class="message">&quot;safety is critical [..] and we're doing everything we can to improve and correct&quot;</span></div><div class="line" id="134042"><span class="nick" style="color:#6d2462"><a href="#134042" label="[13:40:42]">&lt;janneke&gt;</a></span><span class="message">(while you say, they'll not even do rb, let alone bb?)</span></div><div class="line" id="134059"><span class="nick" style="color:#6d2462"><a href="#134059" label="[13:40:59]">&lt;janneke&gt;</a></span><span class="message">and the old security by obscurity bullshit</span></div><div class="line" id="134100"><span class="nick" style="color:#6d2462"><a href="#134100" label="[13:41:00]">&lt;janneke&gt;</a></span><span class="message">on the &quot;security tests&quot; they run: &quot;exposing everything we do [..] will eventually lead to vulnerabilities&quot;</span></div><div class="line" id="134121"><span class="nick" style="color:#6d2462"><a href="#134121" label="[13:41:21]">&lt;janneke&gt;</a></span><span class="message">ACTION gives up watching after 11min</span></div><div class="line" id="194416"><span class="nick" style="color:#8dd3c7"><a href="#194416" label="[19:44:16]">&lt;stikonas&gt;</a></span><span class="message">janneke: actually, thinking of your question about long long, would that even be a problem with 64-bit arches? What's the behaviour of mescc?</span></div><div class="line" id="194436"><span class="nick" style="color:#8dd3c7"><a href="#194436" label="[19:44:36]">&lt;stikonas&gt;</a></span><span class="message">I was still trying to build it with long long disabled, but could it just work?</span></div><div class="line" id="195154"><span class="nick" style="color:#6d2462"><a href="#195154" label="[19:51:54]">&lt;janneke&gt;</a></span><span class="message">stikonas: mescc doesn't support long long, other than parsing it</span></div><div class="line" id="195208"><span class="nick" style="color:#6d2462"><a href="#195208" label="[19:52:08]">&lt;janneke&gt;</a></span><span class="message">it uses the same size as long</span></div><div class="line" id="195228"><span class="nick" style="color:#6d2462"><a href="#195228" label="[19:52:28]">&lt;janneke&gt;</a></span><span class="message">until now, we got away with that...</span></div><div class="line" id="195344"><span class="nick" style="color:#8dd3c7"><a href="#195344" label="[19:53:44]">&lt;stikonas&gt;</a></span><span class="message">yes, but is it 4 bytes or 8 bytes?</span></div><div class="line" id="195351"><span class="nick" style="color:#8dd3c7"><a href="#195351" label="[19:53:51]">&lt;stikonas&gt;</a></span><span class="message">(on 64-bit arch)</span></div><div class="line" id="200038"><span class="nick" style="color:#6d2462"><a href="#200038" label="[20:00:38]">&lt;janneke&gt;</a></span><span class="message">8 bytes on 64bit</span></div><div class="line" id="200207"><span class="nick" style="color:#6d2462"><a href="#200207" label="[20:02:07]">&lt;janneke&gt;</a></span><span class="message">stikonas: <a rel="nofollow" href="https://git.savannah.gnu.org/cgit/mes.git/tree/module/mescc/riscv64/info.scm?h=wip-riscv#n43">https://git.savannah.gnu.org/cgit/mes.git/tree/module/mescc/riscv64/info.scm?h=wip-riscv#n43</a> </span></div><div class="line" id="200323"><span class="nick" style="color:#8dd3c7"><a href="#200323" label="[20:03:23]">&lt;stikonas&gt;</a></span><span class="message">so we might actually have fewer problems with long longs there</span></div><div class="line" id="200336"><span class="nick" style="color:#8dd3c7"><a href="#200336" label="[20:03:36]">&lt;stikonas&gt;</a></span><span class="message">anyway, we'll see later</span></div><div class="line" id="200351"><span class="nick" style="color:#8dd3c7"><a href="#200351" label="[20:03:51]">&lt;stikonas&gt;</a></span><span class="message">there are other riscv64 problems on tcc...</span></div><div class="line" id="200403"><span class="nick" style="color:#8dd3c7"><a href="#200403" label="[20:04:03]">&lt;stikonas&gt;</a></span><span class="message">it doesn't like some assembly, complained about some casts</span></div><div class="line" id="200431"><span class="nick" style="color:#6d2462"><a href="#200431" label="[20:04:31]">&lt;janneke&gt;</a></span><span class="message">okay</span></div><div class="line" id="213459"><span class="nick" style="color:#8dd3c7"><a href="#213459" label="[21:34:59]">&lt;stikonas&gt;</a></span><span class="message">janneke: I've now wrote gnu style commit message <a rel="nofollow" href="https://git.stikonas.eu/andrius/mes/commit/3c7219eb1ad9e009015d924344073b0da7711580">https://git.stikonas.eu/andrius/mes/commit/3c7219eb1ad9e009015d924344073b0da7711580</a> </span></div><div class="line" id="213503"><span class="nick" style="color:#8dd3c7"><a href="#213503" label="[21:35:03]">&lt;stikonas&gt;</a></span><span class="message">does that look alright?</span></div><div class="line" id="213524"><span class="nick" style="color:#8dd3c7"><a href="#213524" label="[21:35:24]">&lt;stikonas&gt;</a></span><span class="message">and also squashed all of them into a single commit</span></div><div class="line" id="213750"><span class="nick" style="color:#6d2462"><a href="#213750" label="[21:37:50]">&lt;janneke&gt;</a></span><span class="message">stikonas: looks great, thanks</span></div><div class="line" id="213818"><span class="nick" style="color:#8dd3c7"><a href="#213818" label="[21:38:18]">&lt;stikonas&gt;</a></span><span class="message">I also have (not committed there) a kaem file for building libc and mes</span></div><div class="line" id="213833"><span class="nick" style="color:#8dd3c7"><a href="#213833" label="[21:38:33]">&lt;stikonas&gt;</a></span><span class="message">though I'm still thinking on the best way to split it</span></div><div class="line" id="213853"><span class="nick" style="color:#8dd3c7"><a href="#213853" label="[21:38:53]">&lt;stikonas&gt;</a></span><span class="message">(i.e. do we want to have individual steps to just build libc without mes)</span></div><div class="line" id="213921"><span class="nick" style="color:#6d2462"><a href="#213921" label="[21:39:21]">&lt;janneke&gt;</a></span><span class="message">stikonas: right</span></div><div class="line" id="213947"><span class="nick" style="color:#8dd3c7"><a href="#213947" label="[21:39:47]">&lt;stikonas&gt;</a></span><span class="message">I suspect more modular approach would be better</span></div><div class="line" id="213947"><span class="nick" style="color:#6d2462"><a href="#213947" label="[21:39:47]">&lt;janneke&gt;</a></span><span class="message">i don't really need them now, but i'm happy to include them</span></div><div class="line" id="213958"><span class="nick" style="color:#6d2462"><a href="#213958" label="[21:39:58]">&lt;janneke&gt;</a></span><span class="message">yeah, okay</span></div><div class="line" id="214007"><span class="nick" style="color:#8dd3c7"><a href="#214007" label="[21:40:07]">&lt;stikonas&gt;</a></span><span class="message">well, I'm thinking about those bootstrapping projects that don't have other shell</span></div><div class="line" id="214022"><span class="nick" style="color:#8dd3c7"><a href="#214022" label="[21:40:22]">&lt;stikonas&gt;</a></span><span class="message">yes, in guix you have guile for now and can run gash early...</span></div><div class="line" id="214029"><span class="nick" style="color:#6d2462"><a href="#214029" label="[21:40:29]">&lt;janneke&gt;</a></span><span class="message">we will probably need them anyway when we remove guile and switch to gash-on-mes, but that will take a wile</span></div><div class="line" id="214040"><span class="nick" style="color:#6d2462"><a href="#214040" label="[21:40:40]">&lt;janneke&gt;</a></span><span class="message">*while</span></div><div class="line" id="214110"><span class="nick" style="color:#8dd3c7"><a href="#214110" label="[21:41:10]">&lt;stikonas&gt;</a></span><span class="message">yeah, and not everybody has guile, e.g. even that Nixos bootstrap project doesn't have access to it</span></div><div class="line" id="214154"><span class="nick" style="color:#6d2462"><a href="#214154" label="[21:41:54]">&lt;janneke&gt;</a></span><span class="message">right</span></div><div class="line" id="214358"><span class="nick" style="color:#8dd3c7"><a href="#214358" label="[21:43:58]">&lt;stikonas&gt;</a></span><span class="message">anyway, at the very least mes and mescc can now build each other on riscv64</span></div><div class="line" id="214523"><span class="nick" style="color:#6d2462"><a href="#214523" label="[21:45:23]">&lt;janneke&gt;</a></span><span class="message">yes, beautiful, great job and *thank you*</span></div><div class="line" id="230307"><span class="nick" style="color:#8dd3c7"><a href="#230307" label="[23:03:07]">&lt;stikonas&gt;</a></span><span class="message">hmm, yes, for now mes-m2 can't bootstrap tcc either</span></div><div class="line" id="230320"><span class="nick" style="color:#8dd3c7"><a href="#230320" label="[23:03:20]">&lt;stikonas&gt;</a></span><span class="message">building mes is essential (on both 0.24 and future 0.25)</span></div><br /></div></body></html>