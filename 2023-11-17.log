<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2023-11-17.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000017"><span class="nick" style="color:#389600"><a href="#000017" label="[00:00:17]">&lt;stikonas_&gt;</a></span><span class="message">vagrantc: well, lib/linux-riscv64-mes-tcc is for bootstrappable tcc</span></div><div class="line" id="000025"><span class="nick" style="color:#389600"><a href="#000025" label="[00:00:25]">&lt;stikonas_&gt;</a></span><span class="message">that had improved riscv64 assembly support</span></div><div class="line" id="000033"><span class="nick" style="color:#389600"><a href="#000033" label="[00:00:33]">&lt;stikonas_&gt;</a></span><span class="message">(which is still a different syntax than gcc)</span></div><div class="line" id="000039"><span class="nick" style="color:#389600"><a href="#000039" label="[00:00:39]">&lt;stikonas_&gt;</a></span><span class="message">ekaitz implemented a bit more of assembly</span></div><div class="line" id="000045"><span class="nick" style="color:#389600"><a href="#000045" label="[00:00:45]">&lt;stikonas_&gt;</a></span><span class="message">so that we can build mescc</span></div><div class="line" id="000051"><span class="nick" style="color:#8dd3c7"><a href="#000051" label="[00:00:51]">&lt;vagrantc&gt;</a></span><span class="message">oh, this looks promising: 9f3ab1c191a4f0f7334b44b8be524c9113328fb6 (origin/master) guix: mescc-tools: Build fix for riscv64-linux.</span></div><div class="line" id="000053"><span class="nick" style="color:#389600"><a href="#000053" label="[00:00:53]">&lt;stikonas_&gt;</a></span><span class="message">upstream tcc mob does not support it yet</span></div><div class="line" id="000111"><span class="nick" style="color:#389600"><a href="#000111" label="[00:01:11]">&lt;stikonas_&gt;</a></span><span class="message">you might be able to build mes with tcc if you use glibc as C library</span></div><div class="line" id="000128"><span class="nick" style="color:#389600"><a href="#000128" label="[00:01:28]">&lt;stikonas_&gt;</a></span><span class="message">but upstream tcc can't build meslibc</span></div><div class="line" id="000157"><span class="nick" style="color:#8dd3c7"><a href="#000157" label="[00:01:57]">&lt;vagrantc&gt;</a></span><span class="message">it also might make sense to just drop mes from debian at this point ... it is never likely to be part of a meaningful bootstrap path</span></div><div class="line" id="000209"><span class="nick" style="color:#8dd3c7"><a href="#000209" label="[00:02:09]">&lt;vagrantc&gt;</a></span><span class="message">though it might shake out some bugs or alternate codepaths</span></div><div class="line" id="000232"><span class="nick" style="color:#2e2a4a"><a href="#000232" label="[00:02:32]">&lt;stikonas&gt;</a></span><span class="message">or build from m2-planet...</span></div><div class="line" id="000319"><span class="nick" style="color:#2e2a4a"><a href="#000319" label="[00:03:19]">&lt;stikonas&gt;</a></span><span class="message">which is what guix and live-bootstrap does</span></div><div class="line" id="000325"><span class="nick" style="color:#8dd3c7"><a href="#000325" label="[00:03:25]">&lt;vagrantc&gt;</a></span><span class="message">yeah, bringing in more of the bootstrap chain...</span></div><div class="line" id="000337"><span class="nick" style="color:#2e2a4a"><a href="#000337" label="[00:03:37]">&lt;stikonas&gt;</a></span><span class="message">well, you don't even need the whole bootstrap chain</span></div><div class="line" id="000339"><span class="nick" style="color:#8dd3c7"><a href="#000339" label="[00:03:39]">&lt;vagrantc&gt;</a></span><span class="message">though last i looked that looked rough to package for debian</span></div><div class="line" id="000340"><span class="nick" style="color:#2e2a4a"><a href="#000340" label="[00:03:40]">&lt;stikonas&gt;</a></span><span class="message">just m2-planet</span></div><div class="line" id="000345"><span class="nick" style="color:#2e2a4a"><a href="#000345" label="[00:03:45]">&lt;stikonas&gt;</a></span><span class="message">you already have mescc-tools</span></div><div class="line" id="000426"><span class="nick" style="color:#2e2a4a"><a href="#000426" label="[00:04:26]">&lt;stikonas&gt;</a></span><span class="message">m2-planet could be built by gcc if you don't want to do stage0-posix...</span></div><div class="line" id="000438"><span class="nick" style="color:#2e2a4a"><a href="#000438" label="[00:04:38]">&lt;stikonas&gt;</a></span><span class="message">vagrantc: I'm curious though, what is rough about stage0-posix?</span></div><div class="line" id="000443"><span class="nick" style="color:#2e2a4a"><a href="#000443" label="[00:04:43]">&lt;stikonas&gt;</a></span><span class="message">(just so that we can improve it)</span></div><div class="line" id="000533"><span class="nick" style="color:#8dd3c7"><a href="#000533" label="[00:05:33]">&lt;vagrantc&gt;</a></span><span class="message">it has been a while since i looked at it... lemme take a quick look</span></div><div class="line" id="000626"><span class="nick" style="color:#8dd3c7"><a href="#000626" label="[00:06:26]">&lt;vagrantc&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/oriansj/M2-Planet">https://github.com/oriansj/M2-Planet</a>  the canonical location?</span></div><div class="line" id="000633"><span class="nick" style="color:#2e2a4a"><a href="#000633" label="[00:06:33]">&lt;stikonas&gt;</a></span><span class="message">for M2-Planet yes</span></div><div class="line" id="000637"><span class="nick" style="color:#2e2a4a"><a href="#000637" label="[00:06:37]">&lt;stikonas&gt;</a></span><span class="message">there is releases page there</span></div><div class="line" id="000639"><span class="nick" style="color:#2e2a4a"><a href="#000639" label="[00:06:39]">&lt;stikonas&gt;</a></span><span class="message">with tarball</span></div><div class="line" id="000718"><span class="nick" style="color:#8dd3c7"><a href="#000718" label="[00:07:18]">&lt;vagrantc&gt;</a></span><span class="message">ah, gitmodules are a bit annoying ... though i managed to figure the correlary problem for mescc-tools</span></div><div class="line" id="000719"><span class="nick" style="color:#2e2a4a"><a href="#000719" label="[00:07:19]">&lt;stikonas&gt;</a></span><span class="message">and it comes with M2libc vendored in the tarball</span></div><div class="line" id="000726"><span class="nick" style="color:#8dd3c7"><a href="#000726" label="[00:07:26]">&lt;vagrantc&gt;</a></span><span class="message">right :)</span></div><div class="line" id="000748"><span class="nick" style="color:#2e2a4a"><a href="#000748" label="[00:07:48]">&lt;stikonas&gt;</a></span><span class="message">so that (signed) tarball on the releases page should solve your problem</span></div><div class="line" id="000756"><span class="nick" style="color:#2e2a4a"><a href="#000756" label="[00:07:56]">&lt;stikonas&gt;</a></span><span class="message">thanks to janneke for make dist target!</span></div><div class="line" id="000832"><span class="nick" style="color:#8dd3c7"><a href="#000832" label="[00:08:32]">&lt;vagrantc&gt;</a></span><span class="message">oh fun, more responsibilities :)</span></div><div class="line" id="000924"><span class="nick" style="color:#2e2a4a"><a href="#000924" label="[00:09:24]">&lt;stikonas&gt;</a></span><span class="message">I guess he was encountering the same git submodules problem</span></div><div class="line" id="001028"><span class="nick" style="color:#8dd3c7"><a href="#001028" label="[00:10:28]">&lt;vagrantc&gt;</a></span><span class="message">i suspect guix is much more flexible in that regard ... at least that was one of the things i liked about it when i started tinkering with guix</span></div><div class="line" id="001147"><span class="nick" style="color:#8dd3c7"><a href="#001147" label="[00:11:47]">&lt;vagrantc&gt;</a></span><span class="message">and now ... according to debian policy it would be proper to actually split M2libc into it's own source package, though ... but i do not think i will start with that route</span></div><div class="line" id="001455"><span class="nick" style="color:#6b8072"><a href="#001455" label="[00:14:55]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; The thing is, m2libc is not built into library</span></div><div class="line" id="001524"><span class="nick" style="color:#6b8072"><a href="#001524" label="[00:15:24]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; Maybe we could, like mescc does but it has not been done</span></div><div class="line" id="001556"><span class="nick" style="color:#6b8072"><a href="#001556" label="[00:15:56]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; It really needs to be vendored right now</span></div><div class="line" id="001628"><span class="nick" style="color:#6b8072"><a href="#001628" label="[00:16:28]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; Well, I guess you can just install .c and .h files into /usr...</span></div><div class="line" id="001642"><span class="nick" style="color:#6b8072"><a href="#001642" label="[00:16:42]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; And point to there using M2libc</span></div><div class="line" id="001659"><span class="nick" style="color:#6b8072"><a href="#001659" label="[00:16:59]">&lt;matrix_bridge&gt;</a></span><span class="message">&lt;Andrius Štikonas&gt; (Using env variable)</span></div><div class="line" id="002155"><span class="nick" style="color:#8dd3c7"><a href="#002155" label="[00:21:55]">&lt;vagrantc&gt;</a></span><span class="message">yeah, for now that is what i will do :)</span></div><div class="line" id="011201"><span class="nick" style="color:#8dd3c7"><a href="#011201" label="[01:12:01]">&lt;vagrantc&gt;</a></span><span class="message">huh. github makes it astoundingly difficult to actually extract the release tarballs from the releases page.</span></div><div class="line" id="011259"><span class="nick" style="color:#8dd3c7"><a href="#011259" label="[01:12:59]">&lt;vagrantc&gt;</a></span><span class="message">it appears to display an entirely different page depending on the web brwoser</span></div><div class="line" id="011401"><span class="nick" style="color:#2e2a4a"><a href="#011401" label="[01:14:01]">&lt;stikonas&gt;</a></span><span class="message">oh, I was not aware of that...</span></div><div class="line" id="011431"><span class="nick" style="color:#2e2a4a"><a href="#011431" label="[01:14:31]">&lt;stikonas&gt;</a></span><span class="message">isn't it</span></div><div class="line" id="011444"><span class="nick" style="color:#8dd3c7"><a href="#011444" label="[01:14:44]">&lt;vagrantc&gt;</a></span><span class="message">at least neither wget or w3m see any tarballs ... maybe it is some javascript</span></div><div class="line" id="011454"><span class="nick" style="color:#2e2a4a"><a href="#011454" label="[01:14:54]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/${user}/${project}/releases/download/${tag}/${tarball}">https://github.com/${user}/${project}/releases/download/${tag}/${tarball}</a> </span></div><div class="line" id="011502"><span class="nick" style="color:#2e2a4a"><a href="#011502" label="[01:15:02]">&lt;stikonas&gt;</a></span><span class="message">or do you need to get a list of tarballs</span></div><div class="line" id="011531"><span class="nick" style="color:#2e2a4a"><a href="#011531" label="[01:15:31]">&lt;stikonas&gt;</a></span><span class="message">argh, yes, you need javascript :(</span></div><div class="line" id="011534"><span class="nick" style="color:#8dd3c7"><a href="#011534" label="[01:15:34]">&lt;vagrantc&gt;</a></span><span class="message">ideally, i get a list of tarballs ... so it can automatically scan for new versions</span></div><div class="line" id="011558"><span class="nick" style="color:#8dd3c7"><a href="#011558" label="[01:15:58]">&lt;vagrantc&gt;</a></span><span class="message">there is also some CI machinery that depends on being able to get new upstream versions</span></div><div class="line" id="011627"><span class="nick" style="color:#8dd3c7"><a href="#011627" label="[01:16:27]">&lt;vagrantc&gt;</a></span><span class="message">for mescc-tools, i ended up using the savannah downloads, i think</span></div><div class="line" id="011708"><span class="nick" style="color:#2e2a4a"><a href="#011708" label="[01:17:08]">&lt;stikonas&gt;</a></span><span class="message">oriansj: there is rest api</span></div><div class="line" id="011714"><span class="nick" style="color:#2e2a4a"><a href="#011714" label="[01:17:14]">&lt;stikonas&gt;</a></span><span class="message">argh, I meant vagrantc</span></div><div class="line" id="011743"><span class="nick" style="color:#2e2a4a"><a href="#011743" label="[01:17:43]">&lt;stikonas&gt;</a></span><span class="message"> curl -L  -H &quot;Accept: application/vnd.github+json&quot; <a rel="nofollow" href="https://api.github.com/repos/oriansj/M2-Planet/releases">https://api.github.com/repos/oriansj/M2-Planet/releases</a> </span></div><div class="line" id="011748"><span class="nick" style="color:#8dd3c7"><a href="#011748" label="[01:17:48]">&lt;vagrantc&gt;</a></span><span class="message">specifically, I am trying to get something that &quot;uscan&quot; will work with ... though i have never found uscan's syntax to be particularly obvious</span></div><div class="line" id="011924"><span class="nick" style="color:#2e2a4a"><a href="#011924" label="[01:19:24]">&lt;stikonas&gt;</a></span><span class="message">vagrantc: also see <a rel="nofollow" href="https://github.com/cockpit-project/cockpit/pull/18048/files">https://github.com/cockpit-project/cockpit/pull/18048/files</a> </span></div><div class="line" id="011927"><span class="nick" style="color:#8dd3c7"><a href="#011927" label="[01:19:27]">&lt;vagrantc&gt;</a></span><span class="message">will have to poke at that another day</span></div><div class="line" id="011930"><span class="nick" style="color:#2e2a4a"><a href="#011930" label="[01:19:30]">&lt;stikonas&gt;</a></span><span class="message">sure...</span></div><div class="line" id="011937"><span class="nick" style="color:#2e2a4a"><a href="#011937" label="[01:19:37]">&lt;stikonas&gt;</a></span><span class="message">but it can't be a new problem that nobody solved...</span></div><div class="line" id="011957"><span class="nick" style="color:#8dd3c7"><a href="#011957" label="[01:19:57]">&lt;vagrantc&gt;</a></span><span class="message">oh, thanks, that looks plausibly perfect :)</span></div><div class="line" id="013332"><span class="nick" style="color:#8dd3c7"><a href="#013332" label="[01:33:32]">&lt;vagrantc&gt;</a></span><span class="message">works good enough!</span></div><div class="line" id="013334"><span class="nick" style="color:#8dd3c7"><a href="#013334" label="[01:33:34]">&lt;vagrantc&gt;</a></span><span class="message">ACTION waves</span></div><div class="line" id="030413"><span class="nick" style="color:#80b1d3"><a href="#030413" label="[03:04:13]">&lt;oriansj&gt;</a></span><span class="message">well I can easily move it to sourcehut (<a rel="nofollow" href="https://git.sr.ht/~oriansj/M2-Planet">https://git.sr.ht/~oriansj/M2-Planet</a>) </span></div><div class="line" id="030443"><span class="nick" style="color:#80b1d3"><a href="#030443" label="[03:04:43]">&lt;oriansj&gt;</a></span><span class="message">I just left the master repo on github because that is where most pull reguests came from</span></div><div class="line" id="030536"><span class="nick" style="color:#80b1d3"><a href="#030536" label="[03:05:36]">&lt;oriansj&gt;</a></span><span class="message">It got rejected when I submitted it to savannah; as they  stated it belonged in my stage0 repo</span></div><div class="line" id="205806"><span class="nick" style="color:#8dd3c7"><a href="#205806" label="[20:58:06]">&lt;vagrantc&gt;</a></span><span class="message">hrm. trouble building m2-planet ...</span></div><div class="line" id="205807"><span class="nick" style="color:#8dd3c7"><a href="#205807" label="[20:58:07]">&lt;vagrantc&gt;</a></span><span class="message">cp M2-Planet /&lt;&lt;PKGBUILDDIR&gt;&gt;/debian/m2-planet/usr/bin</span></div><div class="line" id="205807"><span class="nick" style="color:#8dd3c7"><a href="#205807" label="[20:58:07]">&lt;vagrantc&gt;</a></span><span class="message">cp: cannot stat 'M2-Planet': No such file or directory</span></div><div class="line" id="205819"><span class="nick" style="color:#8dd3c7"><a href="#205819" label="[20:58:19]">&lt;vagrantc&gt;</a></span><span class="message">M2-Planet is in the bin/ directory</span></div><div class="line" id="205851"><span class="nick" style="color:#8dd3c7"><a href="#205851" label="[20:58:51]">&lt;vagrantc&gt;</a></span><span class="message">did someone not update the install target?</span></div><div class="line" id="205906"><span class="nick" style="color:#2e2a4a"><a href="#205906" label="[20:59:06]">&lt;stikonas&gt;</a></span><span class="message">it might be...</span></div><div class="line" id="205912"><span class="nick" style="color:#2e2a4a"><a href="#205912" label="[20:59:12]">&lt;stikonas&gt;</a></span><span class="message">nobody really uses install target</span></div><div class="line" id="205922"><span class="nick" style="color:#2e2a4a"><a href="#205922" label="[20:59:22]">&lt;stikonas&gt;</a></span><span class="message">perhaps apart from guix...</span></div><div class="line" id="205930"><span class="nick" style="color:#2e2a4a"><a href="#205930" label="[20:59:30]">&lt;stikonas&gt;</a></span><span class="message">but even then guix probably doesn't use it</span></div><div class="line" id="210007"><span class="nick" style="color:#2e2a4a"><a href="#210007" label="[21:00:07]">&lt;stikonas&gt;</a></span><span class="message">vagrantc: not touched since 2018...</span></div><div class="line" id="210008"><span class="nick" style="color:#8dd3c7"><a href="#210008" label="[21:00:08]">&lt;vagrantc&gt;</a></span><span class="message">and is M2-Planet the only expected binary that it produces?</span></div><div class="line" id="210016"><span class="nick" style="color:#2e2a4a"><a href="#210016" label="[21:00:16]">&lt;stikonas&gt;</a></span><span class="message">yes</span></div><div class="line" id="210020"><span class="nick" style="color:#2e2a4a"><a href="#210020" label="[21:00:20]">&lt;stikonas&gt;</a></span><span class="message">(appart from tests)</span></div><div class="line" id="210024"><span class="nick" style="color:#2e2a4a"><a href="#210024" label="[21:00:24]">&lt;stikonas&gt;</a></span><span class="message">but tests are not in bin anyway</span></div><div class="line" id="210045"><span class="nick" style="color:#2e2a4a"><a href="#210045" label="[21:00:45]">&lt;stikonas&gt;</a></span><span class="message">probably worth fixin that in makefile</span></div><div class="line" id="210052"><span class="nick" style="color:#8dd3c7"><a href="#210052" label="[21:00:52]">&lt;vagrantc&gt;</a></span><span class="message">or, in other words, what do i need from M2-Planet to build Mes ... since that is really my goal here :)</span></div><div class="line" id="210115"><span class="nick" style="color:#2e2a4a"><a href="#210115" label="[21:01:15]">&lt;stikonas&gt;</a></span><span class="message">just M2-Planet I think</span></div><div class="line" id="210134"><span class="nick" style="color:#8dd3c7"><a href="#210134" label="[21:01:34]">&lt;vagrantc&gt;</a></span><span class="message">ok, almost there :)</span></div><div class="line" id="210154"><span class="nick" style="color:#2e2a4a"><a href="#210154" label="[21:01:54]">&lt;stikonas&gt;</a></span><span class="message">vagrantc: <a rel="nofollow" href="https://git.savannah.gnu.org/cgit/mes.git/tree/kaem.run">https://git.savannah.gnu.org/cgit/mes.git/tree/kaem.run</a> </span></div><div class="line" id="210214"><span class="nick" style="color:#2e2a4a"><a href="#210214" label="[21:02:14]">&lt;stikonas&gt;</a></span><span class="message">looks like just M2-Planet / mescc-tools and mkdir/cp</span></div><div class="line" id="210234"><span class="nick" style="color:#2e2a4a"><a href="#210234" label="[21:02:34]">&lt;stikonas&gt;</a></span><span class="message">mkdir/cp can come from either coreutils or mescc-tools-extra</span></div><div class="line" id="210325"><span class="nick" style="color:#2e2a4a"><a href="#210325" label="[21:03:25]">&lt;stikonas&gt;</a></span><span class="message">that kaem script produces mes-m2 binary but then it probably needs a rebuild cycle (use mes-m2 to build meslibc and mes)</span></div><div class="line" id="210428"><span class="nick" style="color:#8dd3c7"><a href="#210428" label="[21:04:28]">&lt;vagrantc&gt;</a></span><span class="message">mes 0.24.x built just fine without all this :/</span></div><div class="line" id="210621"><span class="nick" style="color:#8dd3c7"><a href="#210621" label="[21:06:21]">&lt;vagrantc&gt;</a></span><span class="message">though obviously packaging as a conventional distro package is not the main target :)</span></div><div class="line" id="210634"><span class="nick" style="color:#2e2a4a"><a href="#210634" label="[21:06:34]">&lt;stikonas&gt;</a></span><span class="message">vagrantc: mes 0.24.x didn't even build on riscv</span></div><div class="line" id="210653"><span class="nick" style="color:#2e2a4a"><a href="#210653" label="[21:06:53]">&lt;stikonas&gt;</a></span><span class="message">or maybe it could be build but not rebuild itself</span></div><div class="line" id="210726"><span class="nick" style="color:#2e2a4a"><a href="#210726" label="[21:07:26]">&lt;stikonas&gt;</a></span><span class="message">yeah, conventional distro package is not the main target</span></div><div class="line" id="210735"><span class="nick" style="color:#2e2a4a"><a href="#210735" label="[21:07:35]">&lt;stikonas&gt;</a></span><span class="message">mes/mescc is not that useful outside bootstrap</span></div><div class="line" id="210744"><span class="nick" style="color:#2e2a4a"><a href="#210744" label="[21:07:44]">&lt;stikonas&gt;</a></span><span class="message">there are better C compilers and better scheme interpreters</span></div><div class="line" id="211108"><span class="nick" style="color:#8dd3c7"><a href="#211108" label="[21:11:08]">&lt;vagrantc&gt;</a></span><span class="message">sure ... though packaging it can sometimes shake out some quirks ...</span></div><div class="line" id="211139"><span class="nick" style="color:#2e2a4a"><a href="#211139" label="[21:11:39]">&lt;stikonas&gt;</a></span><span class="message">yeah, it's good if somebody tests it in normal distro way</span></div><div class="line" id="211150"><span class="nick" style="color:#2e2a4a"><a href="#211150" label="[21:11:50]">&lt;stikonas&gt;</a></span><span class="message">e.g. that makefile target was not spotted for 5 years...</span></div><div class="line" id="211222"><span class="nick" style="color:#8dd3c7"><a href="#211222" label="[21:12:22]">&lt;vagrantc&gt;</a></span><span class="message">it was more interesting before the hex0 bootstrap was quite as well fleshed out as it was ... as in theory you could take the mes from debian and use it in guix or something</span></div><div class="line" id="211256"><span class="nick" style="color:#8dd3c7"><a href="#211256" label="[21:12:56]">&lt;vagrantc&gt;</a></span><span class="message">e.g. diverse-double compiling applied to the bootstrap process ...</span></div><div class="line" id="211308"><span class="nick" style="color:#8dd3c7"><a href="#211308" label="[21:13:08]">&lt;vagrantc&gt;</a></span><span class="message">ideally every distro could bootstrap every other distro...</span></div><div class="line" id="211403"><span class="nick" style="color:#8dd3c7"><a href="#211403" label="[21:14:03]">&lt;vagrantc&gt;</a></span><span class="message">well, i've worked around the issue in the debian packaging rather than fixing the makefile</span></div><div class="line" id="211413"><span class="nick" style="color:#8dd3c7"><a href="#211413" label="[21:14:13]">&lt;vagrantc&gt;</a></span><span class="message">so i can at least move on to the next steps</span></div><div class="line" id="211508"><span class="nick" style="color:#8dd3c7"><a href="#211508" label="[21:15:08]">&lt;vagrantc&gt;</a></span><span class="message">i think i did some similar workarounds in mescc-tools, now that i think about it</span></div><div class="line" id="211704"><span class="nick" style="color:#8dd3c7"><a href="#211704" label="[21:17:04]">&lt;vagrantc&gt;</a></span><span class="message">i am presuming m2-planet could also be used on i386 and/or armhf ? maybe not x86_64 ?</span></div><div class="line" id="211813"><span class="nick" style="color:#80b1d3"><a href="#211813" label="[21:18:13]">&lt;oriansj&gt;</a></span><span class="message">M2-Planet ports to new architectures pretty quick but the generated output is generally crap</span></div><div class="line" id="211912"><span class="nick" style="color:#80b1d3"><a href="#211912" label="[21:19:12]">&lt;oriansj&gt;</a></span><span class="message">basically once one ports mescc-tools to an architecture and gets a decent M1 defines in order, the M2-Planet port is usally just a day or two of work</span></div><div class="line" id="212023"><span class="nick" style="color:#8dd3c7"><a href="#212023" label="[21:20:23]">&lt;vagrantc&gt;</a></span><span class="message">so, in the current state of things, building mes may only require m2-planet on riscv64?</span></div><div class="line" id="212108"><span class="nick" style="color:#80b1d3"><a href="#212108" label="[21:21:08]">&lt;oriansj&gt;</a></span><span class="message">well M2-Planet already has been ported to risc-v (both 64 and 32bit) thanks to stikonas</span></div><div class="line" id="212142"><span class="nick" style="color:#80b1d3"><a href="#212142" label="[21:21:42]">&lt;oriansj&gt;</a></span><span class="message">and it looks like most of the issues with its mes.c builds on that architecture have been addressed.</span></div><div class="line" id="212156"><span class="nick" style="color:#8dd3c7"><a href="#212156" label="[21:21:56]">&lt;vagrantc&gt;</a></span><span class="message">basically, i came to this point by trying to build mes on riscv64 on Debian, but it failed in ways it did not fail on other architectures</span></div><div class="line" id="212202"><span class="nick" style="color:#2e2a4a"><a href="#212202" label="[21:22:02]">&lt;stikonas&gt;</a></span><span class="message">there should be more ways to build mes...</span></div><div class="line" id="212206"><span class="nick" style="color:#2e2a4a"><a href="#212206" label="[21:22:06]">&lt;stikonas&gt;</a></span><span class="message">but this is the most tested</span></div><div class="line" id="212223"><span class="nick" style="color:#80b1d3"><a href="#212223" label="[21:22:23]">&lt;oriansj&gt;</a></span><span class="message">well for a while there even gcc couldn't build mes.c</span></div><div class="line" id="212224"><span class="nick" style="color:#8dd3c7"><a href="#212224" label="[21:22:24]">&lt;vagrantc&gt;</a></span><span class="message">right</span></div><div class="line" id="212249"><span class="nick" style="color:#80b1d3"><a href="#212249" label="[21:22:49]">&lt;oriansj&gt;</a></span><span class="message">(back in the snarfing days)</span></div><div class="line" id="212355"><span class="nick" style="color:#8dd3c7"><a href="#212355" label="[21:23:55]">&lt;vagrantc&gt;</a></span><span class="message">or rather, i am trying to make some of the red turn green: <a rel="nofollow" href="https://buildd.debian.org/status/package.php?p=mes">https://buildd.debian.org/status/package.php?p=mes</a> </span></div><div class="line" id="212358"><span class="nick" style="color:#8dd3c7"><a href="#212358" label="[21:23:58]">&lt;vagrantc&gt;</a></span><span class="message">:)</span></div><div class="line" id="212437"><span class="nick" style="color:#8dd3c7"><a href="#212437" label="[21:24:37]">&lt;vagrantc&gt;</a></span><span class="message">actually, riscv64 seems to build fine, there is just a test suite failure or two</span></div><div class="line" id="212622"><span class="nick" style="color:#2e2a4a"><a href="#212622" label="[21:26:22]">&lt;stikonas&gt;</a></span><span class="message">well, m2-planet won't help with tests</span></div><div class="line" id="212632"><span class="nick" style="color:#2e2a4a"><a href="#212632" label="[21:26:32]">&lt;stikonas&gt;</a></span><span class="message">well, or maybe it will</span></div><div class="line" id="212639"><span class="nick" style="color:#2e2a4a"><a href="#212639" label="[21:26:39]">&lt;stikonas&gt;</a></span><span class="message">once you run tests with mescc</span></div><div class="line" id="212641"><span class="nick" style="color:#2e2a4a"><a href="#212641" label="[21:26:41]">&lt;stikonas&gt;</a></span><span class="message">rather than gcc</span></div><div class="line" id="212642"><span class="nick" style="color:#2e2a4a"><a href="#212642" label="[21:26:42]">&lt;stikonas&gt;</a></span><span class="message">hmm</span></div><div class="line" id="212658"><span class="nick" style="color:#8dd3c7"><a href="#212658" label="[21:26:58]">&lt;vagrantc&gt;</a></span><span class="message">␛[0;31mFAIL␛[m: lib/tests/scaffold/68-truncate-shift.c ... and ... ␛[0;31mFAIL␛[m: lib/tests/setjmp/80-setjmp.c</span></div><div class="line" id="212724"><span class="nick" style="color:#8dd3c7"><a href="#212724" label="[21:27:24]">&lt;vagrantc&gt;</a></span><span class="message">i think in that build i did not build it with mescc yet, but i have some local attempts</span></div><div class="line" id="212740"><span class="nick" style="color:#2e2a4a"><a href="#212740" label="[21:27:40]">&lt;stikonas&gt;</a></span><span class="message">setjmp was really never tested on gcc</span></div><div class="line" id="212804"><span class="nick" style="color:#2e2a4a"><a href="#212804" label="[21:28:04]">&lt;stikonas&gt;</a></span><span class="message">we copied it from musl, then forked into -tcc directory, adjusted it and made tcc version to work</span></div><div class="line" id="212811"><span class="nick" style="color:#8dd3c7"><a href="#212811" label="[21:28:11]">&lt;vagrantc&gt;</a></span><span class="message">right ... i think that is what lead me on this path to package m2-planet :)</span></div><div class="line" id="212815"><span class="nick" style="color:#2e2a4a"><a href="#212815" label="[21:28:15]">&lt;stikonas&gt;</a></span><span class="message">whereas gcc version is just there, untested</span></div><div class="line" id="212820"><span class="nick" style="color:#2e2a4a"><a href="#212820" label="[21:28:20]">&lt;stikonas&gt;</a></span><span class="message">hmm</span></div><div class="line" id="212824"><span class="nick" style="color:#2e2a4a"><a href="#212824" label="[21:28:24]">&lt;stikonas&gt;</a></span><span class="message">what about disabling tests?</span></div><div class="line" id="212837"><span class="nick" style="color:#2e2a4a"><a href="#212837" label="[21:28:37]">&lt;stikonas&gt;</a></span><span class="message">though packaging M2-Planet is also useful :)</span></div><div class="line" id="212840"><span class="nick" style="color:#8dd3c7"><a href="#212840" label="[21:28:40]">&lt;vagrantc&gt;</a></span><span class="message">could do that ... but there are some obvious downsides :)</span></div><div class="line" id="212854"><span class="nick" style="color:#8dd3c7"><a href="#212854" label="[21:28:54]">&lt;vagrantc&gt;</a></span><span class="message">i could also just ignore the test results :)</span></div><div class="line" id="213056"><span class="nick" style="color:#8dd3c7"><a href="#213056" label="[21:30:56]">&lt;vagrantc&gt;</a></span><span class="message">eeew.</span></div><div class="line" id="213057"><span class="nick" style="color:#8dd3c7"><a href="#213057" label="[21:30:57]">&lt;vagrantc&gt;</a></span><span class="message">build-aux/test-driver: line 107: 14470 Segmentation fault      &quot;$@&quot; &gt; $log_file 2&gt;&amp;1</span></div><div class="line" id="213100"><span class="nick" style="color:#8dd3c7"><a href="#213100" label="[21:31:00]">&lt;vagrantc&gt;</a></span><span class="message">^[[0;31mFAIL^[[m: tests/read.test</span></div><div class="line" id="213116"><span class="nick" style="color:#8dd3c7"><a href="#213116" label="[21:31:16]">&lt;vagrantc&gt;</a></span><span class="message">i *think* that was --with-bootstrap</span></div><div class="line" id="213148"><span class="nick" style="color:#8dd3c7"><a href="#213148" label="[21:31:48]">&lt;vagrantc&gt;</a></span><span class="message">e.g. mes-mescc</span></div><div class="line" id="213213"><span class="nick" style="color:#8dd3c7"><a href="#213213" label="[21:32:13]">&lt;vagrantc&gt;</a></span><span class="message">bootstrapped from an initial gcc build ... if i am understanding --with-bootstrap correctly</span></div><div class="line" id="220623"><span class="nick" style="color:#8dd3c7"><a href="#220623" label="[22:06:23]">&lt;vagrantc&gt;</a></span><span class="message">I: m2-planet: typo-in-manual-page compatibilty compatibility [usr/share/man/man1/M2-Planet.1.gz:30]</span></div><div class="line" id="220650"><span class="nick" style="color:#8dd3c7"><a href="#220650" label="[22:06:50]">&lt;vagrantc&gt;</a></span><span class="message">me packaging this subjects it to a spell checker :)</span></div><div class="line" id="221325"><span class="nick" style="color:#2e2a4a"><a href="#221325" label="[22:13:25]">&lt;stikonas&gt;</a></span><span class="message">typo is now fixed :)</span></div><div class="line" id="221637"><span class="nick" style="color:#8dd3c7"><a href="#221637" label="[22:16:37]">&lt;vagrantc&gt;</a></span><span class="message">thanks :)</span></div><div class="line" id="221743"><span class="nick" style="color:#8dd3c7"><a href="#221743" label="[22:17:43]">&lt;vagrantc&gt;</a></span><span class="message">well, we'll see how many checkmarks this ticks: <a rel="nofollow" href="https://salsa.debian.org/vagrant/m2-planet/-/pipelines/603164">https://salsa.debian.org/vagrant/m2-planet/-/pipelines/603164</a> </span></div><div class="line" id="223228"><span class="nick" style="color:#8dd3c7"><a href="#223228" label="[22:32:28]">&lt;vagrantc&gt;</a></span><span class="message">ok, trying riscv64 build with M2-Planet available ... configure found it so far :)</span></div><br /></div></body></html>