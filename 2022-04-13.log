<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2022-04-13.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="002410"><span class="nick" style="color:#8dd3c7"><a href="#002410" label="[00:24:10]">&lt;fossy&gt;</a></span><span class="message">normally, when something won't boot with an older kernel, its often missing device drivers, particularly on laptops</span></div><div class="line" id="002418"><span class="nick" style="color:#8dd3c7"><a href="#002418" label="[00:24:18]">&lt;fossy&gt;</a></span><span class="message">although sometimes it is't too</span></div><div class="line" id="003511"><span class="nick" style="color:#2e2a4a"><a href="#003511" label="[00:35:11]">&lt;stikonas&gt;</a></span><span class="message">hmm, something is messed up with qemu mode with my local changes to live-bootstrpa</span></div><div class="line" id="003521"><span class="nick" style="color:#2e2a4a"><a href="#003521" label="[00:35:21]">&lt;stikonas&gt;</a></span><span class="message">I don't see any serial output</span></div><div class="line" id="003537"><span class="nick" style="color:#2e2a4a"><a href="#003537" label="[00:35:37]">&lt;stikonas&gt;</a></span><span class="message">but if I start the same qemu command line manually, it seems to work</span></div><div class="line" id="004053"><span class="nick" style="color:#8dd3c7"><a href="#004053" label="[00:40:53]">&lt;fossy&gt;</a></span><span class="message">that's odd... is -append console=ttyS0 and -nographic there?</span></div><div class="line" id="004255"><span class="nick" style="color:#2e2a4a"><a href="#004255" label="[00:42:55]">&lt;stikonas&gt;</a></span><span class="message">yes, it was there...</span></div><div class="line" id="004306"><span class="nick" style="color:#2e2a4a"><a href="#004306" label="[00:43:06]">&lt;stikonas&gt;</a></span><span class="message">I'll probably have to debug it at some point later</span></div><div class="line" id="004309"><span class="nick" style="color:#2e2a4a"><a href="#004309" label="[00:43:09]">&lt;stikonas&gt;</a></span><span class="message">will be away for a week</span></div><div class="line" id="004334"><span class="nick" style="color:#8dd3c7"><a href="#004334" label="[00:43:34]">&lt;fossy&gt;</a></span><span class="message">ok! holiday?</span></div><div class="line" id="004342"><span class="nick" style="color:#2e2a4a"><a href="#004342" label="[00:43:42]">&lt;stikonas&gt;</a></span><span class="message">yes</span></div><div class="line" id="004350"><span class="nick" style="color:#8dd3c7"><a href="#004350" label="[00:43:50]">&lt;fossy&gt;</a></span><span class="message">have fun and a good break</span></div><div class="line" id="004354"><span class="nick" style="color:#2e2a4a"><a href="#004354" label="[00:43:54]">&lt;stikonas&gt;</a></span><span class="message">today still testing bzip2 packages to see if that saves enough space</span></div><div class="line" id="004414"><span class="nick" style="color:#2e2a4a"><a href="#004414" label="[00:44:14]">&lt;stikonas&gt;</a></span><span class="message">although at some point new tarballs in /sources will become too big...</span></div><div class="line" id="004419"><span class="nick" style="color:#2e2a4a"><a href="#004419" label="[00:44:19]">&lt;stikonas&gt;</a></span><span class="message">if we add more packages to sysc</span></div><div class="line" id="004444"><span class="nick" style="color:#2e2a4a"><a href="#004444" label="[00:44:44]">&lt;stikonas&gt;</a></span><span class="message">possibly need to move sysc /sources to preformatted disk</span></div><div class="line" id="005709"><span class="nick" style="color:#2e2a4a"><a href="#005709" label="[00:57:09]">&lt;stikonas&gt;</a></span><span class="message">fossy: I have a small PR which is independent of refactoring <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/148">https://github.com/fosslinux/live-bootstrap/pull/148</a> </span></div><div class="line" id="005755"><span class="nick" style="color:#2e2a4a"><a href="#005755" label="[00:57:55]">&lt;stikonas&gt;</a></span><span class="message">(and possibly one can replace patch kaem build script with makefile but that's not part of this PR)</span></div><div class="line" id="010400"><span class="nick" style="color:#8dd3c7"><a href="#010400" label="[01:04:00]">&lt;fossy&gt;</a></span><span class="message">stikonas: yeah, that looks fine</span></div><div class="line" id="010429"><span class="nick" style="color:#8dd3c7"><a href="#010429" label="[01:04:29]">&lt;fossy&gt;</a></span><span class="message">stikonas: what refactoring have you done since that last PR?</span></div><div class="line" id="010619"><span class="nick" style="color:#2e2a4a"><a href="#010619" label="[01:06:19]">&lt;stikonas&gt;</a></span><span class="message">fossy: basically just having /sysa and /sysc from repo directly copied into initramfs</span></div><div class="line" id="010640"><span class="nick" style="color:#2e2a4a"><a href="#010640" label="[01:06:40]">&lt;stikonas&gt;</a></span><span class="message">and no /sources copying into /sysa/pkg-ver/src/</span></div><div class="line" id="010713"><span class="nick" style="color:#2e2a4a"><a href="#010713" label="[01:07:13]">&lt;stikonas&gt;</a></span><span class="message">instead each build script grabs required packages from /sources in initramfs and this is all done with kaem scripts or helpers.sh function</span></div><div class="line" id="010737"><span class="nick" style="color:#2e2a4a"><a href="#010737" label="[01:07:37]">&lt;stikonas&gt;</a></span><span class="message">fossy: I can push my WIP commit if you want to take a look</span></div><div class="line" id="010741"><span class="nick" style="color:#2e2a4a"><a href="#010741" label="[01:07:41]">&lt;stikonas&gt;</a></span><span class="message">chroot mode works already</span></div><div class="line" id="010745"><span class="nick" style="color:#8dd3c7"><a href="#010745" label="[01:07:45]">&lt;fossy&gt;</a></span><span class="message">stikonas: that would be good</span></div><div class="line" id="010855"><span class="nick" style="color:#8dd3c7"><a href="#010855" label="[01:08:55]">&lt;fossy&gt;</a></span><span class="message">I have separately done merging /sources but I don't really mind which impl we use, it was not much work at all</span></div><div class="line" id="010925"><span class="nick" style="color:#2e2a4a"><a href="#010925" label="[01:09:25]">&lt;stikonas&gt;</a></span><span class="message">fossy: <a rel="nofollow" href="https://github.com/stikonas/live-bootstrap/tree/rootfs_refactor">https://github.com/stikonas/live-bootstrap/tree/rootfs_refactor</a> </span></div><div class="line" id="011029"><span class="nick" style="color:#2e2a4a"><a href="#011029" label="[01:10:29]">&lt;stikonas&gt;</a></span><span class="message">well, take a look at my implementation while I'm away</span></div><div class="line" id="011032"><span class="nick" style="color:#2e2a4a"><a href="#011032" label="[01:10:32]">&lt;stikonas&gt;</a></span><span class="message">we can decide later</span></div><div class="line" id="011150"><span class="nick" style="color:#2e2a4a"><a href="#011150" label="[01:11:50]">&lt;stikonas&gt;</a></span><span class="message">ok, qemu is still broken even with bzip'ed packages...</span></div><div class="line" id="011206"><span class="nick" style="color:#8dd3c7"><a href="#011206" label="[01:12:06]">&lt;fossy&gt;</a></span><span class="message">looks alright, but i'm not really a fan of having to put SRCS= for every package</span></div><div class="line" id="011235"><span class="nick" style="color:#8dd3c7"><a href="#011235" label="[01:12:35]">&lt;fossy&gt;</a></span><span class="message">i was considering extracting ${pkg}.tar* by default and then extra_srcs= for anything extra</span></div><div class="line" id="011306"><span class="nick" style="color:#2e2a4a"><a href="#011306" label="[01:13:06]">&lt;stikonas&gt;</a></span><span class="message">yeah, that can be changed</span></div><div class="line" id="011324"><span class="nick" style="color:#2e2a4a"><a href="#011324" label="[01:13:24]">&lt;stikonas&gt;</a></span><span class="message">feel free to take over those changes</span></div><div class="line" id="011441"><span class="nick" style="color:#2e2a4a"><a href="#011441" label="[01:14:41]">&lt;stikonas&gt;</a></span><span class="message">default ${pkg}.tar* can be added to helpers.sh extract function</span></div><div class="line" id="011450"><span class="nick" style="color:#2e2a4a"><a href="#011450" label="[01:14:50]">&lt;stikonas&gt;</a></span><span class="message">and that takes care of most of the packages</span></div><div class="line" id="011504"><span class="nick" style="color:#8dd3c7"><a href="#011504" label="[01:15:04]">&lt;fossy&gt;</a></span><span class="message">yep</span></div><div class="line" id="011506"><span class="nick" style="color:#2e2a4a"><a href="#011506" label="[01:15:06]">&lt;stikonas&gt;</a></span><span class="message">it's mostly gnulib stuff left</span></div><div class="line" id="011547"><span class="nick" style="color:#2e2a4a"><a href="#011547" label="[01:15:47]">&lt;stikonas&gt;</a></span><span class="message">and bziping /usr/src/repo packages can save about 10%</span></div><div class="line" id="011605"><span class="nick" style="color:#8dd3c7"><a href="#011605" label="[01:16:05]">&lt;fossy&gt;</a></span><span class="message">but still not enough?</span></div><div class="line" id="011613"><span class="nick" style="color:#2e2a4a"><a href="#011613" label="[01:16:13]">&lt;stikonas&gt;</a></span><span class="message">no</span></div><div class="line" id="011618"><span class="nick" style="color:#2e2a4a"><a href="#011618" label="[01:16:18]">&lt;stikonas&gt;</a></span><span class="message">but maybe I messed up something else</span></div><div class="line" id="011621"><span class="nick" style="color:#2e2a4a"><a href="#011621" label="[01:16:21]">&lt;stikonas&gt;</a></span><span class="message">hard to debug in qemu</span></div><div class="line" id="011713"><span class="nick" style="color:#8dd3c7"><a href="#011713" label="[01:17:13]">&lt;fossy&gt;</a></span><span class="message">well, the added space usage is from copying in all tarballs</span></div><div class="line" id="011847"><span class="nick" style="color:#2e2a4a"><a href="#011847" label="[01:18:47]">&lt;stikonas&gt;</a></span><span class="message">did I copy them?</span></div><div class="line" id="011859"><span class="nick" style="color:#2e2a4a"><a href="#011859" label="[01:18:59]">&lt;stikonas&gt;</a></span><span class="message">I thought I extract most of them on the spot from /sources</span></div><div class="line" id="011904"><span class="nick" style="color:#2e2a4a"><a href="#011904" label="[01:19:04]">&lt;stikonas&gt;</a></span><span class="message">only early kaem tarballs</span></div><div class="line" id="011913"><span class="nick" style="color:#2e2a4a"><a href="#011913" label="[01:19:13]">&lt;stikonas&gt;</a></span><span class="message">and those can be removed once we build coreutils and rm</span></div><div class="line" id="011924"><span class="nick" style="color:#8dd3c7"><a href="#011924" label="[01:19:24]">&lt;fossy&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/stikonas/live-bootstrap/commit/ffd4c7ab483ff381de6b5f482a0b5da203567b9f#diff-d6568c0c3a316afaf1731ed250447f2f80f4490a2e5aee9baf0b35934a593414R65">https://github.com/stikonas/live-bootstrap/commit/ffd4c7ab483ff381de6b5f482a0b5da203567b9f#diff-d6568c0c3a316afaf1731ed250447f2f80f4490a2e5aee9baf0b35934a593414R65</a> </span></div><div class="line" id="011934"><span class="nick" style="color:#8dd3c7"><a href="#011934" label="[01:19:34]">&lt;fossy&gt;</a></span><span class="message">won't this copy in the sysc tarballs into sysa as well?</span></div><div class="line" id="011951"><span class="nick" style="color:#2e2a4a"><a href="#011951" label="[01:19:51]">&lt;stikonas&gt;</a></span><span class="message">oh yes</span></div><div class="line" id="012104"><span class="nick" style="color:#2e2a4a"><a href="#012104" label="[01:21:04]">&lt;stikonas&gt;</a></span><span class="message">not sure how to best fix this</span></div><div class="line" id="012117"><span class="nick" style="color:#2e2a4a"><a href="#012117" label="[01:21:17]">&lt;stikonas&gt;</a></span><span class="message">if we want to have easy way to run everything without rootfs.py</span></div><div class="line" id="012120"><span class="nick" style="color:#8dd3c7"><a href="#012120" label="[01:21:20]">&lt;fossy&gt;</a></span><span class="message">neither, cause we need those tarballs for sysc regardless...</span></div><div class="line" id="012134"><span class="nick" style="color:#8dd3c7"><a href="#012134" label="[01:21:34]">&lt;fossy&gt;</a></span><span class="message">i'll have a look at where we can shave off a bit more space</span></div><div class="line" id="012135"><span class="nick" style="color:#6b8072"><a href="#012135" label="[01:21:35]">&lt;oriansj&gt;</a></span><span class="message">dongcarl: No worries. Internet trolls are just part of internet life.</span></div><div class="line" id="012152"><span class="nick" style="color:#2e2a4a"><a href="#012152" label="[01:21:52]">&lt;stikonas&gt;</a></span><span class="message">well, for chroot mode that doesn't matter</span></div><div class="line" id="012157"><span class="nick" style="color:#8dd3c7"><a href="#012157" label="[01:21:57]">&lt;fossy&gt;</a></span><span class="message">where does it fail at the moment</span></div><div class="line" id="012200"><span class="nick" style="color:#8dd3c7"><a href="#012200" label="[01:22:00]">&lt;fossy&gt;</a></span><span class="message">(in qemu)</span></div><div class="line" id="012205"><span class="nick" style="color:#2e2a4a"><a href="#012205" label="[01:22:05]">&lt;stikonas&gt;</a></span><span class="message">extracting linux kernel</span></div><div class="line" id="012220"><span class="nick" style="color:#8dd3c7"><a href="#012220" label="[01:22:20]">&lt;fossy&gt;</a></span><span class="message">ah...</span></div><div class="line" id="012225"><span class="nick" style="color:#2e2a4a"><a href="#012225" label="[01:22:25]">&lt;stikonas&gt;</a></span><span class="message">but adding more and more tarballs to sysa is not scalable anyway</span></div><div class="line" id="012232"><span class="nick" style="color:#2e2a4a"><a href="#012232" label="[01:22:32]">&lt;stikonas&gt;</a></span><span class="message">if we start adding gcc 10, gcc 11</span></div><div class="line" id="012240"><span class="nick" style="color:#2e2a4a"><a href="#012240" label="[01:22:40]">&lt;stikonas&gt;</a></span><span class="message">that will quickly use up all the RAM</span></div><div class="line" id="012247"><span class="nick" style="color:#8dd3c7"><a href="#012247" label="[01:22:47]">&lt;fossy&gt;</a></span><span class="message">yeah, true</span></div><div class="line" id="012302"><span class="nick" style="color:#2e2a4a"><a href="#012302" label="[01:23:02]">&lt;stikonas&gt;</a></span><span class="message">perhaps this:</span></div><div class="line" id="012308"><span class="nick" style="color:#2e2a4a"><a href="#012308" label="[01:23:08]">&lt;stikonas&gt;</a></span><span class="message">for chroot everything can be in /sources</span></div><div class="line" id="012333"><span class="nick" style="color:#2e2a4a"><a href="#012333" label="[01:23:33]">&lt;stikonas&gt;</a></span><span class="message">for qemu we create sda disk formatted with ext4 (which we already do) and have /sources filled in with sysc tarballs</span></div><div class="line" id="012424"><span class="nick" style="color:#8dd3c7"><a href="#012424" label="[01:24:24]">&lt;fossy&gt;</a></span><span class="message">that sounds reasonable, given that we already copy in the sysc scripts</span></div><div class="line" id="012514"><span class="nick" style="color:#2e2a4a"><a href="#012514" label="[01:25:14]">&lt;stikonas&gt;</a></span><span class="message">scripts themselves are not big</span></div><div class="line" id="012520"><span class="nick" style="color:#2e2a4a"><a href="#012520" label="[01:25:20]">&lt;stikonas&gt;</a></span><span class="message">in principle they can go to initramfs</span></div><div class="line" id="012616"><span class="nick" style="color:#8dd3c7"><a href="#012616" label="[01:26:16]">&lt;fossy&gt;</a></span><span class="message">they could, but if we have to copy sources in, makes sense to copy them in too (as we currently do)</span></div><div class="line" id="012649"><span class="nick" style="color:#8dd3c7"><a href="#012649" label="[01:26:49]">&lt;fossy&gt;</a></span><span class="message">ultimately, we can network download tarballs, but that is still a way to go (need proper net support)</span></div><div class="line" id="012720"><span class="nick" style="color:#8dd3c7"><a href="#012720" label="[01:27:20]">&lt;fossy&gt;</a></span><span class="message">gio's way of doing it in asmc is pretty nice, he uses ipxe to get early tarballs, but i think that still relies on having the appropriate kernel opts enabled</span></div><div class="line" id="012740"><span class="nick" style="color:#2e2a4a"><a href="#012740" label="[01:27:40]">&lt;stikonas&gt;</a></span><span class="message">in principle proper net is easy in sysc</span></div><div class="line" id="012817"><span class="nick" style="color:#2e2a4a"><a href="#012817" label="[01:28:17]">&lt;stikonas&gt;</a></span><span class="message">just need to install ip program</span></div><div class="line" id="012826"><span class="nick" style="color:#2e2a4a"><a href="#012826" label="[01:28:26]">&lt;stikonas&gt;</a></span><span class="message">I think kernel is configured with networking</span></div><div class="line" id="012836"><span class="nick" style="color:#8dd3c7"><a href="#012836" label="[01:28:36]">&lt;fossy&gt;</a></span><span class="message">i don't remember if i disabled networking or not</span></div><div class="line" id="012847"><span class="nick" style="color:#2e2a4a"><a href="#012847" label="[01:28:47]">&lt;stikonas&gt;</a></span><span class="message">I think no</span></div><div class="line" id="012857"><span class="nick" style="color:#8dd3c7"><a href="#012857" label="[01:28:57]">&lt;fossy&gt;</a></span><span class="message">oh, i didn't, you're right</span></div><div class="line" id="012900"><span class="nick" style="color:#8dd3c7"><a href="#012900" label="[01:29:00]">&lt;fossy&gt;</a></span><span class="message">CONFIG_E1000=y</span></div><div class="line" id="012946"><span class="nick" style="color:#2e2a4a"><a href="#012946" label="[01:29:46]">&lt;stikonas&gt;</a></span><span class="message">so I think we are only missing net-tools</span></div><div class="line" id="012955"><span class="nick" style="color:#8dd3c7"><a href="#012955" label="[01:29:55]">&lt;fossy&gt;</a></span><span class="message">and curl, or the like</span></div><div class="line" id="013028"><span class="nick" style="color:#2e2a4a"><a href="#013028" label="[01:30:28]">&lt;stikonas&gt;</a></span><span class="message">well, yes...</span></div><div class="line" id="013039"><span class="nick" style="color:#2e2a4a"><a href="#013039" label="[01:30:39]">&lt;stikonas&gt;</a></span><span class="message">although that will pull in openssl</span></div><div class="line" id="013055"><span class="nick" style="color:#2e2a4a"><a href="#013055" label="[01:30:55]">&lt;stikonas&gt;</a></span><span class="message">for https support</span></div><div class="line" id="013057"><span class="nick" style="color:#8dd3c7"><a href="#013057" label="[01:30:57]">&lt;fossy&gt;</a></span><span class="message">can't curl be built without ssl support?</span></div><div class="line" id="013101"><span class="nick" style="color:#8dd3c7"><a href="#013101" label="[01:31:01]">&lt;fossy&gt;</a></span><span class="message">at least until we have openssl</span></div><div class="line" id="013115"><span class="nick" style="color:#2e2a4a"><a href="#013115" label="[01:31:15]">&lt;stikonas&gt;</a></span><span class="message">it can but most of the stuff is not server via https</span></div><div class="line" id="013130"><span class="nick" style="color:#6b8072"><a href="#013130" label="[01:31:30]">&lt;oriansj&gt;</a></span><span class="message">wouldn't downloading allow cheating in the bootstrap?</span></div><div class="line" id="013131"><span class="nick" style="color:#2e2a4a"><a href="#013131" label="[01:31:31]">&lt;stikonas&gt;</a></span><span class="message">openssl can probably be built earlier</span></div><div class="line" id="013141"><span class="nick" style="color:#8dd3c7"><a href="#013141" label="[01:31:41]">&lt;fossy&gt;</a></span><span class="message">oriansj: how so?</span></div><div class="line" id="013201"><span class="nick" style="color:#2e2a4a"><a href="#013201" label="[01:32:01]">&lt;stikonas&gt;</a></span><span class="message">well, it allows downloading binaries</span></div><div class="line" id="013218"><span class="nick" style="color:#6b8072"><a href="#013218" label="[01:32:18]">&lt;oriansj&gt;</a></span><span class="message">curl $url:/binary_blob -o my_totally_legit_build</span></div><div class="line" id="013246"><span class="nick" style="color:#2e2a4a"><a href="#013246" label="[01:32:46]">&lt;stikonas&gt;</a></span><span class="message">but so is puting binary blob into /sources</span></div><div class="line" id="013247"><span class="nick" style="color:#8dd3c7"><a href="#013247" label="[01:32:47]">&lt;fossy&gt;</a></span><span class="message">sure... but you could just inject binaries anyway right now</span></div><div class="line" id="013313"><span class="nick" style="color:#2e2a4a"><a href="#013313" label="[01:33:13]">&lt;stikonas&gt;</a></span><span class="message">I mean if you want to cheat, why even bother with bootstrapping</span></div><div class="line" id="013317"><span class="nick" style="color:#6b8072"><a href="#013317" label="[01:33:17]">&lt;oriansj&gt;</a></span><span class="message">true</span></div><div class="line" id="013335"><span class="nick" style="color:#2e2a4a"><a href="#013335" label="[01:33:35]">&lt;stikonas&gt;</a></span><span class="message">and this is only an issue with 32-bit kernels</span></div><div class="line" id="013348"><span class="nick" style="color:#2e2a4a"><a href="#013348" label="[01:33:48]">&lt;stikonas&gt;</a></span><span class="message">(which is the only bootstrap path we support right now)</span></div><div class="line" id="013356"><span class="nick" style="color:#2e2a4a"><a href="#013356" label="[01:33:56]">&lt;stikonas&gt;</a></span><span class="message">on 64 bit we have no issues with RAM</span></div><div class="line" id="013444"><span class="nick" style="color:#8dd3c7"><a href="#013444" label="[01:34:44]">&lt;fossy&gt;</a></span><span class="message">ideally we would keep the ram usage under 4G for older coreboot/MEless machines but if that's not possible oh well</span></div><div class="line" id="013446"><span class="nick" style="color:#2e2a4a"><a href="#013446" label="[01:34:46]">&lt;stikonas&gt;</a></span><span class="message">kernel is a bit of a cheat anyway</span></div><div class="line" id="013454"><span class="nick" style="color:#8dd3c7"><a href="#013454" label="[01:34:54]">&lt;fossy&gt;</a></span><span class="message">yeah, kernel is unsolved for now</span></div><div class="line" id="013508"><span class="nick" style="color:#2e2a4a"><a href="#013508" label="[01:35:08]">&lt;stikonas&gt;</a></span><span class="message">well, it's probably possible if we keep tarballs in /sysc</span></div><div class="line" id="013546"><span class="nick" style="color:#8dd3c7"><a href="#013546" label="[01:35:46]">&lt;fossy&gt;</a></span><span class="message">yep, most likely</span></div><div class="line" id="013728"><span class="nick" style="color:#2e2a4a"><a href="#013728" label="[01:37:28]">&lt;stikonas&gt;</a></span><span class="message">so maybe split /sources into /sysa/sources and /sysc/sources</span></div><div class="line" id="013741"><span class="nick" style="color:#2e2a4a"><a href="#013741" label="[01:37:41]">&lt;stikonas&gt;</a></span><span class="message">(using exactly these paths)</span></div><div class="line" id="013930"><span class="nick" style="color:#2e2a4a"><a href="#013930" label="[01:39:30]">&lt;stikonas&gt;</a></span><span class="message">then copying /sysc onto qemu hard drive will automatically copy sources</span></div><div class="line" id="013938"><span class="nick" style="color:#2e2a4a"><a href="#013938" label="[01:39:38]">&lt;stikonas&gt;</a></span><span class="message">but will keep sysa sources in initramfs</span></div><div class="line" id="014016"><span class="nick" style="color:#6b8072"><a href="#014016" label="[01:40:16]">&lt;oriansj&gt;</a></span><span class="message">well x86-pae would up the limit to 64 GB of RAM but would eliminate anything older than a Pentium Pro from 1995</span></div><div class="line" id="014131"><span class="nick" style="color:#2e2a4a"><a href="#014131" label="[01:41:31]">&lt;stikonas&gt;</a></span><span class="message">and what about qemu?</span></div><div class="line" id="014207"><span class="nick" style="color:#2e2a4a"><a href="#014207" label="[01:42:07]">&lt;stikonas&gt;</a></span><span class="message">not sure if qemu supports pae</span></div><div class="line" id="014409"><span class="nick" style="color:#6b8072"><a href="#014409" label="[01:44:09]">&lt;oriansj&gt;</a></span><span class="message">I don't know, lets look it up</span></div><div class="line" id="014706"><span class="nick" style="color:#2e2a4a"><a href="#014706" label="[01:47:06]">&lt;stikonas&gt;</a></span><span class="message">that might be kernel build option rather than qemu option</span></div><div class="line" id="014724"><span class="nick" style="color:#2e2a4a"><a href="#014724" label="[01:47:24]">&lt;stikonas&gt;</a></span><span class="message">qemu with kvm will just pass though your host CPU</span></div><div class="line" id="014736"><span class="nick" style="color:#2e2a4a"><a href="#014736" label="[01:47:36]">&lt;stikonas&gt;</a></span><span class="message">and in most cases that would be a modern CPU</span></div><div class="line" id="014823"><span class="nick" style="color:#6b8072"><a href="#014823" label="[01:48:23]">&lt;oriansj&gt;</a></span><span class="message">and qemu does seem to support the pae cpu extensions if you do: qemu-system-x86_64 -cpu ?</span></div><div class="line" id="014923"><span class="nick" style="color:#6b8072"><a href="#014923" label="[01:49:23]">&lt;oriansj&gt;</a></span><span class="message">and yes the kernel would need to be 64bit or built to support pae</span></div><div class="line" id="014933"><span class="nick" style="color:#2e2a4a"><a href="#014933" label="[01:49:33]">&lt;stikonas&gt;</a></span><span class="message">so maybe we can enable this...</span></div><div class="line" id="015009"><span class="nick" style="color:#2e2a4a"><a href="#015009" label="[01:50:09]">&lt;stikonas&gt;</a></span><span class="message">4GB limit only means that you can't automate the whole chain in 1 go and need more manual steps</span></div><div class="line" id="015028"><span class="nick" style="color:#2e2a4a"><a href="#015028" label="[01:50:28]">&lt;stikonas&gt;</a></span><span class="message">it's not really a fundamental blocker for bootsrapping</span></div><div class="line" id="023942"><span class="nick" style="color:#6b8072"><a href="#023942" label="[02:39:42]">&lt;oriansj&gt;</a></span><span class="message">also expecting a kernel to be able to write to disk isn't a bad thing either</span></div><div class="line" id="024852"><span class="nick" style="color:#80b1d3"><a href="#024852" label="[02:48:52]">&lt;muurkha&gt;</a></span><span class="message">disks are so last millennium, bro</span></div><div class="line" id="033802"><span class="nick" style="color:#6b8072"><a href="#033802" label="[03:38:02]">&lt;oriansj&gt;</a></span><span class="message">muurkha: stares at 16TB drive on desk</span></div><div class="line" id="035507"><span class="nick" style="color:#6b8072"><a href="#035507" label="[03:55:07]">&lt;oriansj&gt;</a></span><span class="message">but it was made in 2022....</span></div><div class="line" id="035624"><span class="nick" style="color:#6b8072"><a href="#035624" label="[03:56:24]">&lt;oriansj&gt;</a></span><span class="message">you cna't expect everyone to just buy a 100TB SSD (<a rel="nofollow" href="https://www.techradar.com/news/at-100tb-the-worlds-biggest-ssd-gets-an-eye-watering-price-tag">https://www.techradar.com/news/at-100tb-the-worlds-biggest-ssd-gets-an-eye-watering-price-tag</a>) </span></div><div class="line" id="042508"><span class="nick" style="color:#6d2462"><a href="#042508" label="[04:25:08]">&lt;littlebobeep&gt;</a></span><span class="message">Yeah i saw that 100TB SSD but it's not even NVMe</span></div><div class="line" id="074303"><span class="nick" style="color:#80b1d3"><a href="#074303" label="[07:43:03]">&lt;muurkha&gt;</a></span><span class="message">oriansj: that disk is the Loch Ard of storage devices</span></div><div class="line" id="074420"><span class="nick" style="color:#80b1d3"><a href="#074420" label="[07:44:20]">&lt;muurkha&gt;</a></span><span class="message">(I mean the ship, not the lake)</span></div><div class="line" id="095933"><span class="nick" style="color:#234e69"><a href="#095933" label="[09:59:33]">&lt;mid-kid&gt;</a></span><span class="message">&lt;stikonas&gt; but in any case we don't have many options, it's either backporting hw support to older kernel, switching to different hardware or try to upgrade early toolchain in live-bootstrap &lt;- or have the option to never replace the kernel ;)</span></div><div class="line" id="095951"><span class="nick" style="color:#234e69"><a href="#095951" label="[09:59:51]">&lt;mid-kid&gt;</a></span><span class="message">I figured the chroot option already kinda does that but eh</span></div><div class="line" id="132120"><span class="nick" style="color:#6b8072"><a href="#132120" label="[13:21:20]">&lt;oriansj&gt;</a></span><span class="message">littlebobeep: completely fair but having the latest and great shouldn't be a requirement to being able to bootstrap.</span></div><div class="line" id="133651"><span class="nick" style="color:#8dd3c7"><a href="#133651" label="[13:36:51]">&lt;fossy&gt;</a></span><span class="message">never replace the kernel is not going to be a long term option</span></div><div class="line" id="133703"><span class="nick" style="color:#8dd3c7"><a href="#133703" label="[13:37:03]">&lt;fossy&gt;</a></span><span class="message">appart from deving in chroot mode</span></div><div class="line" id="143104"><span class="nick" style="color:#6d2462"><a href="#143104" label="[14:31:04]">&lt;littlebobeep&gt;</a></span><span class="message">oriansj: lol I don't think you need 100TB to bootstrap I am just saying to pay that much and get sub-SATAIII speeds on AHCI sounds lame you are just paying for the rediculous capacity</span></div><div class="line" id="223643"><span class="nick" style="color:#6c3d55"><a href="#223643" label="[22:36:43]">&lt;stikonas[m]&gt;</a></span><span class="message">fossy: i sorted out some qemu problems while on the train</span></div><div class="line" id="223715"><span class="nick" style="color:#6c3d55"><a href="#223715" label="[22:37:15]">&lt;stikonas[m]&gt;</a></span><span class="message">Removing almost all stuff from /sources before unpacking linux helps</span></div><div class="line" id="224039"><span class="nick" style="color:#6c3d55"><a href="#224039" label="[22:40:39]">&lt;stikonas[m]&gt;</a></span><span class="message">It removes a few hundred MiB</span></div><br /></div></body></html>