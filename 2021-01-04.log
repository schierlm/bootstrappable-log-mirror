<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2021-01-04.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="003153"><span class="nick" style="color:#389600"><a href="#003153" label="[00:31:53]">&lt;yt_&gt;</a></span><span class="message">OriansJ: deesix: M2-Planet with #if #elif #else #endif works for all constant integer expressions; that's probably enough for today. I'll clean it up and push a pull request sometime tomorrow. Then on to #define FOO.  #define FOO(a,b) is a whole different ball game so I probably won't get that far tomorrow.</span></div><div class="line" id="003740"><span class="nick" style="color:#8dd3c7"><a href="#003740" label="[00:37:40]">&lt;deesix&gt;</a></span><span class="message">Great!</span></div><div class="line" id="004007"><span class="nick" style="color:#389600"><a href="#004007" label="[00:40:07]">&lt;yt_&gt;</a></span><span class="message">deesix: I've pushed the code to my fork if you want to have a look <a rel="nofollow" href="https://github.com/snnw/m2-planet">https://github.com/snnw/m2-planet</a> </span></div><div class="line" id="005923"><span class="nick" style="color:#8dd3c7"><a href="#005923" label="[00:59:23]">&lt;deesix&gt;</a></span><span class="message">yt_, Thanks. Watch out for &amp;&amp;, it won't short-circuit.</span></div><div class="line" id="010603"><span class="nick" style="color:#389600"><a href="#010603" label="[01:06:03]">&lt;yt_&gt;</a></span><span class="message">deesix: yeah, I was a bit worried about &amp;&amp;.  I *think* short-circuiting is irrelevant because there can be no side-effects.  I have to parse the expression, so I end up evaluating the rhs of || and &amp;&amp; no matter what.  I think I got that right: <a rel="nofollow" href="https://github.com/snnw/M2-Planet/blob/44a7192c4c00918f79b6e3343f769765e74163d5/cc_macro.c#L185">https://github.com/snnw/M2-Planet/blob/44a7192c4c00918f79b6e3343f769765e74163d5/cc_macro.c#L185</a>  but love to be proven wrong :)</span></div><div class="line" id="011035"><span class="nick" style="color:#8dd3c7"><a href="#011035" label="[01:10:35]">&lt;deesix&gt;</a></span><span class="message">yt_, sorry, I wasn't clear enough. I mean in the code, not in the expressions you're parsing. Code like:</span></div><div class="line" id="011045"><span class="nick" style="color:#8dd3c7"><a href="#011045" label="[01:10:45]">&lt;deesix&gt;</a></span><span class="message">+        if (NULL != conditional_inclusion_top &amp;&amp; !conditional_inclusion_top-&gt;include)</span></div><div class="line" id="011253"><span class="nick" style="color:#8dd3c7"><a href="#011253" label="[01:12:53]">&lt;deesix&gt;</a></span><span class="message">See known_issues.org</span></div><div class="line" id="011557"><span class="nick" style="color:#8dd3c7"><a href="#011557" label="[01:15:57]">&lt;deesix&gt;</a></span><span class="message">Anyway, that was fast and I'm loving your incremental commit style (:</span></div><div class="line" id="011741"><span class="nick" style="color:#6b8072"><a href="#011741" label="[01:17:41]">&lt;stikonas&gt;</a></span><span class="message">fossy: are you up for some minor PR :)?</span></div><div class="line" id="011945"><span class="nick" style="color:#8dd3c7"><a href="#011945" label="[01:19:45]">&lt;deesix&gt;</a></span><span class="message">yt_, for the clean up: purge_macro() has now uses now, it seems.</span></div><div class="line" id="014019"><span class="nick" style="color:#6b8072"><a href="#014019" label="[01:40:19]">&lt;stikonas&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/1">https://github.com/fosslinux/live-bootstrap/pull/1</a> </span></div><div class="line" id="014048"><span class="nick" style="color:#6b8072"><a href="#014048" label="[01:40:48]">&lt;stikonas&gt;</a></span><span class="message">futher bootstrap needs some more thoughts, since kaem doesn't support IO redirection. Either it has to be added, or try to avoid using it in blynn-compiler</span></div><div class="line" id="014731"><span class="nick" style="color:#8dd3c7"><a href="#014731" label="[01:47:31]">&lt;deesix&gt;</a></span><span class="message">yt_, the example in the commit message is incomplete, lines parsed as comments I guess.</span></div><div class="line" id="014859"><span class="nick" style="color:#80b1d3"><a href="#014859" label="[01:48:59]">&lt;fossy&gt;</a></span><span class="message">stikonas: thanks for your PR!</span></div><div class="line" id="014921"><span class="nick" style="color:#80b1d3"><a href="#014921" label="[01:49:21]">&lt;fossy&gt;</a></span><span class="message">pder: said they would make it so it does not need io redirection</span></div><div class="line" id="014943"><span class="nick" style="color:#80b1d3"><a href="#014943" label="[01:49:43]">&lt;fossy&gt;</a></span><span class="message">I want to avoid the need for pipe support in the bootstrap kernel</span></div><div class="line" id="015014"><span class="nick" style="color:#6b8072"><a href="#015014" label="[01:50:14]">&lt;stikonas&gt;</a></span><span class="message">fossy: then maybe we need to do something in blynn-compiler...</span></div><div class="line" id="015020"><span class="nick" style="color:#6b8072"><a href="#015020" label="[01:50:20]">&lt;stikonas&gt;</a></span><span class="message">siraben: any ideas?</span></div><div class="line" id="015039"><span class="nick" style="color:#6b8072"><a href="#015039" label="[01:50:39]">&lt;stikonas&gt;</a></span><span class="message">although, it's bed time for me now, so maybe can discuss it some other time</span></div><div class="line" id="015137"><span class="nick" style="color:#6b8072"><a href="#015137" label="[01:51:37]">&lt;stikonas&gt;</a></span><span class="message">in any case newer M2-Planet in that PR should be useful for wip-mes2 branch</span></div><div class="line" id="023149"><span class="nick" style="color:#6d2462"><a href="#023149" label="[02:31:49]">&lt;pder&gt;</a></span><span class="message">I can update the blynn-compiler build so the last 3 or 4 stages take file input and output arguments so we dont need the IO redirection</span></div><div class="line" id="024302"><span class="nick" style="color:#234e69"><a href="#024302" label="[02:43:02]">&lt;Hagfish&gt;</a></span><span class="message">sounds great</span></div><div class="line" id="032002"><span class="nick" style="color:#80b1d3"><a href="#032002" label="[03:20:02]">&lt;fossy&gt;</a></span><span class="message">pder: yes please</span></div><div class="line" id="033856"><span class="nick" style="color:#6c3d55"><a href="#033856" label="[03:38:56]">&lt;siraben&gt;</a></span><span class="message">pder: that would be great</span></div><div class="line" id="033943"><span class="nick" style="color:#6c3d55"><a href="#033943" label="[03:39:43]">&lt;siraben&gt;</a></span><span class="message">In fact it's possible to move all the shell stuff to blynn compiler since we have an FFI</span></div><div class="line" id="034446"><span class="nick" style="color:#6d2462"><a href="#034446" label="[03:44:46]">&lt;pder&gt;</a></span><span class="message">siraben, yeah I wondered if the cleanest way would be through parsing args in Haskell and extending the FFI so we can open an input and output file</span></div><div class="line" id="034654"><span class="nick" style="color:#6d2462"><a href="#034654" label="[03:46:54]">&lt;pder&gt;</a></span><span class="message">I can implement a simple solution in C for everything up to precisely, then we could update precisely to have a better command line interface</span></div><div class="line" id="040738"><span class="nick" style="color:#6d2462"><a href="#040738" label="[04:07:38]">&lt;pder&gt;</a></span><span class="message">siraben: Also I am interested in your ideas on how we could implement an includeFile feature so we could possibly automatically include a prelude</span></div><div class="line" id="040822"><span class="nick" style="color:#6c3d55"><a href="#040822" label="[04:08:22]">&lt;siraben&gt;</a></span><span class="message">pder: we can do a statement like includeFile in haskell</span></div><div class="line" id="040837"><span class="nick" style="color:#6c3d55"><a href="#040837" label="[04:08:37]">&lt;siraben&gt;</a></span><span class="message">see the wrappers for how those get turned into #include etc. using GHC's CPP expansion</span></div><div class="line" id="040847"><span class="nick" style="color:#6c3d55"><a href="#040847" label="[04:08:47]">&lt;siraben&gt;</a></span><span class="message">so maintain ability to compile with GHC</span></div><div class="line" id="040924"><span class="nick" style="color:#6c3d55"><a href="#040924" label="[04:09:24]">&lt;siraben&gt;</a></span><span class="message">Which reminds me, I'll need to fiddle around with FFI for file reading/writing in the generated C code</span></div><div class="line" id="060758"><span class="nick" style="color:#6d2462"><a href="#060758" label="[06:07:58]">&lt;pder&gt;</a></span><span class="message">I pushed a commit that builds precisely without using any shell io redirection.  We will definitely want to revisit how we parse arguments in precisely</span></div><div class="line" id="070834"><span class="nick" style="color:#6c3d55"><a href="#070834" label="[07:08:34]">&lt;siraben&gt;</a></span><span class="message">pder: you might want to rebase your commit on oriansj/master to make the CI build again</span></div><div class="line" id="071152"><span class="nick" style="color:#6c3d55"><a href="#071152" label="[07:11:52]">&lt;siraben&gt;</a></span><span class="message">OriansJ: some work I forgot to PR; <a rel="nofollow" href="https://github.com/oriansj/blynn-compiler/pull/19">https://github.com/oriansj/blynn-compiler/pull/19</a> </span></div><div class="line" id="071156"><span class="nick" style="color:#6c3d55"><a href="#071156" label="[07:11:56]">&lt;siraben&gt;</a></span><span class="message">minimizing the diff between stages</span></div><div class="line" id="124340"><span class="nick" style="color:#d9d9d9"><a href="#124340" label="[12:43:40]">&lt;gforce_d11977&gt;</a></span><span class="message">happy winterday to everyone! i watched all the talks and read the slides, but there are still questions: in &quot;<a rel="nofollow" href="https://www.gnu.org/software/mes/manual/mes.html#The-Mes-Bootstrap-Process">https://www.gnu.org/software/mes/manual/mes.html#The-Mes-Bootstrap-Process</a>&quot;  at &quot;3.2 Invoking mes&quot;: is our initial 'mes' the binary which is produced in &quot;mescc-tools-seed&quot; when running make as &quot;bin/mes-m2&quot; a 233k binary which wants to eat an .scm file?</span></div><div class="line" id="124903"><span class="nick" style="color:#bc80bd"><a href="#124903" label="[12:49:03]">&lt;janneke&gt;</a></span><span class="message">gforce_d11977: not at the moment</span></div><div class="line" id="124950"><span class="nick" style="color:#bc80bd"><a href="#124950" label="[12:49:50]">&lt;janneke&gt;</a></span><span class="message">mescc-tools-seed produces m2-planet, which can be used to build the wip-m2 branch of mes</span></div><div class="line" id="125015"><span class="nick" style="color:#bc80bd"><a href="#125015" label="[12:50:15]">&lt;janneke&gt;</a></span><span class="message">and yes, that produces a bin/mes-m2</span></div><div class="line" id="125048"><span class="nick" style="color:#d9d9d9"><a href="#125048" label="[12:50:48]">&lt;gforce_d11977&gt;</a></span><span class="message">janneke: ok, but this &quot;bin/mes-m2&quot; has not yet the capabilities to compile the .scm file for producing mescc?</span></div><div class="line" id="125209"><span class="nick" style="color:#bc80bd"><a href="#125209" label="[12:52:09]">&lt;janneke&gt;</a></span><span class="message">mescc is written in scheme, you can think of it as mes.c (or mes.m2) and mescc.scm</span></div><div class="line" id="125236"><span class="nick" style="color:#bc80bd"><a href="#125236" label="[12:52:36]">&lt;janneke&gt;</a></span><span class="message">mes-m2 can run mescc.scm to produce itself (mes) and the mes c library</span></div><div class="line" id="125241"><span class="nick" style="color:#bc80bd"><a href="#125241" label="[12:52:41]">&lt;janneke&gt;</a></span><span class="message">these can then build tinycc</span></div><div class="line" id="125421"><span class="nick" style="color:#d9d9d9"><a href="#125421" label="[12:54:21]">&lt;gforce_d11977&gt;</a></span><span class="message">janneke: sorry, i mixed this up. thanks for explanation, i will try these steps</span></div><div class="line" id="125552"><span class="nick" style="color:#bc80bd"><a href="#125552" label="[12:55:52]">&lt;janneke&gt;</a></span><span class="message">have i seen the wip-full-source-bootstrap branch in guix?</span></div><div class="line" id="125554"><span class="nick" style="color:#bc80bd"><a href="#125554" label="[12:55:54]">&lt;janneke&gt;</a></span><span class="message">np</span></div><div class="line" id="125608"><span class="nick" style="color:#bc80bd"><a href="#125608" label="[12:56:08]">&lt;janneke&gt;</a></span><span class="message">*have you seen...</span></div><div class="line" id="125712"><span class="nick" style="color:#d9d9d9"><a href="#125712" label="[12:57:12]">&lt;gforce_d11977&gt;</a></span><span class="message">janneke: yes, i have the branch opened here, but ... still dont get it (give me some time...)</span></div><div class="line" id="125755"><span class="nick" style="color:#d9d9d9"><a href="#125755" label="[12:57:55]">&lt;gforce_d11977&gt;</a></span><span class="message">(dont want to install guix, so i try it manually)</span></div><div class="line" id="125759"><span class="nick" style="color:#bc80bd"><a href="#125759" label="[12:57:59]">&lt;janneke&gt;</a></span><span class="message">np, just good to not unknowingly miss info :)</span></div><div class="line" id="132711"><span class="nick" style="color:#d9d9d9"><a href="#132711" label="[13:27:11]">&lt;gforce_d11977&gt;</a></span><span class="message">janneke: after several attempt to run 'bin/mes-m2' with an *.scm file, i cannot get it to work: e.g.'Unbound symbol: define-module' - i see, that in theory i can run: guile --no-auto-compile -L module -e main scripts/mescc.scm -I include -S scaffold/exit-42.c -o foo.S</span></div><div class="line" id="132752"><span class="nick" style="color:#d9d9d9"><a href="#132752" label="[13:27:52]">&lt;gforce_d11977&gt;</a></span><span class="message">but what can &quot;bin/mes-m2&quot; do for now?</span></div><div class="line" id="133228"><span class="nick" style="color:#bc80bd"><a href="#133228" label="[13:32:28]">&lt;janneke&gt;</a></span><span class="message">gforce_d11977: you can run ./pre-inst-env mescc</span></div><div class="line" id="133306"><span class="nick" style="color:#d9d9d9"><a href="#133306" label="[13:33:06]">&lt;gforce_d11977&gt;</a></span><span class="message">janneke: yes, but 'mescc' does still not exist?</span></div><div class="line" id="133322"><span class="nick" style="color:#bc80bd"><a href="#133322" label="[13:33:22]">&lt;janneke&gt;</a></span><span class="message">./configure or ./configure.sh creates scripts/mescc</span></div><div class="line" id="134105"><span class="nick" style="color:#3c5b35"><a href="#134105" label="[13:41:05]">&lt;malina&gt;</a></span><span class="message">lol</span></div><div class="line" id="134233"><span class="nick" style="color:#3c5b35"><a href="#134233" label="[13:42:33]">&lt;malina&gt;</a></span><span class="message">well, I guess it's good to observe this, since I still haven't downloaded guix and still don't know quite how scheme's work, although luckily they are very clean and easy to read.</span></div><div class="line" id="144814"><span class="nick" style="color:#d9d9d9"><a href="#144814" label="[14:48:14]">&lt;gforce_d11977&gt;</a></span><span class="message">janneke: i tried the './configure.sh' from 'mes-0.22-305-g2ab4c5c67' and the 'sh bootstrap.sh' afterwards. it works somehow, but is polluted with a lot of binaries inluding gcc and . so thats not the idea of bootstrapping 8-)</span></div><div class="line" id="144833"><span class="nick" style="color:#d9d9d9"><a href="#144833" label="[14:48:33]">&lt;gforce_d11977&gt;</a></span><span class="message">btw: 'crt1.s' seems missing (still searching)</span></div><div class="line" id="145012"><span class="nick" style="color:#bc80bd"><a href="#145012" label="[14:50:12]">&lt;janneke&gt;</a></span><span class="message">gforce_d11977: if you don't want gcc to be picked-up, you can use CC=mescc ./configure.sh</span></div><div class="line" id="145127"><span class="nick" style="color:#bc80bd"><a href="#145127" label="[14:51:27]">&lt;janneke&gt;</a></span><span class="message">crt1.s is built as mescc-lib/crt1.s and mescc-lib/x86-mes/crt1.s</span></div><div class="line" id="150038"><span class="nick" style="color:#d9d9d9"><a href="#150038" label="[15:00:38]">&lt;gforce_d11977&gt;</a></span><span class="message">janneke: now i'am really lost: i have built bin/mes-m2 - how can i have 'mescc' (which is not build yet) to compile 'mes'? sorry for dumb questions, all the other 19 steps (from hex0) are clear and working, but now....? bootstrap.sh even calls 'perl' 8-)</span></div><div class="line" id="150212"><span class="nick" style="color:#d9d9d9"><a href="#150212" label="[15:02:12]">&lt;gforce_d11977&gt;</a></span><span class="message">(sorry, configure.sh searches for 'perl')</span></div><div class="line" id="150705"><span class="nick" style="color:#bc80bd"><a href="#150705" label="[15:07:05]">&lt;janneke&gt;</a></span><span class="message">perl is for help2man in the full build; that's probably not supported or needed in the bootstrap build</span></div><div class="line" id="150735"><span class="nick" style="color:#bc80bd"><a href="#150735" label="[15:07:35]">&lt;janneke&gt;</a></span><span class="message">it's probably nice that configure.sh leaves the same OK state as the development ./configure does</span></div><div class="line" id="150757"><span class="nick" style="color:#bc80bd"><a href="#150757" label="[15:07:57]">&lt;janneke&gt;</a></span><span class="message">gforce_d11977: do you have a bin/mes ?</span></div><div class="line" id="150809"><span class="nick" style="color:#bc80bd"><a href="#150809" label="[15:08:09]">&lt;janneke&gt;</a></span><span class="message">what doet ./pre-inst-env mescc --help say?</span></div><div class="line" id="150943"><span class="nick" style="color:#6b8072"><a href="#150943" label="[15:09:43]">&lt;stikonas&gt;</a></span><span class="message">I actually get something like &quot;unhandled exception: unbound-variable: (abort)&quot; with mescc from wip-m2 branch (manually built with M2-Planet)</span></div><div class="line" id="150951"><span class="nick" style="color:#6b8072"><a href="#150951" label="[15:09:51]">&lt;stikonas&gt;</a></span><span class="message">any ideas?</span></div><div class="line" id="151042"><span class="nick" style="color:#d9d9d9"><a href="#151042" label="[15:10:42]">&lt;gforce_d11977&gt;</a></span><span class="message">janneke: interesting, it searches for 'nyacc/lex.scm' - i have to install that...</span></div><div class="line" id="151830"><span class="nick" style="color:#d9d9d9"><a href="#151830" label="[15:18:30]">&lt;gforce_d11977&gt;</a></span><span class="message">janneke: wow, now it says: 'usage: ... \nC99 compiler in Scheme for bootstrapping the GNU system.'</span></div><div class="line" id="151941"><span class="nick" style="color:#d9d9d9"><a href="#151941" label="[15:19:41]">&lt;gforce_d11977&gt;</a></span><span class="message">janneke: now i really have to re-try what i have done in the last hour and think about it, why it worked 8-)</span></div><div class="line" id="152020"><span class="nick" style="color:#bc80bd"><a href="#152020" label="[15:20:20]">&lt;janneke&gt;</a></span><span class="message">nice</span></div><div class="line" id="162612"><span class="nick" style="color:#bc80bd"><a href="#162612" label="[16:26:12]">&lt;janneke&gt;</a></span><span class="message">stikonas: you may try MES_DEBUG=2 ... and see if you get more info</span></div><div class="line" id="170730"><span class="nick" style="color:#bc80bd"><a href="#170730" label="[17:07:30]">&lt;janneke&gt;</a></span><span class="message">stikonas: and a (hopefully not too-annoying) reminder that the full build sequence is documented/scripted now as guix packages in wip-full-source-bootstrap branch</span></div><div class="line" id="170834"><span class="nick" style="color:#6b8072"><a href="#170834" label="[17:08:34]">&lt;stikonas&gt;</a></span><span class="message">yeah, it's probably some shell variables pointing to the wrong places... I'll look into it a bit later</span></div><div class="line" id="170910"><span class="nick" style="color:#bc80bd"><a href="#170910" label="[17:09:10]">&lt;janneke&gt;</a></span><span class="message">that's what i mean, some things have to be exactly right (versions, variables, etc)</span></div><div class="line" id="170935"><span class="nick" style="color:#bc80bd"><a href="#170935" label="[17:09:35]">&lt;janneke&gt;</a></span><span class="message">but there's not too much required anymore in the way of manual scripting</span></div><div class="line" id="171133"><span class="nick" style="color:#bc80bd"><a href="#171133" label="[17:11:33]">&lt;janneke&gt;</a></span><span class="message">building (the unpatched) tcc-boot and packages beyond becomes a bit trickier</span></div><div class="line" id="174852"><span class="nick" style="color:#af8d2f"><a href="#174852" label="[17:48:52]">&lt;civodul&gt;</a></span><span class="message">janneke &amp; everyone: congrats on bridging the gap to stage0!</span></div><div class="line" id="174935"><span class="nick" style="color:#3c5b35"><a href="#174935" label="[17:49:35]">&lt;malina&gt;</a></span><span class="message">++ as I say, looks like I was lucky on the timing :D</span></div><div class="line" id="175010"><span class="nick" style="color:#bc80bd"><a href="#175010" label="[17:50:10]">&lt;janneke&gt;</a></span><span class="message">civodul: thanks &amp; expect a mail to guix-devel &quot;any moment now&quot;</span></div><div class="line" id="175028"><span class="nick" style="color:#389600"><a href="#175028" label="[17:50:28]">*</a></span><span class="message">janneke has been sayng that since yesterday night...</span></div><div class="line" id="175140"><span class="nick" style="color:#3c5b35"><a href="#175140" label="[17:51:40]">&lt;malina&gt;</a></span><span class="message">:D</span></div><div class="line" id="175403"><span class="nick" style="color:#6b8072"><a href="#175403" label="[17:54:03]">&lt;stikonas&gt;</a></span><span class="message">well, testing that wip-full-source-bootstrap branch is still a bit tricky because it has gnutls-3.6.12 which fails to build these days...</span></div><div class="line" id="175446"><span class="nick" style="color:#3c5b35"><a href="#175446" label="[17:54:46]">&lt;malina&gt;</a></span><span class="message">I am aso reminded that in the past 5-10 years, various projects have existed, we all approach it differently, and guix is a 'competitor' but then again, I never managed to get anyone really with any interest to join devops</span></div><div class="line" id="175454"><span class="nick" style="color:#3c5b35"><a href="#175454" label="[17:54:54]">&lt;malina&gt;</a></span><span class="message">why does gnutls not build?</span></div><div class="line" id="175608"><span class="nick" style="color:#af8d2f"><a href="#175608" label="[17:56:08]">&lt;civodul&gt;</a></span><span class="message">that must be <a rel="nofollow" href="https://issues.guix.gnu.org/45578">https://issues.guix.gnu.org/45578</a> </span></div><div class="line" id="175843"><span class="nick" style="color:#3c5b35"><a href="#175843" label="[17:58:43]">&lt;malina&gt;</a></span><span class="message">it even states the issue though; is openssl not installed? and/or did you try building with disablig tests, alternatively patching out the failing one?</span></div><div class="line" id="175908"><span class="nick" style="color:#3c5b35"><a href="#175908" label="[17:59:08]">&lt;malina&gt;</a></span><span class="message">hell, even make check || true but that depends on I don't know if guix / schemes do something very odd or so</span></div><div class="line" id="175950"><span class="nick" style="color:#af8d2f"><a href="#175950" label="[17:59:50]">&lt;civodul&gt;</a></span><span class="message">one can do --without-tests=gnutls as a workaround</span></div><div class="line" id="180002"><span class="nick" style="color:#3c5b35"><a href="#180002" label="[18:00:02]">&lt;malina&gt;</a></span><span class="message">I mean, I hope whoever tried building 71 times didn't lack the audacity to actually change configuration</span></div><div class="line" id="180116"><span class="nick" style="color:#3c5b35"><a href="#180116" label="[18:01:16]">&lt;malina&gt;</a></span><span class="message">ye, so even if a/some test(s) need some patching then, it's not exactly &quot;gnutls is failing to build these days&quot;. the latter being a good enough argument for me to not really feel for trying guix</span></div><div class="line" id="180120"><span class="nick" style="color:#3c5b35"><a href="#180120" label="[18:01:20]">&lt;malina&gt;</a></span><span class="message">had it been THAT bad.</span></div><div class="line" id="180209"><span class="nick" style="color:#3c5b35"><a href="#180209" label="[18:02:09]">&lt;malina&gt;</a></span><span class="message">[17:59:49] &lt;civodul&gt; one can do --without-tests=gnutls as a workaround &lt;- sounds like something I would do, if it's time critical, then simply patch the test(s), pass it on to upstream and/or re-enable tests if that is desirable in recipe.</span></div><div class="line" id="181136"><span class="nick" style="color:#bc80bd"><a href="#181136" label="[18:11:36]">&lt;janneke&gt;</a></span><span class="message">stikonas: i didn't pay much attention to guix development the past months, it's been a ride</span></div><div class="line" id="181219"><span class="nick" style="color:#bc80bd"><a href="#181219" label="[18:12:19]">&lt;janneke&gt;</a></span><span class="message">however, wip-full-source-bootstrap must be rebased on core-updates anyway and i would like have to have a propper release of mes first</span></div><div class="line" id="183024"><span class="nick">***</span><span class="message notice">lfam_ is now known as lfam</span></div><div class="line" id="184429"><span class="nick" style="color:#8dd3c7"><a href="#184429" label="[18:44:29]">&lt;rain1&gt;</a></span><span class="message">so stage0 is now building all the way from hex up to prototype lisp?</span></div><div class="line" id="184529"><span class="nick" style="color:#bc80bd"><a href="#184529" label="[18:45:29]">&lt;janneke&gt;</a></span><span class="message">yes, m2-planet can build gnu mes (wip-m2 branch)</span></div><div class="line" id="184549"><span class="nick" style="color:#bc80bd"><a href="#184549" label="[18:45:49]">&lt;janneke&gt;</a></span><span class="message">and this has been integrated in the guix bootstrap</span></div><div class="line" id="184829"><span class="nick" style="color:#8dd3c7"><a href="#184829" label="[18:48:29]">&lt;rain1&gt;</a></span><span class="message">so i get stage0 and do make all but that is invoking gcc</span></div><div class="line" id="184845"><span class="nick" style="color:#8dd3c7"><a href="#184845" label="[18:48:45]">&lt;rain1&gt;</a></span><span class="message">is that just for the prototypes and i can ignore that</span></div><div class="line" id="184932"><span class="nick" style="color:#bc80bd"><a href="#184932" label="[18:49:32]">&lt;janneke&gt;</a></span><span class="message">the full source bootstrap is implemented in guix: <a rel="nofollow" href="https://git.savannah.gnu.org/cgit/guix.git/tree/gnu/packages/commencement.scm?h=wip-full-source-bootstrap">https://git.savannah.gnu.org/cgit/guix.git/tree/gnu/packages/commencement.scm?h=wip-full-source-bootstrap</a> </span></div><div class="line" id="185015"><span class="nick" style="color:#bc80bd"><a href="#185015" label="[18:50:15]">&lt;janneke&gt;</a></span><span class="message">trying that in a development environment can be tricky, as most tools can also be built by gcc</span></div><div class="line" id="185129"><span class="nick" style="color:#6b8072"><a href="#185129" label="[18:51:29]">&lt;stikonas&gt;</a></span><span class="message">this <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/">https://github.com/fosslinux/live-bootstrap/</a>  should help if you want clean environment, but mes-m2 still has to be added...</span></div><div class="line" id="185130"><span class="nick" style="color:#bc80bd"><a href="#185130" label="[18:51:30]">&lt;janneke&gt;</a></span><span class="message">as a start, we currently use the package &quot;mescc-tools-seed&quot;</span></div><div class="line" id="185144"><span class="nick" style="color:#6b8072"><a href="#185144" label="[18:51:44]">&lt;stikonas&gt;</a></span><span class="message">I briefly tried but got some crashes... Probably need to adjust some env variables</span></div><div class="line" id="185455"><span class="nick" style="color:#8dd3c7"><a href="#185455" label="[18:54:55]">&lt;rain1&gt;</a></span><span class="message">i don't have guix and want to build some things from scratch so I do this</span></div><div class="line" id="185500"><span class="nick" style="color:#8dd3c7"><a href="#185500" label="[18:55:00]">&lt;rain1&gt;</a></span><span class="message">cd stage0</span></div><div class="line" id="185502"><span class="nick" style="color:#8dd3c7"><a href="#185502" label="[18:55:02]">&lt;rain1&gt;</a></span><span class="message">make -f makefile</span></div><div class="line" id="185504"><span class="nick" style="color:#8dd3c7"><a href="#185504" label="[18:55:04]">&lt;rain1&gt;</a></span><span class="message">cd 'Linux Bootstrap'</span></div><div class="line" id="185507"><span class="nick" style="color:#8dd3c7"><a href="#185507" label="[18:55:07]">&lt;rain1&gt;</a></span><span class="message">make -f makefile</span></div><div class="line" id="185523"><span class="nick" style="color:#8dd3c7"><a href="#185523" label="[18:55:23]">&lt;rain1&gt;</a></span><span class="message">Now i have mes-m2</span></div><div class="line" id="185606"><span class="nick" style="color:#6b8072"><a href="#185606" label="[18:56:06]">&lt;stikonas&gt;</a></span><span class="message">rain1: you probably want to start with mescc-tools-seed</span></div><div class="line" id="185631"><span class="nick" style="color:#234e69"><a href="#185631" label="[18:56:31]">&lt;Hagfish&gt;</a></span><span class="message"> ;; The initial bootstrap package: no binary inputs except for a 357 byte binary seed</span></div><div class="line" id="185637"><span class="nick" style="color:#6b8072"><a href="#185637" label="[18:56:37]">&lt;stikonas&gt;</a></span><span class="message">and make is not available in early bootstrap :)</span></div><div class="line" id="185639"><span class="nick" style="color:#234e69"><a href="#185639" label="[18:56:39]">&lt;Hagfish&gt;</a></span><span class="message">you love to see it :)</span></div><div class="line" id="185701"><span class="nick" style="color:#6b8072"><a href="#185701" label="[18:57:01]">&lt;stikonas&gt;</a></span><span class="message">well, you still need POSIX kernel which is much more than 357 byte binary</span></div><div class="line" id="185738"><span class="nick" style="color:#6b8072"><a href="#185738" label="[18:57:38]">&lt;stikonas&gt;</a></span><span class="message">and some driver do drive the process (kaem-minimal is a bit under 1 KB)</span></div><div class="line" id="185744"><span class="nick" style="color:#8dd3c7"><a href="#185744" label="[18:57:44]">&lt;rain1&gt;</a></span><span class="message">stikonas: stage0 contains this repo under the name Linux Bootstrap doesn't it?</span></div><div class="line" id="185753"><span class="nick" style="color:#8dd3c7"><a href="#185753" label="[18:57:53]">&lt;rain1&gt;</a></span><span class="message"> <a rel="nofollow" href="https://savannah.nongnu.org/projects/stage0/">https://savannah.nongnu.org/projects/stage0/</a>   I started here, is that wrong?</span></div><div class="line" id="185753"><span class="nick" style="color:#6b8072"><a href="#185753" label="[18:57:53]">&lt;stikonas&gt;</a></span><span class="message">rain1: it's empty here...</span></div><div class="line" id="185810"><span class="nick" style="color:#8dd3c7"><a href="#185810" label="[18:58:10]">&lt;rain1&gt;</a></span><span class="message">git clone --recursive <a rel="nofollow" href="https://git.savannah.nongnu.org/git/stage0.git">https://git.savannah.nongnu.org/git/stage0.git</a> </span></div><div class="line" id="185819"><span class="nick" style="color:#6b8072"><a href="#185819" label="[18:58:19]">&lt;stikonas&gt;</a></span><span class="message">oh, maybe it was moved there</span></div><div class="line" id="185820"><span class="nick" style="color:#8dd3c7"><a href="#185820" label="[18:58:20]">&lt;rain1&gt;</a></span><span class="message">it is a git submodule</span></div><div class="line" id="185820"><span class="nick" style="color:#6b8072"><a href="#185820" label="[18:58:20]">&lt;stikonas&gt;</a></span><span class="message">yeah...</span></div><div class="line" id="185857"><span class="nick" style="color:#6b8072"><a href="#185857" label="[18:58:57]">&lt;stikonas&gt;</a></span><span class="message">ok, so same thing...</span></div><div class="line" id="185907"><span class="nick" style="color:#6b8072"><a href="#185907" label="[18:59:07]">&lt;stikonas&gt;</a></span><span class="message">but I run it using this:</span></div><div class="line" id="190033"><span class="nick" style="color:#6b8072"><a href="#190033" label="[19:00:33]">&lt;stikonas&gt;</a></span><span class="message">cd AMD64; /path/to/kaem-optional-seed</span></div><div class="line" id="190112"><span class="nick" style="color:#6b8072"><a href="#190112" label="[19:01:12]">&lt;stikonas&gt;</a></span><span class="message">then it runs kaem.run which recompiles kaem and hex0 seed from source</span></div><div class="line" id="190118"><span class="nick" style="color:#6b8072"><a href="#190118" label="[19:01:18]">&lt;stikonas&gt;</a></span><span class="message">and then continues with the bootstrap</span></div><div class="line" id="190145"><span class="nick" style="color:#234e69"><a href="#190145" label="[19:01:45]">&lt;Hagfish&gt;</a></span><span class="message">hmm, good point about the POSIX kernel.  i thought tccboot was capable of building linux from source, as a bootloader without a (precompiled) kernel?</span></div><div class="line" id="190145"><span class="nick" style="color:#6b8072"><a href="#190145" label="[19:01:45]">&lt;stikonas&gt;</a></span><span class="message">ok, I guess that's what makefile runs for you...</span></div><div class="line" id="190157"><span class="nick" style="color:#6b8072"><a href="#190157" label="[19:01:57]">&lt;stikonas&gt;</a></span><span class="message">Hagfish: then you have tcc as your seed</span></div><div class="line" id="190206"><span class="nick" style="color:#234e69"><a href="#190206" label="[19:02:06]">&lt;Hagfish&gt;</a></span><span class="message">sure, but that's smaller than linux :)</span></div><div class="line" id="190231"><span class="nick" style="color:#234e69"><a href="#190231" label="[19:02:31]">&lt;Hagfish&gt;</a></span><span class="message">but yeah, it's kinda cheating if you trust tcc binary, and then go on to build &quot;trusted&quot; tcc</span></div><div class="line" id="190232"><span class="nick" style="color:#6b8072"><a href="#190232" label="[19:02:32]">&lt;stikonas&gt;</a></span><span class="message">it's either linux + hex0 or hex0 + tcc which is as good/bad as tcc on its own</span></div><div class="line" id="190239"><span class="nick" style="color:#6b8072"><a href="#190239" label="[19:02:39]">&lt;stikonas&gt;</a></span><span class="message">exactly</span></div><div class="line" id="190246"><span class="nick" style="color:#234e69"><a href="#190246" label="[19:02:46]">&lt;Hagfish&gt;</a></span><span class="message">good point, thank you</span></div><div class="line" id="190411"><span class="nick" style="color:#6b8072"><a href="#190411" label="[19:04:11]">&lt;stikonas&gt;</a></span><span class="message">and tccboot runs in some software environent too (I guess UEFI)</span></div><div class="line" id="190415"><span class="nick" style="color:#234e69"><a href="#190415" label="[19:04:15]">&lt;Hagfish&gt;</a></span><span class="message">would it be possible to adapt hex0 into a bootloader or something?  (sorry if i'm not understanding these low level processes)</span></div><div class="line" id="190429"><span class="nick" style="color:#6b8072"><a href="#190429" label="[19:04:29]">&lt;stikonas&gt;</a></span><span class="message">well, OriansJ wants to build computer from TTL logic...</span></div><div class="line" id="190440"><span class="nick" style="color:#234e69"><a href="#190440" label="[19:04:40]">&lt;Hagfish&gt;</a></span><span class="message">that will be cool</span></div><div class="line" id="190440"><span class="nick" style="color:#6b8072"><a href="#190440" label="[19:04:40]">&lt;stikonas&gt;</a></span><span class="message">so no bootloaded needed...</span></div><div class="line" id="190446"><span class="nick" style="color:#6b8072"><a href="#190446" label="[19:04:46]">&lt;stikonas&gt;</a></span><span class="message">but that's much harder</span></div><div class="line" id="190518"><span class="nick" style="color:#234e69"><a href="#190518" label="[19:05:18]">&lt;Hagfish&gt;</a></span><span class="message">i wonder if he could convince someone who has already made such a hobbyist computer to run the bootstrapping process and share the output (hash?) with us</span></div><div class="line" id="190520"><span class="nick" style="color:#6b8072"><a href="#190520" label="[19:05:20]">&lt;stikonas&gt;</a></span><span class="message">maybe you can do something with hex0 to boot existing hardware...</span></div><div class="line" id="190533"><span class="nick" style="color:#6b8072"><a href="#190533" label="[19:05:33]">&lt;stikonas&gt;</a></span><span class="message">hmm</span></div><div class="line" id="190647"><span class="nick" style="color:#6b8072"><a href="#190647" label="[19:06:47]">&lt;stikonas&gt;</a></span><span class="message">but with current hardware, I guess often you'll hit the problem that bootloder is fairly complex, e.g. on rk3399 which does not use any blogs for booting, bootloader (U-boot)still has to train RAM, and quite a few other drivers to initialize boot media</span></div><div class="line" id="190705"><span class="nick" style="color:#6b8072"><a href="#190705" label="[19:07:05]">&lt;stikonas&gt;</a></span><span class="message">and those things are not written in M2-Planet C...</span></div><div class="line" id="190808"><span class="nick" style="color:#234e69"><a href="#190808" label="[19:08:08]">&lt;Hagfish&gt;</a></span><span class="message">yeah, it's a pity that hardware is compounding the software bootstrapping problem</span></div><div class="line" id="190813"><span class="nick" style="color:#8dd3c7"><a href="#190813" label="[19:08:13]">&lt;rain1&gt;</a></span><span class="message">so I have built stage0 and linux bootstrap</span></div><div class="line" id="190816"><span class="nick" style="color:#8dd3c7"><a href="#190816" label="[19:08:16]">&lt;rain1&gt;</a></span><span class="message">now I git clone --recursive <a rel="nofollow" href="https://git.savannah.gnu.org/git/mes.git">https://git.savannah.gnu.org/git/mes.git</a> </span></div><div class="line" id="190817"><span class="nick" style="color:#8dd3c7"><a href="#190817" label="[19:08:17]">&lt;rain1&gt;</a></span><span class="message">git checkout wip-m2</span></div><div class="line" id="190833"><span class="nick" style="color:#8dd3c7"><a href="#190833" label="[19:08:33]">&lt;rain1&gt;</a></span><span class="message">I have added the binaries from stage0 to my PATH</span></div><div class="line" id="190838"><span class="nick" style="color:#6b8072"><a href="#190838" label="[19:08:38]">&lt;stikonas&gt;</a></span><span class="message">yes, then run kaem there...</span></div><div class="line" id="190846"><span class="nick" style="color:#8dd3c7"><a href="#190846" label="[19:08:46]">&lt;rain1&gt;</a></span><span class="message">I configure mes</span></div><div class="line" id="190848"><span class="nick" style="color:#8dd3c7"><a href="#190848" label="[19:08:48]">&lt;rain1&gt;</a></span><span class="message">./configure --prefix=`pwd`/out/</span></div><div class="line" id="190855"><span class="nick" style="color:#8dd3c7"><a href="#190855" label="[19:08:55]">&lt;rain1&gt;</a></span><span class="message">but it says this</span></div><div class="line" id="190858"><span class="nick" style="color:#8dd3c7"><a href="#190858" label="[19:08:58]">&lt;rain1&gt;</a></span><span class="message">GNU Mes is configured for</span></div><div class="line" id="190900"><span class="nick" style="color:#8dd3c7"><a href="#190900" label="[19:09:00]">&lt;rain1&gt;</a></span><span class="message">   compiler:   gcc</span></div><div class="line" id="190903"><span class="nick" style="color:#8dd3c7"><a href="#190903" label="[19:09:03]">&lt;rain1&gt;</a></span><span class="message">How can I configure it to use mescc?</span></div><div class="line" id="190915"><span class="nick" style="color:#8dd3c7"><a href="#190915" label="[19:09:15]">&lt;rain1&gt;</a></span><span class="message">do I need to build mescc as a standalone binary first?</span></div><div class="line" id="190917"><span class="nick" style="color:#bc80bd"><a href="#190917" label="[19:09:17]">&lt;janneke&gt;</a></span><span class="message">try: CC=mescc ./configure --host=x86</span></div><div class="line" id="190918"><span class="nick" style="color:#6b8072"><a href="#190918" label="[19:09:18]">&lt;stikonas&gt;</a></span><span class="message">rain1: I just ran &quot;kaem --verbose&quot;</span></div><div class="line" id="190935"><span class="nick" style="color:#6b8072"><a href="#190935" label="[19:09:35]">&lt;stikonas&gt;</a></span><span class="message">you first need to build mes-m2</span></div><div class="line" id="190936"><span class="nick" style="color:#8dd3c7"><a href="#190936" label="[19:09:36]">&lt;rain1&gt;</a></span><span class="message">ah</span></div><div class="line" id="190938"><span class="nick" style="color:#8dd3c7"><a href="#190938" label="[19:09:38]">&lt;rain1&gt;</a></span><span class="message">$ find . -iname mescc</span></div><div class="line" id="190940"><span class="nick" style="color:#8dd3c7"><a href="#190940" label="[19:09:40]">&lt;rain1&gt;</a></span><span class="message">./Linux Bootstrap/mes-m2/mes/module/mescc</span></div><div class="line" id="190943"><span class="nick" style="color:#8dd3c7"><a href="#190943" label="[19:09:43]">&lt;rain1&gt;</a></span><span class="message">./Linux Bootstrap/mes-m2/module/mescc</span></div><div class="line" id="190944"><span class="nick" style="color:#8dd3c7"><a href="#190944" label="[19:09:44]">&lt;rain1&gt;</a></span><span class="message">./Linux Bootstrap/mes-m2/scripts/mescc</span></div><div class="line" id="190947"><span class="nick" style="color:#8dd3c7"><a href="#190947" label="[19:09:47]">&lt;rain1&gt;</a></span><span class="message">do I point to one of these?</span></div><div class="line" id="190950"><span class="nick" style="color:#6b8072"><a href="#190950" label="[19:09:50]">&lt;stikonas&gt;</a></span><span class="message">rain1: that's the wrong mes-m2...</span></div><div class="line" id="190955"><span class="nick" style="color:#bc80bd"><a href="#190955" label="[19:09:55]">&lt;janneke&gt;</a></span><span class="message">stikonas: bin/mes-m2 is built by ./bootstrap.sh, after running configure</span></div><div class="line" id="191003"><span class="nick" style="color:#6b8072"><a href="#191003" label="[19:10:03]">&lt;stikonas&gt;</a></span><span class="message">oh ok...</span></div><div class="line" id="191004"><span class="nick" style="color:#8dd3c7"><a href="#191004" label="[19:10:04]">&lt;rain1&gt;</a></span><span class="message">CC=mescc ./configure --host=x86 --prefix=`pwd`/out</span></div><div class="line" id="191016"><span class="nick" style="color:#8dd3c7"><a href="#191016" label="[19:10:16]">&lt;rain1&gt;</a></span><span class="message">but it still says GNU Mes is configured for   compiler:   gcc</span></div><div class="line" id="191023"><span class="nick" style="color:#6b8072"><a href="#191023" label="[19:10:23]">&lt;stikonas&gt;</a></span><span class="message">I was trying to avoid .sh scripts since they need bash...</span></div><div class="line" id="191028"><span class="nick" style="color:#8dd3c7"><a href="#191028" label="[19:10:28]">&lt;rain1&gt;</a></span><span class="message">I think it didn't find mescc</span></div><div class="line" id="191030"><span class="nick" style="color:#6b8072"><a href="#191030" label="[19:10:30]">&lt;stikonas&gt;</a></span><span class="message">(or at least gash)</span></div><div class="line" id="191039"><span class="nick" style="color:#bc80bd"><a href="#191039" label="[19:10:39]">&lt;janneke&gt;</a></span><span class="message">then you may have gcc in your path; don't do that</span></div><div class="line" id="191109"><span class="nick" style="color:#bc80bd"><a href="#191109" label="[19:11:09]">&lt;janneke&gt;</a></span><span class="message">hmm, /me goes to check this, though...</span></div><div class="line" id="191112"><span class="nick" style="color:#8dd3c7"><a href="#191112" label="[19:11:12]">&lt;rain1&gt;</a></span><span class="message">checking for mescc... no</span></div><div class="line" id="191120"><span class="nick" style="color:#8dd3c7"><a href="#191120" label="[19:11:20]">&lt;rain1&gt;</a></span><span class="message">this was in the ./configure log</span></div><div class="line" id="191131"><span class="nick" style="color:#8dd3c7"><a href="#191131" label="[19:11:31]">&lt;rain1&gt;</a></span><span class="message">which package builds/provides the mescc binary?</span></div><div class="line" id="191140"><span class="nick" style="color:#bc80bd"><a href="#191140" label="[19:11:40]">&lt;janneke&gt;</a></span><span class="message">rain1: ah, use ./configure.SH</span></div><div class="line" id="191244"><span class="nick" style="color:#8dd3c7"><a href="#191244" label="[19:12:44]">&lt;rain1&gt;</a></span><span class="message">ah nice!</span></div><div class="line" id="191250"><span class="nick" style="color:#8dd3c7"><a href="#191250" label="[19:12:50]">&lt;rain1&gt;</a></span><span class="message">doing bootstrap now</span></div><div class="line" id="191257"><span class="nick" style="color:#bc80bd"><a href="#191257" label="[19:12:57]">&lt;janneke&gt;</a></span><span class="message">mescc is a script, that is created by ./configure|configure.sh in scripts/</span></div><div class="line" id="191304"><span class="nick" style="color:#bc80bd"><a href="#191304" label="[19:13:04]">&lt;janneke&gt;</a></span><span class="message">\o/</span></div><div class="line" id="191346"><span class="nick" style="color:#6b8072"><a href="#191346" label="[19:13:46]">&lt;stikonas&gt;</a></span><span class="message">argh, I'm getting those unbound variable errors even from bootstrap.sh script</span></div><div class="line" id="191358"><span class="nick" style="color:#8dd3c7"><a href="#191358" label="[19:13:58]">&lt;rain1&gt;</a></span><span class="message">stikonas: ah I have this same error too</span></div><div class="line" id="191405"><span class="nick" style="color:#8dd3c7"><a href="#191405" label="[19:14:05]">&lt;rain1&gt;</a></span><span class="message">error:include-from-path: not found: :(nyacc/lex.scm)</span></div><div class="line" id="191417"><span class="nick" style="color:#6b8072"><a href="#191417" label="[19:14:17]">&lt;stikonas&gt;</a></span><span class="message">oh, this one you need to clone separately</span></div><div class="line" id="191423"><span class="nick" style="color:#8dd3c7"><a href="#191423" label="[19:14:23]">&lt;rain1&gt;</a></span><span class="message">$ ls ./mes/module/nyacc</span></div><div class="line" id="191424"><span class="nick" style="color:#8dd3c7"><a href="#191424" label="[19:14:24]">&lt;rain1&gt;</a></span><span class="message">lalr.mes  lang  lex.mes  parse.mes  util.mes  version.mes</span></div><div class="line" id="191428"><span class="nick" style="color:#8dd3c7"><a href="#191428" label="[19:14:28]">&lt;rain1&gt;</a></span><span class="message">the thing is,  it's not empty</span></div><div class="line" id="191457"><span class="nick" style="color:#6b8072"><a href="#191457" label="[19:14:57]">&lt;stikonas&gt;</a></span><span class="message">oh yeah, if you did recursive clone it should be there</span></div><div class="line" id="191459"><span class="nick" style="color:#6b8072"><a href="#191459" label="[19:14:59]">&lt;stikonas&gt;</a></span><span class="message">hmm</span></div><div class="line" id="191554"><span class="nick" style="color:#bc80bd"><a href="#191554" label="[19:15:54]">&lt;janneke&gt;</a></span><span class="message">you need to unpack nyacc-1.00.2 somewhere and set GUILE_LOAD_PATH=.../nyacc-1.00.2/module</span></div><div class="line" id="191555"><span class="nick" style="color:#6b8072"><a href="#191555" label="[19:15:55]">&lt;stikonas&gt;</a></span><span class="message">rain1: janneke suggested MES_DEBUG=2</span></div><div class="line" id="191654"><span class="nick" style="color:#bc80bd"><a href="#191654" label="[19:16:54]">&lt;janneke&gt;</a></span><span class="message">it would be nice if configure.sh handled this!</span></div><div class="line" id="191716"><span class="nick" style="color:#bc80bd"><a href="#191716" label="[19:17:16]">&lt;janneke&gt;</a></span><span class="message">at least check it and complain</span></div><div class="line" id="191832"><span class="nick" style="color:#8dd3c7"><a href="#191832" label="[19:18:32]">&lt;rain1&gt;</a></span><span class="message"> +&gt; ./bin/mes-m2 -c (display 'Hello,M2-mes!) (newline)</span></div><div class="line" id="191835"><span class="nick" style="color:#8dd3c7"><a href="#191835" label="[19:18:35]">&lt;rain1&gt;</a></span><span class="message">Hello,M2-mes!</span></div><div class="line" id="191836"><span class="nick" style="color:#8dd3c7"><a href="#191836" label="[19:18:36]">&lt;rain1&gt;</a></span><span class="message"> +&gt; cp bin/mes-m2 bin/mes</span></div><div class="line" id="191839"><span class="nick" style="color:#8dd3c7"><a href="#191839" label="[19:18:39]">&lt;rain1&gt;</a></span><span class="message">cp: cannot stat 'crt1.s': No such file or directory</span></div><div class="line" id="191847"><span class="nick" style="color:#8dd3c7"><a href="#191847" label="[19:18:47]">&lt;rain1&gt;</a></span><span class="message">this is looking good, i think it is running scheme code. but im not sure about the crt1 error yet</span></div><div class="line" id="191855"><span class="nick" style="color:#8dd3c7"><a href="#191855" label="[19:18:55]">&lt;rain1&gt;</a></span><span class="message">so I think that worked for nyacc</span></div><div class="line" id="191919"><span class="nick" style="color:#8dd3c7"><a href="#191919" label="[19:19:19]">&lt;rain1&gt;</a></span><span class="message">find . -iname crt1.s  is giving no results</span></div><div class="line" id="192008"><span class="nick" style="color:#8dd3c7"><a href="#192008" label="[19:20:08]">&lt;rain1&gt;</a></span><span class="message">$CC -c $AM_CPPFLAGS $CPPFLAGS $AM_CFLAGS $CFLAGS ${srcdest}lib/$mes_kernel/$mes_cpu-mes-$compiler/crt1.c</span></div><div class="line" id="192014"><span class="nick" style="color:#8dd3c7"><a href="#192014" label="[19:20:14]">&lt;rain1&gt;</a></span><span class="message">i suppose this line was to generate that file</span></div><div class="line" id="192031"><span class="nick" style="color:#6b8072"><a href="#192031" label="[19:20:31]">&lt;stikonas&gt;</a></span><span class="message">ok, same here...</span></div><div class="line" id="192036"><span class="nick" style="color:#bc80bd"><a href="#192036" label="[19:20:36]">&lt;janneke&gt;</a></span><span class="message">that's right, so compiling crt1.c failed</span></div><div class="line" id="192046"><span class="nick" style="color:#8dd3c7"><a href="#192046" label="[19:20:46]">&lt;rain1&gt;</a></span><span class="message">ah</span></div><div class="line" id="192055"><span class="nick" style="color:#8dd3c7"><a href="#192055" label="[19:20:55]">&lt;rain1&gt;</a></span><span class="message"> <a rel="nofollow" href="https://bpa.st/QD6A">https://bpa.st/QD6A</a> </span></div><div class="line" id="192105"><span class="nick" style="color:#8dd3c7"><a href="#192105" label="[19:21:05]">&lt;rain1&gt;</a></span><span class="message">./configure.sh expects  mescc to already exist</span></div><div class="line" id="192229"><span class="nick" style="color:#bc80bd"><a href="#192229" label="[19:22:29]">&lt;janneke&gt;</a></span><span class="message">that's not how it should be</span></div><div class="line" id="192232"><span class="nick" style="color:#6b8072"><a href="#192232" label="[19:22:32]">&lt;stikonas&gt;</a></span><span class="message">and I guess you need to set some more variables like MES_PREFIX</span></div><div class="line" id="192407"><span class="nick" style="color:#bc80bd"><a href="#192407" label="[19:24:07]">&lt;janneke&gt;</a></span><span class="message">ah, there's an old hack/workaround in the guix recipe; thanks</span></div><div class="line" id="192414"><span class="nick" style="color:#8dd3c7"><a href="#192414" label="[19:24:14]">&lt;rain1&gt;</a></span><span class="message">in config.sh I see CC=${CC-&quot;[...]/mes/pre-inst-env mescc&quot;}</span></div><div class="line" id="192421"><span class="nick" style="color:#bc80bd"><a href="#192421" label="[19:24:21]">&lt;janneke&gt;</a></span><span class="message">configure.sh is supposed to set CC to ..exactly!</span></div><div class="line" id="192551"><span class="nick" style="color:#bc80bd"><a href="#192551" label="[19:25:51]">&lt;janneke&gt;</a></span><span class="message">ah config; yes configure.sh should create that setting</span></div><div class="line" id="192907"><span class="nick" style="color:#8dd3c7"><a href="#192907" label="[19:29:07]">&lt;rain1&gt;</a></span><span class="message">ok i am  making progress</span></div><div class="line" id="192915"><span class="nick" style="color:#8dd3c7"><a href="#192915" label="[19:29:15]">&lt;rain1&gt;</a></span><span class="message">  CC       lib/linux/x86-mes-mescc/_write.c</span></div><div class="line" id="192921"><span class="nick" style="color:#8dd3c7"><a href="#192921" label="[19:29:21]">&lt;rain1&gt;</a></span><span class="message">it is building the cstblib</span></div><div class="line" id="192930"><span class="nick" style="color:#6b8072"><a href="#192930" label="[19:29:30]">&lt;stikonas&gt;</a></span><span class="message">rain1: so what exactly have you done?</span></div><div class="line" id="192957"><span class="nick" style="color:#8dd3c7"><a href="#192957" label="[19:29:57]">&lt;rain1&gt;</a></span><span class="message"> <a rel="nofollow" href="https://bpa.st/6L2A">https://bpa.st/6L2A</a> </span></div><div class="line" id="193019"><span class="nick" style="color:#bc80bd"><a href="#193019" label="[19:30:19]">&lt;janneke&gt;</a></span><span class="message">rain1: well done!</span></div><div class="line" id="193033"><span class="nick" style="color:#389600"><a href="#193033" label="[19:30:33]">*</a></span><span class="message">janneke removes obsolete workarounds from the guix recipe</span></div><div class="line" id="193156"><span class="nick" style="color:#6b8072"><a href="#193156" label="[19:31:56]">&lt;stikonas&gt;</a></span><span class="message">I guess you don't need to set GUILE_LOAD_PATH twice to different variables</span></div><div class="line" id="193317"><span class="nick" style="color:#6b8072"><a href="#193317" label="[19:33:17]">&lt;stikonas&gt;</a></span><span class="message">ok, now it works for me too</span></div><div class="line" id="193330"><span class="nick" style="color:#6b8072"><a href="#193330" label="[19:33:30]">&lt;stikonas&gt;</a></span><span class="message">I'll try to add this to live-bootstrap</span></div><div class="line" id="193342"><span class="nick" style="color:#6b8072"><a href="#193342" label="[19:33:42]">&lt;stikonas&gt;</a></span><span class="message">although, bash is not available there...</span></div><div class="line" id="193357"><span class="nick" style="color:#6b8072"><a href="#193357" label="[19:33:57]">&lt;stikonas&gt;</a></span><span class="message">so instead of running configure.sh I might need to do some things manually</span></div><div class="line" id="193524"><span class="nick" style="color:#bc80bd"><a href="#193524" label="[19:35:24]">&lt;janneke&gt;</a></span><span class="message">ah yes, there is only a kaem.run script for the mes-m2 build</span></div><div class="line" id="193544"><span class="nick" style="color:#bc80bd"><a href="#193544" label="[19:35:44]">&lt;janneke&gt;</a></span><span class="message">nothing to replace configure.sh, bootstrap.sh, install.sh</span></div><div class="line" id="193618"><span class="nick" style="color:#6b8072"><a href="#193618" label="[19:36:18]">&lt;stikonas&gt;</a></span><span class="message">let's see how well it works not that I sorted out other problems</span></div><div class="line" id="193629"><span class="nick" style="color:#6b8072"><a href="#193629" label="[19:36:29]">&lt;stikonas&gt;</a></span><span class="message">(I guess initially I also had wrong nyacc version)</span></div><div class="line" id="193809"><span class="nick" style="color:#6b8072"><a href="#193809" label="[19:38:09]">&lt;stikonas&gt;</a></span><span class="message">janneke: ok, so I think I only need to get mescc.scm.in -&gt; mescc.scm step working in kaem</span></div><div class="line" id="193824"><span class="nick" style="color:#6b8072"><a href="#193824" label="[19:38:24]">&lt;stikonas&gt;</a></span><span class="message">although, this can be done in advance...</span></div><div class="line" id="193846"><span class="nick" style="color:#6b8072"><a href="#193846" label="[19:38:46]">&lt;stikonas&gt;</a></span><span class="message">while we still have bash outside bootstrap environment</span></div><div class="line" id="194110"><span class="nick" style="color:#bc80bd"><a href="#194110" label="[19:41:10]">&lt;janneke&gt;</a></span><span class="message">stikonas: yes, or otherwise script around it (i.e., do what the relatively simple scripts/mescc.in script does)</span></div><div class="line" id="194239"><span class="nick" style="color:#6b8072"><a href="#194239" label="[19:42:39]">&lt;stikonas&gt;</a></span><span class="message">oh, actually .in file seems to run just fine...</span></div><div class="line" id="194249"><span class="nick" style="color:#6b8072"><a href="#194249" label="[19:42:49]">&lt;stikonas&gt;</a></span><span class="message">./bin/mes -e main ./scripts/mescc.scm.in</span></div><div class="line" id="194340"><span class="nick" style="color:#bc80bd"><a href="#194340" label="[19:43:40]">&lt;janneke&gt;</a></span><span class="message">ah, that's a nice trick</span></div><div class="line" id="194411"><span class="nick" style="color:#bc80bd"><a href="#194411" label="[19:44:11]">&lt;janneke&gt;</a></span><span class="message">i was going to say: the current guix bootstrap needs to create it's own mescc too, and does it like this: <a rel="nofollow" href="https://git.savannah.gnu.org/cgit/guix.git/tree/gnu/packages/commencement.scm?h=master#n318">https://git.savannah.gnu.org/cgit/guix.git/tree/gnu/packages/commencement.scm?h=master#n318</a> </span></div><div class="line" id="194534"><span class="nick" style="color:#6b8072"><a href="#194534" label="[19:45:34]">&lt;stikonas&gt;</a></span><span class="message">fossy:  had some other more verbose trick, I might try that one first...</span></div><div class="line" id="194620"><span class="nick" style="color:#6b8072"><a href="#194620" label="[19:46:20]">&lt;stikonas&gt;</a></span><span class="message">anyway, I have something to try now and try to get it running in live initrd environment</span></div><div class="line" id="194928"><span class="nick" style="color:#8dd3c7"><a href="#194928" label="[19:49:28]">&lt;rain1&gt;</a></span><span class="message">  CCLD     bin/mes-mescc</span></div><div class="line" id="194930"><span class="nick" style="color:#8dd3c7"><a href="#194930" label="[19:49:30]">&lt;rain1&gt;</a></span><span class="message">   \o/</span></div><div class="line" id="194932"><span class="nick" style="color:#8dd3c7"><a href="#194932" label="[19:49:32]">&lt;rain1&gt;</a></span><span class="message">exciting!</span></div><div class="line" id="195003"><span class="nick" style="color:#8dd3c7"><a href="#195003" label="[19:50:03]">&lt;rain1&gt;</a></span><span class="message">mes-mescc was built</span></div><div class="line" id="195012"><span class="nick" style="color:#bc80bd"><a href="#195012" label="[19:50:12]">&lt;janneke&gt;</a></span><span class="message">-\o/-</span></div><div class="line" id="195250"><span class="nick" style="color:#bc80bd"><a href="#195250" label="[19:52:50]">&lt;janneke&gt;</a></span><span class="message">on to the mes-0.23 branch of bootstrappable tinycc <a rel="nofollow" href="https://gitlab.com/janneke/tinycc/-/tree/mes-0.23">https://gitlab.com/janneke/tinycc/-/tree/mes-0.23</a> </span></div><div class="line" id="195328"><span class="nick" style="color:#8dd3c7"><a href="#195328" label="[19:53:28]">&lt;rain1&gt;</a></span><span class="message">:D</span></div><div class="line" id="195703"><span class="nick" style="color:#8dd3c7"><a href="#195703" label="[19:57:03]">&lt;rain1&gt;</a></span><span class="message">for building tinycc with mes-mescc, i have a problem that mes-mescc is not finding boot-0.scm. That file is at ../mes/mes/module/mes/boot-0.scm</span></div><div class="line" id="195714"><span class="nick" style="color:#8dd3c7"><a href="#195714" label="[19:57:14]">&lt;rain1&gt;</a></span><span class="message">is there a variable or some way to point mescc to that?</span></div><div class="line" id="195723"><span class="nick" style="color:#8dd3c7"><a href="#195723" label="[19:57:23]">&lt;rain1&gt;</a></span><span class="message">or did i miscompile in some way that it lost track of it</span></div><div class="line" id="200132"><span class="nick" style="color:#bc80bd"><a href="#200132" label="[20:01:32]">&lt;janneke&gt;</a></span><span class="message">rain1: that's probably MES_PREFIX, but it should be correctly set in mes' scripts/mescc when you ran configure.sh in mes</span></div><div class="line" id="200407"><span class="nick" style="color:#bc80bd"><a href="#200407" label="[20:04:07]">&lt;janneke&gt;</a></span><span class="message">rain1: did you install mes, by running install.sh?</span></div><div class="line" id="200502"><span class="nick" style="color:#8dd3c7"><a href="#200502" label="[20:05:02]">&lt;rain1&gt;</a></span><span class="message">I skipped install! thanks</span></div><div class="line" id="200509"><span class="nick" style="color:#8dd3c7"><a href="#200509" label="[20:05:09]">&lt;rain1&gt;</a></span><span class="message">I just forgot to do it</span></div><div class="line" id="200617"><span class="nick" style="color:#bc80bd"><a href="#200617" label="[20:06:17]">&lt;janneke&gt;</a></span><span class="message">for development, it can be run from the build tree, but that requires some trickery (setting MESCC, MES_LIB MES_SOURCE all just right)</span></div><div class="line" id="200927"><span class="nick" style="color:#8dd3c7"><a href="#200927" label="[20:09:27]">&lt;rain1&gt;</a></span><span class="message"> <a rel="nofollow" href="https://bpa.st/YMJA">https://bpa.st/YMJA</a>  I tried setting up those vars and it helped but I am getting a segfault whn trying to use mescc</span></div><div class="line" id="201000"><span class="nick" style="color:#6b8072"><a href="#201000" label="[20:10:00]">&lt;stikonas&gt;</a></span><span class="message">MES_ARENA?</span></div><div class="line" id="201004"><span class="nick" style="color:#6b8072"><a href="#201004" label="[20:10:04]">&lt;stikonas&gt;</a></span><span class="message">maybe need that one too</span></div><div class="line" id="201020"><span class="nick" style="color:#8dd3c7"><a href="#201020" label="[20:10:20]">&lt;rain1&gt;</a></span><span class="message">what do I set it to?</span></div><div class="line" id="201036"><span class="nick" style="color:#6b8072"><a href="#201036" label="[20:10:36]">&lt;stikonas&gt;</a></span><span class="message">maybe</span></div><div class="line" id="201039"><span class="nick" style="color:#6b8072"><a href="#201039" label="[20:10:39]">&lt;stikonas&gt;</a></span><span class="message">MES_ARENA=20000000</span></div><div class="line" id="201040"><span class="nick" style="color:#6b8072"><a href="#201040" label="[20:10:40]">&lt;stikonas&gt;</a></span><span class="message">MES_MAX_ARENA=20000000</span></div><div class="line" id="201042"><span class="nick" style="color:#6b8072"><a href="#201042" label="[20:10:42]">&lt;stikonas&gt;</a></span><span class="message">MES_STACK=5000000</span></div><div class="line" id="201049"><span class="nick" style="color:#6b8072"><a href="#201049" label="[20:10:49]">&lt;stikonas&gt;</a></span><span class="message">but I'm not sure why these numbers...</span></div><div class="line" id="201102"><span class="nick" style="color:#6b8072"><a href="#201102" label="[20:11:02]">&lt;stikonas&gt;</a></span><span class="message">probably just has to be large enough</span></div><div class="line" id="201108"><span class="nick" style="color:#8dd3c7"><a href="#201108" label="[20:11:08]">&lt;rain1&gt;</a></span><span class="message">ah right</span></div><div class="line" id="201224"><span class="nick" style="color:#8dd3c7"><a href="#201224" label="[20:12:24]">&lt;rain1&gt;</a></span><span class="message"> <a rel="nofollow" href="https://bpa.st/GORQ">https://bpa.st/GORQ</a>  trhs is what happens when I try to use mes-mescc on its own btw</span></div><div class="line" id="201229"><span class="nick" style="color:#bc80bd"><a href="#201229" label="[20:12:29]">&lt;janneke&gt;</a></span><span class="message">they are settings for the garbage collector,</span></div><div class="line" id="201329"><span class="nick" style="color:#bc80bd"><a href="#201329" label="[20:13:29]">&lt;janneke&gt;</a></span><span class="message">rain1: what is mes-mescc?  this looks like mes itself</span></div><div class="line" id="201443"><span class="nick" style="color:#8dd3c7"><a href="#201443" label="[20:14:43]">&lt;rain1&gt;</a></span><span class="message">ahh I was invoking the totally wrong program!</span></div><div class="line" id="201451"><span class="nick" style="color:#8dd3c7"><a href="#201451" label="[20:14:51]">&lt;rain1&gt;</a></span><span class="message">so I actually need to use ../mes/out/bin/mescc</span></div><div class="line" id="201457"><span class="nick" style="color:#bc80bd"><a href="#201457" label="[20:14:57]">&lt;janneke&gt;</a></span><span class="message">yes</span></div><div class="line" id="201518"><span class="nick" style="color:#bc80bd"><a href="#201518" label="[20:15:18]">&lt;janneke&gt;</a></span><span class="message">mes is the scheme interpreter, and it doesn't know 'int' :-)</span></div><div class="line" id="201528"><span class="nick" style="color:#8dd3c7"><a href="#201528" label="[20:15:28]">&lt;rain1&gt;</a></span><span class="message">brilliant, mescc is compiling hw.c</span></div><div class="line" id="201542"><span class="nick" style="color:#bc80bd"><a href="#201542" label="[20:15:42]">&lt;janneke&gt;</a></span><span class="message">good</span></div><div class="line" id="201610"><span class="nick" style="color:#6b8072"><a href="#201610" label="[20:16:10]">&lt;stikonas&gt;</a></span><span class="message">hmm, I have a bit less luck in fossy's initrd environment...</span></div><div class="line" id="201628"><span class="nick" style="color:#6b8072"><a href="#201628" label="[20:16:28]">&lt;stikonas&gt;</a></span><span class="message">/after/bin/mes --no-auto-compile -e main /after/bin/mescc.scm -- -c -I include -I include/linux/x86 lib/linux/x86-mes-mescc/crt1.c</span></div><div class="line" id="201629"><span class="nick" style="color:#6b8072"><a href="#201629" label="[20:16:29]">&lt;stikonas&gt;</a></span><span class="message">assert fail: x-&gt;type == TSTRUCT</span></div><div class="line" id="201758"><span class="nick" style="color:#6b8072"><a href="#201758" label="[20:17:58]">&lt;stikonas&gt;</a></span><span class="message">oh, maybe because host is not set correctly...</span></div><div class="line" id="201807"><span class="nick" style="color:#6b8072"><a href="#201807" label="[20:18:07]">&lt;stikonas&gt;</a></span><span class="message">due to mescc.scm.in hack</span></div><div class="line" id="202718"><span class="nick" style="color:#6b8072"><a href="#202718" label="[20:27:18]">&lt;stikonas&gt;</a></span><span class="message">but tinycc is being compiled outside live environment here, so that's good</span></div><div class="line" id="203108"><span class="nick" style="color:#389600"><a href="#203108" label="[20:31:08]">*</a></span><span class="message">janneke cherry-picks `abort' from the wip-module branch</span></div><div class="line" id="212046"><span class="nick" style="color:#2e2a4a"><a href="#212046" label="[21:20:46]">&lt;xentrac&gt;</a></span><span class="message">Happy Isaac Newton's birthday!</span></div><div class="line" id="214733"><span class="nick" style="color:#80b1d3"><a href="#214733" label="[21:47:33]">&lt;fossy&gt;</a></span><span class="message">stikonas: hmmmm, that should work fine</span></div><div class="line" id="214923"><span class="nick" style="color:#6b8072"><a href="#214923" label="[21:49:23]">&lt;stikonas&gt;</a></span><span class="message">fossy: it will, just need to fix some dirs, but dinner first</span></div><div class="line" id="214928"><span class="nick" style="color:#6b8072"><a href="#214928" label="[21:49:28]">&lt;stikonas&gt;</a></span><span class="message">I think nyacc was pointing to the wrong dir</span></div><div class="line" id="215015"><span class="nick" style="color:#80b1d3"><a href="#215015" label="[21:50:15]">&lt;fossy&gt;</a></span><span class="message">stikonas: inside the live environment, nyacc's modules are already inside the mes module dir</span></div><div class="line" id="215118"><span class="nick" style="color:#80b1d3"><a href="#215118" label="[21:51:18]">&lt;fossy&gt;</a></span><span class="message">Although that might still be in my local tree :x</span></div><div class="line" id="220530"><span class="nick" style="color:#6b8072"><a href="#220530" label="[22:05:30]">&lt;stikonas&gt;</a></span><span class="message">well, I switched to mes-m2 branch, so it's probably not in my tree</span></div><div class="line" id="221436"><span class="nick" style="color:#6b8072"><a href="#221436" label="[22:14:36]">&lt;stikonas&gt;</a></span><span class="message">fossy: so for now I'm seeing errors like this unhandled exception: error: ((&quot;mescc: file not found: \&quot;x86-mes/x86.M1\&quot;&quot;)) have you seen then before?</span></div><div class="line" id="221554"><span class="nick" style="color:#6b8072"><a href="#221554" label="[22:15:54]">&lt;stikonas&gt;</a></span><span class="message">probably something is missing in my mes.kaem...</span></div><div class="line" id="222424"><span class="nick" style="color:#80b1d3"><a href="#222424" label="[22:24:24]">&lt;fossy&gt;</a></span><span class="message">stikonas: there is a missing link i believe</span></div><div class="line" id="222547"><span class="nick" style="color:#6b8072"><a href="#222547" label="[22:25:47]">&lt;stikonas&gt;</a></span><span class="message">yeah, I thimk there is, rootfs.sh creates it</span></div><div class="line" id="222551"><span class="nick" style="color:#6b8072"><a href="#222551" label="[22:25:51]">&lt;stikonas&gt;</a></span><span class="message">but I still get this...</span></div><div class="line" id="222709"><span class="nick" style="color:#6b8072"><a href="#222709" label="[22:27:09]">&lt;stikonas&gt;</a></span><span class="message">maybe I broke it somehow...</span></div><div class="line" id="222713"><span class="nick" style="color:#80b1d3"><a href="#222713" label="[22:27:13]">&lt;fossy&gt;</a></span><span class="message">can you run file sysa/tmp/after/mes-0.22/x86-mes ?</span></div><div class="line" id="222720"><span class="nick" style="color:#80b1d3"><a href="#222720" label="[22:27:20]">&lt;fossy&gt;</a></span><span class="message">from outside the qemu env, ofc</span></div><div class="line" id="222732"><span class="nick" style="color:#6b8072"><a href="#222732" label="[22:27:32]">&lt;stikonas&gt;</a></span><span class="message">well, I not have just sysa/tmp/after/mes/</span></div><div class="line" id="222738"><span class="nick" style="color:#6b8072"><a href="#222738" label="[22:27:38]">&lt;stikonas&gt;</a></span><span class="message">renamed those but ok</span></div><div class="line" id="222810"><span class="nick" style="color:#80b1d3"><a href="#222810" label="[22:28:10]">&lt;fossy&gt;</a></span><span class="message">wait so you have a diff between master and what you're currently running?</span></div><div class="line" id="222835"><span class="nick" style="color:#6b8072"><a href="#222835" label="[22:28:35]">&lt;stikonas&gt;</a></span><span class="message">fossy: yeah, trying to switch to non blobbed mes</span></div><div class="line" id="222845"><span class="nick" style="color:#80b1d3"><a href="#222845" label="[22:28:45]">&lt;fossy&gt;</a></span><span class="message">stikonas: ah, can i have a look at your diff</span></div><div class="line" id="222853"><span class="nick" style="color:#6b8072"><a href="#222853" label="[22:28:53]">&lt;stikonas&gt;</a></span><span class="message">sure, let me upload a branch</span></div><div class="line" id="222857"><span class="nick" style="color:#80b1d3"><a href="#222857" label="[22:28:57]">&lt;fossy&gt;</a></span><span class="message">thanks for doing that, i was going to do that next, but you beat me to it</span></div><div class="line" id="222913"><span class="nick" style="color:#6b8072"><a href="#222913" label="[22:29:13]">&lt;stikonas&gt;</a></span><span class="message">ls -lh sysa/tmp/after/mes/x86-mes</span></div><div class="line" id="222914"><span class="nick" style="color:#6b8072"><a href="#222914" label="[22:29:14]">&lt;stikonas&gt;</a></span><span class="message">lrwxrwxrwx 1 andrius andrius 1 2021-01-04 21:27 sysa/tmp/after/mes/x86-mes -&gt; .</span></div><div class="line" id="222916"><span class="nick" style="color:#6b8072"><a href="#222916" label="[22:29:16]">&lt;stikonas&gt;</a></span><span class="message">andrius@laptop ~/repositories/bootstrap/live-bootstrap $</span></div><div class="line" id="222927"><span class="nick" style="color:#6b8072"><a href="#222927" label="[22:29:27]">&lt;stikonas&gt;</a></span><span class="message">well, it's not working yet...</span></div><div class="line" id="222934"><span class="nick" style="color:#6b8072"><a href="#222934" label="[22:29:34]">&lt;stikonas&gt;</a></span><span class="message">but maybe two pairs of eyes will be quicker</span></div><div class="line" id="222934"><span class="nick" style="color:#80b1d3"><a href="#222934" label="[22:29:34]">&lt;fossy&gt;</a></span><span class="message">expected</span></div><div class="line" id="222943"><span class="nick" style="color:#80b1d3"><a href="#222943" label="[22:29:43]">&lt;fossy&gt;</a></span><span class="message">that symlink is expected i mean</span></div><div class="line" id="222945"><span class="nick" style="color:#80b1d3"><a href="#222945" label="[22:29:45]">&lt;fossy&gt;</a></span><span class="message">not that its not working</span></div><div class="line" id="222956"><span class="nick" style="color:#80b1d3"><a href="#222956" label="[22:29:56]">&lt;fossy&gt;</a></span><span class="message">probably something changes between wip-m2 and mes-0.22</span></div><div class="line" id="223241"><span class="nick" style="color:#6b8072"><a href="#223241" label="[22:32:41]">&lt;stikonas&gt;</a></span><span class="message">fossy: <a rel="nofollow" href="https://github.com/stikonas/live-bootstrap/tree/mes-m2">https://github.com/stikonas/live-bootstrap/tree/mes-m2</a> </span></div><div class="line" id="223318"><span class="nick" style="color:#6b8072"><a href="#223318" label="[22:33:18]">&lt;stikonas&gt;</a></span><span class="message">I've split it into 3 commits...</span></div><div class="line" id="223456"><span class="nick" style="color:#80b1d3"><a href="#223456" label="[22:34:56]">&lt;fossy&gt;</a></span><span class="message">cool</span></div><div class="line" id="223620"><span class="nick" style="color:#6b8072"><a href="#223620" label="[22:36:20]">&lt;stikonas&gt;</a></span><span class="message">argh, I didn't push mescc.scm from my local checkout</span></div><div class="line" id="223812"><span class="nick" style="color:#6b8072"><a href="#223812" label="[22:38:12]">&lt;stikonas&gt;</a></span><span class="message">(for now I put it here <a rel="nofollow" href="https://paste.debian.net/1179723/">https://paste.debian.net/1179723/</a>) </span></div><div class="line" id="223921"><span class="nick" style="color:#6b8072"><a href="#223921" label="[22:39:21]">&lt;stikonas&gt;</a></span><span class="message">I wonder if gash can run in mes...</span></div><div class="line" id="223927"><span class="nick" style="color:#80b1d3"><a href="#223927" label="[22:39:27]">&lt;fossy&gt;</a></span><span class="message">where do i need to put that in your tree</span></div><div class="line" id="223934"><span class="nick" style="color:#80b1d3"><a href="#223934" label="[22:39:34]">&lt;fossy&gt;</a></span><span class="message">A: no gash does not run in mes</span></div><div class="line" id="223935"><span class="nick" style="color:#6b8072"><a href="#223935" label="[22:39:35]">&lt;stikonas&gt;</a></span><span class="message">in mes/scripts/</span></div><div class="line" id="223936"><span class="nick" style="color:#80b1d3"><a href="#223936" label="[22:39:36]">&lt;fossy&gt;</a></span><span class="message">i've tried before</span></div><div class="line" id="223938"><span class="nick" style="color:#80b1d3"><a href="#223938" label="[22:39:38]">&lt;fossy&gt;</a></span><span class="message">k</span></div><div class="line" id="224008"><span class="nick" style="color:#6b8072"><a href="#224008" label="[22:40:08]">&lt;stikonas&gt;</a></span><span class="message">it might be that might mescc.scm is unfinished</span></div><div class="line" id="224016"><span class="nick" style="color:#6b8072"><a href="#224016" label="[22:40:16]">&lt;stikonas&gt;</a></span><span class="message">maybe need to adjust includedir or libdir...</span></div><div class="line" id="224035"><span class="nick" style="color:#6b8072"><a href="#224035" label="[22:40:35]">&lt;stikonas&gt;</a></span><span class="message">it's not pointing to /after....</span></div><div class="line" id="224120"><span class="nick" style="color:#80b1d3"><a href="#224120" label="[22:41:20]">&lt;fossy&gt;</a></span><span class="message">one thing, please update the gitlab janneke's mes submodule to use https not ssh</span></div><div class="line" id="224126"><span class="nick" style="color:#80b1d3"><a href="#224126" label="[22:41:26]">&lt;fossy&gt;</a></span><span class="message">because it requires auth over ssh</span></div><div class="line" id="224144"><span class="nick" style="color:#6b8072"><a href="#224144" label="[22:41:44]">&lt;stikonas&gt;</a></span><span class="message">argh ok...</span></div><div class="line" id="224236"><span class="nick" style="color:#80b1d3"><a href="#224236" label="[22:42:36]">&lt;fossy&gt;</a></span><span class="message">hm, no your mescc.scm looks sane, %prefix evaluates to /after, andd so%libdir is /after/lib</span></div><div class="line" id="224242"><span class="nick" style="color:#80b1d3"><a href="#224242" label="[22:42:42]">&lt;fossy&gt;</a></span><span class="message">and %includedir is /after/include</span></div><div class="line" id="224251"><span class="nick" style="color:#80b1d3"><a href="#224251" label="[22:42:51]">&lt;fossy&gt;</a></span><span class="message">but that dosen't meatter bc it's not even used iirc</span></div><div class="line" id="224513"><span class="nick" style="color:#6b8072"><a href="#224513" label="[22:45:13]">&lt;stikonas&gt;</a></span><span class="message">ok, I force pushed ssh-&gt;https change</span></div><div class="line" id="224611"><span class="nick" style="color:#80b1d3"><a href="#224611" label="[22:46:11]">&lt;fossy&gt;</a></span><span class="message">:)</span></div><div class="line" id="224745"><span class="nick" style="color:#80b1d3"><a href="#224745" label="[22:47:45]">&lt;fossy&gt;</a></span><span class="message">there's a few more things to clear up but i'll do those when you PR, let's get this fixed first</span></div><div class="line" id="224818"><span class="nick" style="color:#6b8072"><a href="#224818" label="[22:48:18]">&lt;stikonas&gt;</a></span><span class="message">well, first this needs to work...</span></div><div class="line" id="224825"><span class="nick" style="color:#80b1d3"><a href="#224825" label="[22:48:25]">&lt;fossy&gt;</a></span><span class="message">ya</span></div><div class="line" id="224827"><span class="nick" style="color:#6b8072"><a href="#224827" label="[22:48:27]">&lt;stikonas&gt;</a></span><span class="message">and I'm getting a bit confused...</span></div><div class="line" id="224850"><span class="nick" style="color:#6b8072"><a href="#224850" label="[22:48:50]">&lt;stikonas&gt;</a></span><span class="message">I was able to compile mes via bash and configure.sh but we don't have those...</span></div><div class="line" id="225108"><span class="nick" style="color:#80b1d3"><a href="#225108" label="[22:51:08]">&lt;fossy&gt;</a></span><span class="message">stikonas: change the ln lie for x86 mes to</span></div><div class="line" id="225111"><span class="nick" style="color:#80b1d3"><a href="#225111" label="[22:51:11]">&lt;fossy&gt;</a></span><span class="message">ln -s lib/x86-mes tmp/after/mes/x86-mes</span></div><div class="line" id="225114"><span class="nick" style="color:#80b1d3"><a href="#225114" label="[22:51:14]">&lt;fossy&gt;</a></span><span class="message">instead of ln -s .</span></div><div class="line" id="225126"><span class="nick" style="color:#80b1d3"><a href="#225126" label="[22:51:26]">&lt;fossy&gt;</a></span><span class="message">now i'm getting unhandled exception: unbound-variable: (abort)</span></div><div class="line" id="225129"><span class="nick" style="color:#80b1d3"><a href="#225129" label="[22:51:29]">&lt;fossy&gt;</a></span><span class="message">over and over and over</span></div><div class="line" id="225136"><span class="nick" style="color:#6b8072"><a href="#225136" label="[22:51:36]">&lt;stikonas&gt;</a></span><span class="message">yeah, I was getting those too</span></div><div class="line" id="225144"><span class="nick" style="color:#6b8072"><a href="#225144" label="[22:51:44]">&lt;stikonas&gt;</a></span><span class="message">that error I pasted was from the top</span></div><div class="line" id="225226"><span class="nick" style="color:#80b1d3"><a href="#225226" label="[22:52:26]">&lt;fossy&gt;</a></span><span class="message">idk what's up with that</span></div><div class="line" id="225228"><span class="nick" style="color:#80b1d3"><a href="#225228" label="[22:52:28]">&lt;fossy&gt;</a></span><span class="message">janneke: help?</span></div><div class="line" id="225240"><span class="nick" style="color:#6b8072"><a href="#225240" label="[22:52:40]">&lt;stikonas&gt;</a></span><span class="message">let me try to see if error is still there</span></div><div class="line" id="225301"><span class="nick" style="color:#80b1d3"><a href="#225301" label="[22:53:01]">&lt;fossy&gt;</a></span><span class="message">oh that didnt fix it nvm</span></div><div class="line" id="225357"><span class="nick" style="color:#6b8072"><a href="#225357" label="[22:53:57]">&lt;stikonas&gt;</a></span><span class="message">well, that link change was one of the things I tried changing manually...</span></div><div class="line" id="225406"><span class="nick" style="color:#6b8072"><a href="#225406" label="[22:54:06]">&lt;stikonas&gt;</a></span><span class="message">I even tried mkdir and copy contents</span></div><div class="line" id="225412"><span class="nick" style="color:#80b1d3"><a href="#225412" label="[22:54:12]">&lt;fossy&gt;</a></span><span class="message">actually the link change worked for me</span></div><div class="line" id="225434"><span class="nick" style="color:#6b8072"><a href="#225434" label="[22:54:34]">&lt;stikonas&gt;</a></span><span class="message">well, yeah, the link is pointing to the new location</span></div><div class="line" id="225450"><span class="nick" style="color:#80b1d3"><a href="#225450" label="[22:54:50]">&lt;fossy&gt;</a></span><span class="message">then that gets rid of the ((&quot;mescc: file not found: \&quot;x86-mes/x86.M1\&quot;&quot;)) error for me</span></div><div class="line" id="225450"><span class="nick" style="color:#6b8072"><a href="#225450" label="[22:54:50]">&lt;stikonas&gt;</a></span><span class="message">but I think mescc was still complaining about x86.M1 file at the top of exception list</span></div><div class="line" id="225453"><span class="nick" style="color:#6b8072"><a href="#225453" label="[22:54:53]">&lt;stikonas&gt;</a></span><span class="message">oh</span></div><div class="line" id="225502"><span class="nick" style="color:#6b8072"><a href="#225502" label="[22:55:02]">&lt;stikonas&gt;</a></span><span class="message">ok that's good then...</span></div><div class="line" id="225518"><span class="nick" style="color:#80b1d3"><a href="#225518" label="[22:55:18]">&lt;fossy&gt;</a></span><span class="message">or not</span></div><div class="line" id="225526"><span class="nick" style="color:#80b1d3"><a href="#225526" label="[22:55:26]">&lt;fossy&gt;</a></span><span class="message">what did i jus tdo to get rid of it lmao</span></div><div class="line" id="225731"><span class="nick" style="color:#80b1d3"><a href="#225731" label="[22:57:31]">&lt;fossy&gt;</a></span><span class="message">oh nothing</span></div><div class="line" id="225750"><span class="nick" style="color:#6b8072"><a href="#225750" label="[22:57:50]">&lt;stikonas&gt;</a></span><span class="message">fossy: it's still there</span></div><div class="line" id="225756"><span class="nick" style="color:#6b8072"><a href="#225756" label="[22:57:56]">&lt;stikonas&gt;</a></span><span class="message">unhandled exception: error: ((&quot;mescc: file not found: \&quot;x86-mes/x86.M1\&quot;&quot;))</span></div><div class="line" id="225850"><span class="nick" style="color:#6b8072"><a href="#225850" label="[22:58:50]">&lt;stikonas&gt;</a></span><span class="message">even though the link points to x86-mes -&gt; lib/x86-mes</span></div><div class="line" id="225908"><span class="nick" style="color:#6b8072"><a href="#225908" label="[22:59:08]">&lt;stikonas&gt;</a></span><span class="message">but somehow I guess search is not from $PWD</span></div><div class="line" id="225924"><span class="nick" style="color:#80b1d3"><a href="#225924" label="[22:59:24]">&lt;fossy&gt;</a></span><span class="message">yeah ik</span></div><div class="line" id="230033"><span class="nick" style="color:#80b1d3"><a href="#230033" label="[23:00:33]">&lt;fossy&gt;</a></span><span class="message">this makes basically no sense to me</span></div><div class="line" id="230041"><span class="nick" style="color:#80b1d3"><a href="#230041" label="[23:00:41]">&lt;fossy&gt;</a></span><span class="message">x86-mes/x86.M1 def exists...</span></div><div class="line" id="230455"><span class="nick" style="color:#6b8072"><a href="#230455" label="[23:04:55]">&lt;stikonas&gt;</a></span><span class="message">yeah, I don't understand it either</span></div><div class="line" id="230731"><span class="nick" style="color:#6b8072"><a href="#230731" label="[23:07:31]">&lt;stikonas&gt;</a></span><span class="message">fossy: same error happens if I compile very basic file</span></div><div class="line" id="230745"><span class="nick" style="color:#6b8072"><a href="#230745" label="[23:07:45]">&lt;stikonas&gt;</a></span><span class="message">int main(void) { return 42; }</span></div><div class="line" id="230757"><span class="nick" style="color:#6b8072"><a href="#230757" label="[23:07:57]">&lt;stikonas&gt;</a></span><span class="message">but I guess that's expected</span></div><div class="line" id="233052"><span class="nick" style="color:#80b1d3"><a href="#233052" label="[23:30:52]">&lt;fossy&gt;</a></span><span class="message">stikonas: got it</span></div><div class="line" id="233056"><span class="nick" style="color:#80b1d3"><a href="#233056" label="[23:30:56]">&lt;fossy&gt;</a></span><span class="message">libdir=/after/mes/lib</span></div><div class="line" id="233101"><span class="nick" style="color:#80b1d3"><a href="#233101" label="[23:31:01]">&lt;fossy&gt;</a></span><span class="message">just set that before any of the scripts are run</span></div><div class="line" id="233111"><span class="nick" style="color:#80b1d3"><a href="#233111" label="[23:31:11]">&lt;fossy&gt;</a></span><span class="message">s/any of the scripts/mes-m2</span></div><div class="line" id="233227"><span class="nick" style="color:#6b8072"><a href="#233227" label="[23:32:27]">&lt;stikonas&gt;</a></span><span class="message">ok, let me try</span></div><div class="line" id="233344"><span class="nick" style="color:#80b1d3"><a href="#233344" label="[23:33:44]">&lt;fossy&gt;</a></span><span class="message">bc it was looking in /after/lib for x86-mes and co</span></div><div class="line" id="233359"><span class="nick" style="color:#6b8072"><a href="#233359" label="[23:33:59]">&lt;stikonas&gt;</a></span><span class="message">yep, works</span></div><div class="line" id="233406"><span class="nick" style="color:#6b8072"><a href="#233406" label="[23:34:06]">&lt;stikonas&gt;</a></span><span class="message">ok, at least the first steip</span></div><div class="line" id="233412"><span class="nick" style="color:#6b8072"><a href="#233412" label="[23:34:12]">&lt;stikonas&gt;</a></span><span class="message">I think then I need to remove HAVE_CONFIG...</span></div><div class="line" id="233420"><span class="nick" style="color:#80b1d3"><a href="#233420" label="[23:34:20]">&lt;fossy&gt;</a></span><span class="message">you only changed it for the first one</span></div><div class="line" id="233423"><span class="nick" style="color:#80b1d3"><a href="#233423" label="[23:34:23]">&lt;fossy&gt;</a></span><span class="message">you need to set HAVE_CONFIG=0</span></div><div class="line" id="233427"><span class="nick" style="color:#80b1d3"><a href="#233427" label="[23:34:27]">&lt;fossy&gt;</a></span><span class="message">for all of them</span></div><div class="line" id="233428"><span class="nick" style="color:#80b1d3"><a href="#233428" label="[23:34:28]">&lt;fossy&gt;</a></span><span class="message">just do a sed</span></div><div class="line" id="233435"><span class="nick" style="color:#6b8072"><a href="#233435" label="[23:34:35]">&lt;stikonas&gt;</a></span><span class="message">yeah, well, I didn't change all of them yet because I was only testing...</span></div><div class="line" id="233441"><span class="nick" style="color:#80b1d3"><a href="#233441" label="[23:34:41]">&lt;fossy&gt;</a></span><span class="message">ya cool</span></div><div class="line" id="233541"><span class="nick" style="color:#6b8072"><a href="#233541" label="[23:35:41]">&lt;stikonas&gt;</a></span><span class="message">I also need to sort out mescc.scm thing</span></div><div class="line" id="233548"><span class="nick" style="color:#6b8072"><a href="#233548" label="[23:35:48]">&lt;stikonas&gt;</a></span><span class="message">probably just copy to some folder in sysa</span></div><div class="line" id="233549"><span class="nick" style="color:#80b1d3"><a href="#233549" label="[23:35:49]">&lt;fossy&gt;</a></span><span class="message">what's wrong with mescc.scm?</span></div><div class="line" id="233604"><span class="nick" style="color:#80b1d3"><a href="#233604" label="[23:36:04]">&lt;fossy&gt;</a></span><span class="message">i have no problem with just commiting it into the submodule</span></div><div class="line" id="233605"><span class="nick" style="color:#6b8072"><a href="#233605" label="[23:36:05]">&lt;stikonas&gt;</a></span><span class="message">well, I just copied it into mes tree for now</span></div><div class="line" id="233607"><span class="nick" style="color:#80b1d3"><a href="#233607" label="[23:36:07]">&lt;fossy&gt;</a></span><span class="message">if that works</span></div><div class="line" id="233609"><span class="nick" style="color:#80b1d3"><a href="#233609" label="[23:36:09]">&lt;fossy&gt;</a></span><span class="message">not sure if it works</span></div><div class="line" id="233616"><span class="nick" style="color:#6b8072"><a href="#233616" label="[23:36:16]">&lt;stikonas&gt;</a></span><span class="message">yeah, I'm not sure either</span></div><div class="line" id="233622"><span class="nick" style="color:#6b8072"><a href="#233622" label="[23:36:22]">&lt;stikonas&gt;</a></span><span class="message">it might work but maybe will make updates harder</span></div><div class="line" id="233641"><span class="nick" style="color:#80b1d3"><a href="#233641" label="[23:36:41]">&lt;fossy&gt;</a></span><span class="message">it's just a rebase</span></div><div class="line" id="233646"><span class="nick" style="color:#6b8072"><a href="#233646" label="[23:36:46]">&lt;stikonas&gt;</a></span><span class="message">well, yeah...</span></div><div class="line" id="233650"><span class="nick" style="color:#6b8072"><a href="#233650" label="[23:36:50]">&lt;stikonas&gt;</a></span><span class="message">ok, I can commit it there...</span></div><div class="line" id="233700"><span class="nick" style="color:#80b1d3"><a href="#233700" label="[23:37:00]">&lt;fossy&gt;</a></span><span class="message">yeah, if it will work in the submodule</span></div><div class="line" id="233708"><span class="nick" style="color:#80b1d3"><a href="#233708" label="[23:37:08]">&lt;fossy&gt;</a></span><span class="message">not sure if it tracks downstream commits in submodules</span></div><div class="line" id="233709"><span class="nick" style="color:#6b8072"><a href="#233709" label="[23:37:09]">&lt;stikonas&gt;</a></span><span class="message">I guess it should</span></div><div class="line" id="233717"><span class="nick" style="color:#6b8072"><a href="#233717" label="[23:37:17]">&lt;stikonas&gt;</a></span><span class="message">it doesn't track automatically</span></div><div class="line" id="233723"><span class="nick" style="color:#6b8072"><a href="#233723" label="[23:37:23]">&lt;stikonas&gt;</a></span><span class="message">you have to explicitely git fetch them</span></div><div class="line" id="233727"><span class="nick" style="color:#80b1d3"><a href="#233727" label="[23:37:27]">&lt;fossy&gt;</a></span><span class="message">right yeah</span></div><div class="line" id="233738"><span class="nick" style="color:#6b8072"><a href="#233738" label="[23:37:38]">&lt;stikonas&gt;</a></span><span class="message">I think in terms of outer repo, it's just a singled .gitmodules file</span></div><div class="line" id="233752"><span class="nick" style="color:#6b8072"><a href="#233752" label="[23:37:52]">&lt;stikonas&gt;</a></span><span class="message">and inner repo is just independent git repo, you can do whatever with it</span></div><div class="line" id="233817"><span class="nick" style="color:#6b8072"><a href="#233817" label="[23:38:17]">&lt;stikonas&gt;</a></span><span class="message">argh, still more errors...</span></div><div class="line" id="233820"><span class="nick" style="color:#6b8072"><a href="#233820" label="[23:38:20]">&lt;stikonas&gt;</a></span><span class="message">even after sed</span></div><div class="line" id="233825"><span class="nick" style="color:#80b1d3"><a href="#233825" label="[23:38:25]">&lt;fossy&gt;</a></span><span class="message">unhandled exception: system-error: ((&quot;No such file or directory&quot; . &quot;lib/linux/x86-mes-mescc/mini.c&quot;))</span></div><div class="line" id="233834"><span class="nick" style="color:#80b1d3"><a href="#233834" label="[23:38:34]">&lt;fossy&gt;</a></span><span class="message">you'll need to update them for the changes</span></div><div class="line" id="233840"><span class="nick" style="color:#6b8072"><a href="#233840" label="[23:38:40]">&lt;stikonas&gt;</a></span><span class="message">oh ok...</span></div><div class="line" id="233843"><span class="nick" style="color:#6b8072"><a href="#233843" label="[23:38:43]">&lt;stikonas&gt;</a></span><span class="message">I'll see...</span></div><div class="line" id="233847"><span class="nick" style="color:#6b8072"><a href="#233847" label="[23:38:47]">&lt;stikonas&gt;</a></span><span class="message">I should open it in tmux...</span></div><div class="line" id="233854"><span class="nick" style="color:#6b8072"><a href="#233854" label="[23:38:54]">&lt;stikonas&gt;</a></span><span class="message">otherwise it just scrolls too fast...</span></div><div class="line" id="233857"><span class="nick" style="color:#80b1d3"><a href="#233857" label="[23:38:57]">&lt;fossy&gt;</a></span><span class="message">yeah</span></div><div class="line" id="233901"><span class="nick" style="color:#80b1d3"><a href="#233901" label="[23:39:01]">&lt;fossy&gt;</a></span><span class="message">that's what i'm doing</span></div><div class="line" id="233910"><span class="nick" style="color:#80b1d3"><a href="#233910" label="[23:39:10]">&lt;fossy&gt;</a></span><span class="message">so, to find the sources, look in build-aux/configure-lib.sh</span></div><div class="line" id="233913"><span class="nick" style="color:#80b1d3"><a href="#233913" label="[23:39:13]">&lt;fossy&gt;</a></span><span class="message">they match directly up</span></div><div class="line" id="233922"><span class="nick" style="color:#80b1d3"><a href="#233922" label="[23:39:22]">&lt;fossy&gt;</a></span><span class="message">mes_kernel=linux mes_cpu=x86 compiler=mescc</span></div><div class="line" id="233947"><span class="nick" style="color:#80b1d3"><a href="#233947" label="[23:39:47]">&lt;fossy&gt;</a></span><span class="message">lmk if you need more help with that</span></div><div class="line" id="234049"><span class="nick" style="color:#6b8072"><a href="#234049" label="[23:40:49]">&lt;stikonas&gt;</a></span><span class="message">argh, actually, I think I won't be able to push if I commit something to submodule</span></div><div class="line" id="234055"><span class="nick" style="color:#6b8072"><a href="#234055" label="[23:40:55]">&lt;stikonas&gt;</a></span><span class="message">it will only work locally</span></div><div class="line" id="234056"><span class="nick" style="color:#80b1d3"><a href="#234056" label="[23:40:56]">&lt;fossy&gt;</a></span><span class="message">ah</span></div><div class="line" id="234108"><span class="nick" style="color:#80b1d3"><a href="#234108" label="[23:41:08]">&lt;fossy&gt;</a></span><span class="message">well my suggestion then would be just cp it in rootfs.sh</span></div><div class="line" id="234109"><span class="nick" style="color:#6b8072"><a href="#234109" label="[23:41:09]">&lt;stikonas&gt;</a></span><span class="message">cause it's another repo...</span></div><div class="line" id="234111"><span class="nick" style="color:#6b8072"><a href="#234111" label="[23:41:11]">&lt;stikonas&gt;</a></span><span class="message">yeah...</span></div><div class="line" id="234119"><span class="nick" style="color:#6b8072"><a href="#234119" label="[23:41:19]">&lt;stikonas&gt;</a></span><span class="message">that would work</span></div><div class="line" id="234137"><span class="nick" style="color:#80b1d3"><a href="#234137" label="[23:41:37]">&lt;fossy&gt;</a></span><span class="message">thanks for your help btw, very much appreciate</span></div><div class="line" id="234159"><span class="nick" style="color:#6b8072"><a href="#234159" label="[23:41:59]">&lt;stikonas&gt;</a></span><span class="message">no, problem :)</span></div><div class="line" id="234204"><span class="nick" style="color:#6b8072"><a href="#234204" label="[23:42:04]">&lt;stikonas&gt;</a></span><span class="message">thanks for your help too now</span></div><div class="line" id="234255"><span class="nick" style="color:#6b8072"><a href="#234255" label="[23:42:55]">&lt;stikonas&gt;</a></span><span class="message">I guess if we don't have gash later, we also need to write kaem for bash...</span></div><div class="line" id="234904"><span class="nick" style="color:#80b1d3"><a href="#234904" label="[23:49:04]">&lt;fossy&gt;</a></span><span class="message">yes</span></div><div class="line" id="234915"><span class="nick" style="color:#80b1d3"><a href="#234915" label="[23:49:15]">&lt;fossy&gt;</a></span><span class="message">i'm going to be writing a lot of kaem scripts</span></div><div class="line" id="234930"><span class="nick" style="color:#80b1d3"><a href="#234930" label="[23:49:30]">&lt;fossy&gt;</a></span><span class="message">also if you are going to do more after this please don't do tinycc, i've already started doing that</span></div><div class="line" id="234938"><span class="nick" style="color:#80b1d3"><a href="#234938" label="[23:49:38]">&lt;fossy&gt;</a></span><span class="message">just so we don't dup work :)</span></div><div class="line" id="234952"><span class="nick" style="color:#6b8072"><a href="#234952" label="[23:49:52]">&lt;stikonas&gt;</a></span><span class="message">sure...</span></div><div class="line" id="235004"><span class="nick" style="color:#80b1d3"><a href="#235004" label="[23:50:04]">&lt;fossy&gt;</a></span><span class="message">also, FWIW, i don't want to use pregenerated configure scripts. they are too hard-to-read and are effectively binary code as they are not human readable</span></div><div class="line" id="235013"><span class="nick" style="color:#80b1d3"><a href="#235013" label="[23:50:13]">&lt;fossy&gt;</a></span><span class="message">that means autotools before bash</span></div><div class="line" id="235018"><span class="nick" style="color:#80b1d3"><a href="#235018" label="[23:50:18]">&lt;fossy&gt;</a></span><span class="message">no it dosent sorry</span></div><div class="line" id="235021"><span class="nick" style="color:#80b1d3"><a href="#235021" label="[23:50:21]">&lt;fossy&gt;</a></span><span class="message">autotools before gcc</span></div><div class="line" id="235028"><span class="nick" style="color:#80b1d3"><a href="#235028" label="[23:50:28]">&lt;fossy&gt;</a></span><span class="message">because we won't be using configure for bash anyway</span></div><div class="line" id="235035"><span class="nick" style="color:#6b8072"><a href="#235035" label="[23:50:35]">&lt;stikonas&gt;</a></span><span class="message">yeah... of course...</span></div><div class="line" id="235055"><span class="nick" style="color:#6b8072"><a href="#235055" label="[23:50:55]">&lt;stikonas&gt;</a></span><span class="message">well, pregenerated configure scripts are indeed not really source...</span></div><div class="line" id="235058"><span class="nick" style="color:#80b1d3"><a href="#235058" label="[23:50:58]">&lt;fossy&gt;</a></span><span class="message">i'm doing a few things here which are quite unusual but i believe they are important</span></div><div class="line" id="235110"><span class="nick" style="color:#6b8072"><a href="#235110" label="[23:51:10]">&lt;stikonas&gt;</a></span><span class="message">pregenerated mescc.scm is at least readable</span></div><div class="line" id="235114"><span class="nick" style="color:#80b1d3"><a href="#235114" label="[23:51:14]">&lt;fossy&gt;</a></span><span class="message">yeah</span></div><div class="line" id="235118"><span class="nick" style="color:#80b1d3"><a href="#235118" label="[23:51:18]">&lt;fossy&gt;</a></span><span class="message">i don't mind pregenerated if it's readable</span></div><div class="line" id="235139"><span class="nick" style="color:#80b1d3"><a href="#235139" label="[23:51:39]">&lt;fossy&gt;</a></span><span class="message">for example, i bascialyl generated mes.kaem using a script and just replaced the file names</span></div><div class="line" id="235147"><span class="nick" style="color:#80b1d3"><a href="#235147" label="[23:51:47]">&lt;fossy&gt;</a></span><span class="message">but it's very readable because it's just something repeated</span></div><div class="line" id="235204"><span class="nick" style="color:#6b8072"><a href="#235204" label="[23:52:04]">&lt;stikonas&gt;</a></span><span class="message">yeah, and can easily edit it...</span></div><div class="line" id="235208"><span class="nick" style="color:#80b1d3"><a href="#235208" label="[23:52:08]">&lt;fossy&gt;</a></span><span class="message">yeah</span></div><div class="line" id="235210"><span class="nick" style="color:#6b8072"><a href="#235210" label="[23:52:10]">&lt;stikonas&gt;</a></span><span class="message">which is what I'm doing now</span></div><div class="line" id="235405"><span class="nick" style="color:#6b8072"><a href="#235405" label="[23:54:05]">&lt;stikonas&gt;</a></span><span class="message">and I guess at some point tar/gzip will be needed, to avoid submoduling everything...</span></div><div class="line" id="235414"><span class="nick" style="color:#80b1d3"><a href="#235414" label="[23:54:14]">&lt;fossy&gt;</a></span><span class="message">yeah</span></div><div class="line" id="235536"><span class="nick" style="color:#80b1d3"><a href="#235536" label="[23:55:36]">&lt;fossy&gt;</a></span><span class="message">basically my plan is: tcc -&gt; bash -&gt; patch -&gt; tar -&gt; gzip -&gt; perl -&gt; autoconf -&gt; automake -&gt; make</span></div><div class="line" id="235543"><span class="nick" style="color:#80b1d3"><a href="#235543" label="[23:55:43]">&lt;fossy&gt;</a></span><span class="message">i'm not sure where i'm going to put the linux kernel</span></div><div class="line" id="235551"><span class="nick" style="color:#80b1d3"><a href="#235551" label="[23:55:51]">&lt;fossy&gt;</a></span><span class="message">because this will manage kernels too</span></div><div class="line" id="235603"><span class="nick" style="color:#6b8072"><a href="#235603" label="[23:56:03]">&lt;stikonas&gt;</a></span><span class="message">hmm, can tcc build kernel?</span></div><div class="line" id="235607"><span class="nick" style="color:#80b1d3"><a href="#235607" label="[23:56:07]">&lt;fossy&gt;</a></span><span class="message">yep</span></div><div class="line" id="235612"><span class="nick" style="color:#80b1d3"><a href="#235612" label="[23:56:12]">&lt;fossy&gt;</a></span><span class="message"> <a rel="nofollow" href="https://github.com/8l/tccboot">https://github.com/8l/tccboot</a> </span></div><div class="line" id="235649"><span class="nick" style="color:#6b8072"><a href="#235649" label="[23:56:49]">&lt;stikonas&gt;</a></span><span class="message">well, in principle the place for kernel is not too important...</span></div><div class="line" id="235703"><span class="nick" style="color:#6b8072"><a href="#235703" label="[23:57:03]">&lt;stikonas&gt;</a></span><span class="message">for now we are using precompiled linux kernel anyway</span></div><div class="line" id="235829"><span class="nick" style="color:#80b1d3"><a href="#235829" label="[23:58:29]">&lt;fossy&gt;</a></span><span class="message">yeah, but i want this setup to manage kernels as well, as once we have a smaller seed kernel it will not be able to complete the entire bootstrap</span></div><div class="line" id="235848"><span class="nick" style="color:#80b1d3"><a href="#235848" label="[23:58:48]">&lt;fossy&gt;</a></span><span class="message">i will add all of this to the readme that i am wiritng</span></div><div class="line" id="235958"><span class="nick" style="color:#6b8072"><a href="#235958" label="[23:59:58]">&lt;stikonas&gt;</a></span><span class="message">yeah, seed kernel only needs to support a few syscalls</span></div><br /></div></body></html>