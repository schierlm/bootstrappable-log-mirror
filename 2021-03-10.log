<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2021-03-10.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="000045"><span class="nick" style="color:#389600"><a href="#000045" label="[00:00:45]">&lt;stikonas&gt;</a></span><span class="message">pder: fossy: PR is up <a rel="nofollow" href="https://github.com/fosslinux/live-bootstrap/pull/60">https://github.com/fosslinux/live-bootstrap/pull/60</a> </span></div><div class="line" id="004141"><span class="nick" style="color:#389600"><a href="#004141" label="[00:41:41]">&lt;stikonas&gt;</a></span><span class="message">I think I should also build findutils</span></div><div class="line" id="004217"><span class="nick" style="color:#389600"><a href="#004217" label="[00:42:17]">&lt;stikonas&gt;</a></span><span class="message">will be easier to rebuild some autotools stuff, i.e. that will renanable autoreconf or shipped ./bootstrap scripts</span></div><div class="line" id="004348"><span class="nick" style="color:#8dd3c7"><a href="#004348" label="[00:43:48]">&lt;Hagfish&gt;</a></span><span class="message">reenable?  renameable?</span></div><div class="line" id="004357"><span class="nick" style="color:#389600"><a href="#004357" label="[00:43:57]">&lt;stikonas&gt;</a></span><span class="message">enable</span></div><div class="line" id="004404"><span class="nick" style="color:#8dd3c7"><a href="#004404" label="[00:44:04]">&lt;Hagfish&gt;</a></span><span class="message">got it :)</span></div><div class="line" id="004408"><span class="nick" style="color:#389600"><a href="#004408" label="[00:44:08]">&lt;stikonas&gt;</a></span><span class="message">typo...</span></div><div class="line" id="004415"><span class="nick" style="color:#8dd3c7"><a href="#004415" label="[00:44:15]">&lt;Hagfish&gt;</a></span><span class="message">had me guessing for a moment</span></div><div class="line" id="023901"><span class="nick">***</span><span class="message notice">puckipedia is now known as puck</span></div><div class="line" id="023901"><span class="nick">***</span><span class="message notice">qyliss- is now known as qyliss</span></div><div class="line" id="063115"><span class="nick" style="color:#6b8072"><a href="#063115" label="[06:31:15]">&lt;fossy&gt;</a></span><span class="message">stikonas[m]: unfortunatley github is fking me over and i cannot currently login. however #60 and #59 are good, you can merge.</span></div><div class="line" id="071855"><span class="nick" style="color:#6b8072"><a href="#071855" label="[07:18:55]">&lt;fossy&gt;</a></span><span class="message">kexec-tools is progressing, binary that runs and produces help text. however it is unable to load a kernel</span></div><div class="line" id="071935"><span class="nick" style="color:#6b8072"><a href="#071935" label="[07:19:35]">&lt;fossy&gt;</a></span><span class="message">also, btw, this will mean our builds require an i686 seed kernel (compat x86_64 support is non-existant)</span></div><div class="line" id="143101"><span class="nick">***</span><span class="message notice">janneke_ is now known as janneke</span></div><div class="line" id="152246"><span class="nick" style="color:#389600"><a href="#152246" label="[15:22:46]">&lt;stikonas&gt;</a></span><span class="message">pder: when do we need dirname?</span></div><div class="line" id="152255"><span class="nick" style="color:#389600"><a href="#152255" label="[15:22:55]">&lt;stikonas&gt;</a></span><span class="message">cause I'm also thinking about whether it's worth rebuilding coreutils</span></div><div class="line" id="152305"><span class="nick" style="color:#80b1d3"><a href="#152305" label="[15:23:05]">&lt;pder&gt;</a></span><span class="message">I thought gcc wanted it</span></div><div class="line" id="152314"><span class="nick" style="color:#389600"><a href="#152314" label="[15:23:14]">&lt;stikonas&gt;</a></span><span class="message">hmm, possibly...</span></div><div class="line" id="152327"><span class="nick" style="color:#389600"><a href="#152327" label="[15:23:27]">&lt;stikonas&gt;</a></span><span class="message">well, env is needed by libtool, so we definitely need it sooner</span></div><div class="line" id="152332"><span class="nick" style="color:#389600"><a href="#152332" label="[15:23:32]">&lt;stikonas&gt;</a></span><span class="message">in principle I can add dirname too...</span></div><div class="line" id="152347"><span class="nick" style="color:#389600"><a href="#152347" label="[15:23:47]">&lt;stikonas&gt;</a></span><span class="message">but if we have new autoconf, maybe it's worth just building full coreutils 6?</span></div><div class="line" id="152438"><span class="nick" style="color:#80b1d3"><a href="#152438" label="[15:24:38]">&lt;pder&gt;</a></span><span class="message">is there anything in coreutils 6 that is not in 5?</span></div><div class="line" id="152447"><span class="nick" style="color:#389600"><a href="#152447" label="[15:24:47]">&lt;stikonas&gt;</a></span><span class="message">well, I already built sha256sum from it</span></div><div class="line" id="152448"><span class="nick" style="color:#80b1d3"><a href="#152448" label="[15:24:48]">&lt;pder&gt;</a></span><span class="message">besides sha2?</span></div><div class="line" id="152455"><span class="nick" style="color:#389600"><a href="#152455" label="[15:24:55]">&lt;stikonas&gt;</a></span><span class="message">not sure...</span></div><div class="line" id="152613"><span class="nick" style="color:#389600"><a href="#152613" label="[15:26:13]">&lt;stikonas&gt;</a></span><span class="message">la few small things...</span></div><div class="line" id="152620"><span class="nick" style="color:#389600"><a href="#152620" label="[15:26:20]">&lt;stikonas&gt;</a></span><span class="message">probably nothing essential</span></div><div class="line" id="152702"><span class="nick" style="color:#389600"><a href="#152702" label="[15:27:02]">&lt;stikonas&gt;</a></span><span class="message">well, I only said 6 cause it's already in sources dir...</span></div><div class="line" id="152736"><span class="nick" style="color:#389600"><a href="#152736" label="[15:27:36]">&lt;stikonas&gt;</a></span><span class="message">it's just more of rebuilding coreutils with autotools / good musl</span></div><div class="line" id="152749"><span class="nick" style="color:#80b1d3"><a href="#152749" label="[15:27:49]">&lt;pder&gt;</a></span><span class="message">my only thought is maybe we wait to upgrade coreutils until after we have gcc?</span></div><div class="line" id="152758"><span class="nick" style="color:#389600"><a href="#152758" label="[15:27:58]">&lt;stikonas&gt;</a></span><span class="message">ok</span></div><div class="line" id="152803"><span class="nick" style="color:#389600"><a href="#152803" label="[15:28:03]">&lt;stikonas&gt;</a></span><span class="message">then I can add dirname now</span></div><div class="line" id="152812"><span class="nick" style="color:#389600"><a href="#152812" label="[15:28:12]">&lt;stikonas&gt;</a></span><span class="message">I'll do it in a few hours then</span></div><div class="line" id="152814"><span class="nick" style="color:#389600"><a href="#152814" label="[15:28:14]">&lt;stikonas&gt;</a></span><span class="message">and then merge</span></div><div class="line" id="153410"><span class="nick" style="color:#80b1d3"><a href="#153410" label="[15:34:10]">&lt;pder&gt;</a></span><span class="message">do you think the next step is getting newer autoconf and automake working?</span></div><div class="line" id="154344"><span class="nick" style="color:#389600"><a href="#154344" label="[15:43:44]">&lt;stikonas&gt;</a></span><span class="message">pder: yes, I think so</span></div><div class="line" id="154355"><span class="nick" style="color:#389600"><a href="#154355" label="[15:43:55]">&lt;stikonas&gt;</a></span><span class="message">patched autoconf 2.53 first...</span></div><div class="line" id="154406"><span class="nick" style="color:#389600"><a href="#154406" label="[15:44:06]">&lt;stikonas&gt;</a></span><span class="message">well, automake probably can be built immediately too</span></div><div class="line" id="154411"><span class="nick" style="color:#389600"><a href="#154411" label="[15:44:11]">&lt;stikonas&gt;</a></span><span class="message">I think it has lower dependency requirements</span></div><div class="line" id="154418"><span class="nick" style="color:#389600"><a href="#154418" label="[15:44:18]">&lt;stikonas&gt;</a></span><span class="message">probably can just quicker to new versions</span></div><div class="line" id="154438"><span class="nick" style="color:#389600"><a href="#154438" label="[15:44:38]">&lt;stikonas&gt;</a></span><span class="message">autoconf I guess will be jumping either each version or occasionally skipping one or two</span></div><div class="line" id="154515"><span class="nick" style="color:#389600"><a href="#154515" label="[15:45:15]">&lt;stikonas&gt;</a></span><span class="message">pder: after that I think we need to rebuild sed and gawk</span></div><div class="line" id="154531"><span class="nick" style="color:#389600"><a href="#154531" label="[15:45:31]">&lt;stikonas&gt;</a></span><span class="message">and maybe build newer tar, this one is really old and still runs on mes</span></div><div class="line" id="154544"><span class="nick" style="color:#389600"><a href="#154544" label="[15:45:44]">&lt;stikonas&gt;</a></span><span class="message">oh, and also libtool</span></div><div class="line" id="154551"><span class="nick" style="color:#389600"><a href="#154551" label="[15:45:51]">&lt;stikonas&gt;</a></span><span class="message">I'll take a look in the evening</span></div><div class="line" id="154608"><span class="nick" style="color:#389600"><a href="#154608" label="[15:46:08]">&lt;stikonas&gt;</a></span><span class="message">(at libtool)</span></div><div class="line" id="154657"><span class="nick" style="color:#389600"><a href="#154657" label="[15:46:57]">&lt;stikonas&gt;</a></span><span class="message">if possible, we can just bootstrap all the way to newest autoconf/automake</span></div><div class="line" id="204243"><span class="nick">***</span><span class="message notice">qyliss_ is now known as qyliss</span></div><div class="line" id="204244"><span class="nick">***</span><span class="message notice">puckipedia is now known as puck</span></div><div class="line" id="204554"><span class="nick">***</span><span class="message notice">pgreco_ is now known as pgreco</span></div><div class="line" id="211829"><span class="nick" style="color:#389600"><a href="#211829" label="[21:18:29]">&lt;stikonas&gt;</a></span><span class="message">pder: so I briefly checked automake/autoconf, we might need to manually rebootstrap at least some newer versions of automake...</span></div><div class="line" id="211838"><span class="nick" style="color:#389600"><a href="#211838" label="[21:18:38]">&lt;stikonas&gt;</a></span><span class="message">or maybe do it instead of 1.4...</span></div><div class="line" id="211906"><span class="nick" style="color:#389600"><a href="#211906" label="[21:19:06]">&lt;stikonas&gt;</a></span><span class="message">older versions of automake often don't work on newer automake...</span></div><div class="line" id="231921"><span class="nick" style="color:#389600"><a href="#231921" label="[23:19:21]">&lt;stikonas&gt;</a></span><span class="message">pder: so I have most of the libtool working, but there is a slight problem</span></div><div class="line" id="231932"><span class="nick" style="color:#389600"><a href="#231932" label="[23:19:32]">&lt;stikonas&gt;</a></span><span class="message">I think our old bash is insufficient for it</span></div><div class="line" id="232002"><span class="nick" style="color:#389600"><a href="#232002" label="[23:20:02]">&lt;stikonas&gt;</a></span><span class="message">but I think we can move bash earlier, maybe with some workarounds &quot;size=true and ar=tcc -ar&quot;...</span></div><div class="line" id="232015"><span class="nick" style="color:#389600"><a href="#232015" label="[23:20:15]">&lt;stikonas&gt;</a></span><span class="message">actually, for ar I migth need a wrapper file anyway</span></div><div class="line" id="232915"><span class="nick" style="color:#80b1d3"><a href="#232915" label="[23:29:15]">&lt;pder&gt;</a></span><span class="message">at what point did you need libtool?</span></div><div class="line" id="232926"><span class="nick" style="color:#389600"><a href="#232926" label="[23:29:26]">&lt;stikonas&gt;</a></span><span class="message">before binutils</span></div><div class="line" id="232938"><span class="nick" style="color:#389600"><a href="#232938" label="[23:29:38]">&lt;stikonas&gt;</a></span><span class="message">I tried building newer bash, that itslelf works</span></div><div class="line" id="232944"><span class="nick" style="color:#389600"><a href="#232944" label="[23:29:44]">&lt;stikonas&gt;</a></span><span class="message">but autoheader errors out later</span></div><div class="line" id="232946"><span class="nick" style="color:#389600"><a href="#232946" label="[23:29:46]">&lt;stikonas&gt;</a></span><span class="message">hmm</span></div><div class="line" id="232955"><span class="nick" style="color:#80b1d3"><a href="#232955" label="[23:29:55]">&lt;pder&gt;</a></span><span class="message">you need something newer than 3.2.57?</span></div><div class="line" id="233001"><span class="nick" style="color:#389600"><a href="#233001" label="[23:30:01]">&lt;stikonas&gt;</a></span><span class="message">maybe?...</span></div><div class="line" id="233006"><span class="nick" style="color:#389600"><a href="#233006" label="[23:30:06]">&lt;stikonas&gt;</a></span><span class="message">I get errors like /after/bin/autoheader-2.13: eval: line 140: unexpected EOF while looking for matching `&quot;'</span></div><div class="line" id="233041"><span class="nick" style="color:#389600"><a href="#233041" label="[23:30:41]">&lt;stikonas&gt;</a></span><span class="message">with old bash it was on line 7 and 8</span></div><div class="line" id="233048"><span class="nick" style="color:#389600"><a href="#233048" label="[23:30:48]">&lt;stikonas&gt;</a></span><span class="message">now 140 and 141...</span></div><div class="line" id="233102"><span class="nick" style="color:#389600"><a href="#233102" label="[23:31:02]">&lt;stikonas&gt;</a></span><span class="message">but same error</span></div><div class="line" id="233106"><span class="nick" style="color:#389600"><a href="#233106" label="[23:31:06]">&lt;stikonas&gt;</a></span><span class="message">maybe that means it's not bash</span></div><div class="line" id="233155"><span class="nick" style="color:#80b1d3"><a href="#233155" label="[23:31:55]">&lt;pder&gt;</a></span><span class="message">can you run that for sym.. line in the shell?</span></div><div class="line" id="233156"><span class="nick" style="color:#389600"><a href="#233156" label="[23:31:56]">&lt;stikonas&gt;</a></span><span class="message">pder: busybox sh seems to work though</span></div><div class="line" id="233216"><span class="nick" style="color:#389600"><a href="#233216" label="[23:32:16]">&lt;stikonas&gt;</a></span><span class="message"> /bin/busybox sh /after/bin/autoheader-2.13 completed successfully</span></div><div class="line" id="233232"><span class="nick" style="color:#389600"><a href="#233232" label="[23:32:32]">&lt;stikonas&gt;</a></span><span class="message">in libtool-1.4/libltdl/ directory</span></div><div class="line" id="233328"><span class="nick" style="color:#80b1d3"><a href="#233328" label="[23:33:28]">&lt;pder&gt;</a></span><span class="message">maybe try tracing with /after/bin/bash -x /after/bin/autoheader-2.13</span></div><div class="line" id="233338"><span class="nick" style="color:#389600"><a href="#233338" label="[23:33:38]">&lt;stikonas&gt;</a></span><span class="message">yeah, let me see</span></div><div class="line" id="233503"><span class="nick" style="color:#389600"><a href="#233503" label="[23:35:03]">&lt;stikonas&gt;</a></span><span class="message">pder: this is the relevant part <a rel="nofollow" href="https://paste.debian.net/1188772/">https://paste.debian.net/1188772/</a> </span></div><div class="line" id="233510"><span class="nick" style="color:#389600"><a href="#233510" label="[23:35:10]">&lt;stikonas&gt;</a></span><span class="message">that eval as I expected</span></div><div class="line" id="233639"><span class="nick" style="color:#389600"><a href="#233639" label="[23:36:39]">&lt;stikonas&gt;</a></span><span class="message">hmm, interesting</span></div><div class="line" id="233645"><span class="nick" style="color:#389600"><a href="#233645" label="[23:36:45]">&lt;stikonas&gt;</a></span><span class="message">there is a missing &quot; after verbatim</span></div><div class="line" id="233729"><span class="nick" style="color:#389600"><a href="#233729" label="[23:37:29]">&lt;stikonas&gt;</a></span><span class="message">oh that's fine...</span></div><div class="line" id="233800"><span class="nick" style="color:#389600"><a href="#233800" label="[23:38:00]">&lt;stikonas&gt;</a></span><span class="message">this is the same extract with buxybox <a rel="nofollow" href="https://paste.debian.net/1188773/">https://paste.debian.net/1188773/</a> </span></div><div class="line" id="233846"><span class="nick" style="color:#389600"><a href="#233846" label="[23:38:46]">&lt;stikonas&gt;</a></span><span class="message">pder: maybe sed?</span></div><div class="line" id="233858"><span class="nick" style="color:#389600"><a href="#233858" label="[23:38:58]">&lt;stikonas&gt;</a></span><span class="message">busybox probably uses built-in sed</span></div><div class="line" id="233933"><span class="nick" style="color:#389600"><a href="#233933" label="[23:39:33]">&lt;stikonas&gt;</a></span><span class="message">pder: indeed!</span></div><div class="line" id="233947"><span class="nick" style="color:#389600"><a href="#233947" label="[23:39:47]">&lt;stikonas&gt;</a></span><span class="message">bash works with busybox sed</span></div><div class="line" id="233952"><span class="nick" style="color:#389600"><a href="#233952" label="[23:39:52]">&lt;stikonas&gt;</a></span><span class="message">so I think it's time to rebuild sed</span></div><div class="line" id="234016"><span class="nick" style="color:#389600"><a href="#234016" label="[23:40:16]">&lt;stikonas&gt;</a></span><span class="message">probably some mes bug...</span></div><div class="line" id="234721"><span class="nick" style="color:#389600"><a href="#234721" label="[23:47:21]">&lt;stikonas&gt;</a></span><span class="message">pder: that worked...</span></div><div class="line" id="234740"><span class="nick" style="color:#389600"><a href="#234740" label="[23:47:40]">&lt;stikonas&gt;</a></span><span class="message">I used kaem to rebuild sed for now</span></div><div class="line" id="234751"><span class="nick" style="color:#389600"><a href="#234751" label="[23:47:51]">&lt;stikonas&gt;</a></span><span class="message">since we can't use new enough autotools...</span></div><div class="line" id="234854"><span class="nick" style="color:#389600"><a href="#234854" label="[23:48:54]">&lt;stikonas&gt;</a></span><span class="message">or maybe I can use providded bootstrap.sh...</span></div><div class="line" id="234956"><span class="nick" style="color:#389600"><a href="#234956" label="[23:49:56]">&lt;stikonas&gt;</a></span><span class="message">no, reusing old script is easier...</span></div><div class="line" id="235013"><span class="nick" style="color:#389600"><a href="#235013" label="[23:50:13]">&lt;stikonas&gt;</a></span><span class="message">otherwise I need to deal with converting it to config.h</span></div><div class="line" id="235208"><span class="nick" style="color:#389600"><a href="#235208" label="[23:52:08]">&lt;stikonas&gt;</a></span><span class="message">fossy: would you be fine with not using bash build harness for sed?</span></div><div class="line" id="235226"><span class="nick" style="color:#389600"><a href="#235226" label="[23:52:26]">&lt;stikonas&gt;</a></span><span class="message">it's much simpler to just run a script that we already wrote for kaem</span></div><div class="line" id="235233"><span class="nick" style="color:#389600"><a href="#235233" label="[23:52:33]">&lt;stikonas&gt;</a></span><span class="message">instead of writing new Makefile, etc...</span></div><div class="line" id="235247"><span class="nick" style="color:#389600"><a href="#235247" label="[23:52:47]">&lt;stikonas&gt;</a></span><span class="message">(alternative would be to go for older sed)</span></div><div class="line" id="235322"><span class="nick" style="color:#389600"><a href="#235322" label="[23:53:22]">&lt;stikonas&gt;</a></span><span class="message">but I don't think downgrading is a good idea</span></div><div class="line" id="235603"><span class="nick" style="color:#389600"><a href="#235603" label="[23:56:03]">&lt;stikonas&gt;</a></span><span class="message">well, maybe I can convert kaem script to Makefile...</span></div><br /></div></body></html>