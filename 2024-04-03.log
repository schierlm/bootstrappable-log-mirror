<!DOCTYPE html><html><head><title>IRC channel logs</title><style>html {
  background: #fdfdfd;
}

h1 {
  font-weight: 300;
}

h2 {
  font-weight: 200;
}

h3 {
  padding: .5em 0;
  border-top: 3px dotted #ddd;
  margin-bottom: 0;
}

form {
  width: 400px;
  display: flex;
}

input {
  width: 100%;
  display: flex;
  border-radius: .25em 0 0 .25em;
  border: 1px solid #aaa;
  border-right: 0;
  padding: 0.5em;
}

button {
  display: flex;
  border-radius: 0 .25em .25em 0;
  background-color: #007bff;
  border: 1px solid #007bff;
  padding: .5em;
  cursor: pointer;
  color: white;
}

button:hover {
  background-color: #0069d9;
  border-color: #0062cc;
}

a {
  color: #007bff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

h4 {
  margin-bottom: .5em;
}

table td {
  padding: 0.75em;
}

table tr:hover {
  background: #eee;
}

.year {
  display: table;
}

.month {
  display: table-cell;
  padding-right: 1em;
}

ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.nick {
  padding-right: 0.6rem;
  font-weight: bold;
  text-align: right;
  width: 13rem;
  display: table-cell;
}

.nick a {
  color: inherit;
  text-decoration: none;
}

.message {
  display: table-cell;
  padding-left: 0.6rem;
  border-left: 2px solid #333;
}

.notice {
  color: #859900;
  font-style: italic;
}

.line {
  line-height: 1.8rem;
  display: table;
}

#logs {
  margin-top: 1.5rem;
  padding: 1.5rem;
}
</style></head><body><h1>IRC channel logs</h1><h2>2024-04-03.log</h2><p><a href="/bootstrappable">back to list of logs</a></p><div id="logs"><div class="line" id="001058"><span class="nick" style="color:#389600"><a href="#001058" label="[00:10:58]">&lt;oriansj&gt;</a></span><span class="message">Googulator: fair enough perspective. Was a thought from the recent xz-utils autotools situation.</span></div><div class="line" id="001236"><span class="nick" style="color:#8dd3c7"><a href="#001236" label="[00:12:36]">&lt;stikonas&gt;</a></span><span class="message">well, but backdoor can be inserted into other build systems too</span></div><div class="line" id="001425"><span class="nick" style="color:#2e2a4a"><a href="#001425" label="[00:14:25]">&lt;pabs3&gt;</a></span><span class="message">and one of the malicious commits was to the cmake files, an extra dot was inserted to make sure the landlock build test code was invalid and thus landlock was disabled</span></div><div class="line" id="001508"><span class="nick" style="color:#389600"><a href="#001508" label="[00:15:08]">&lt;oriansj&gt;</a></span><span class="message">well yes, any build system could be used to create a backdoor (even kaem) the question I was pondering is what would make it harder and more obvious if possible.</span></div><div class="line" id="001527"><span class="nick" style="color:#8dd3c7"><a href="#001527" label="[00:15:27]">&lt;stikonas&gt;</a></span><span class="message">with xz I guess we got a bit lucky</span></div><div class="line" id="001553"><span class="nick" style="color:#8dd3c7"><a href="#001553" label="[00:15:53]">&lt;stikonas&gt;</a></span><span class="message">the whole backdoor was very elaborate but fragile</span></div><div class="line" id="001606"><span class="nick" style="color:#8dd3c7"><a href="#001606" label="[00:16:06]">&lt;stikonas&gt;</a></span><span class="message">so had to be rushed out quickly</span></div><div class="line" id="001620"><span class="nick" style="color:#8dd3c7"><a href="#001620" label="[00:16:20]">&lt;stikonas&gt;</a></span><span class="message">before systemd PR was released</span></div><div class="line" id="001634"><span class="nick" style="color:#8dd3c7"><a href="#001634" label="[00:16:34]">&lt;stikonas&gt;</a></span><span class="message">and rendered backdoor broken</span></div><div class="line" id="001741"><span class="nick" style="color:#389600"><a href="#001741" label="[00:17:41]">&lt;oriansj&gt;</a></span><span class="message">which as I understand it, openssh never really needed systemd to function and without it xz would have never been pulled in.</span></div><div class="line" id="001833"><span class="nick" style="color:#2e2a4a"><a href="#001833" label="[00:18:33]">&lt;pabs3&gt;</a></span><span class="message">and if systemd had a proper libsystemd-notify instead of the monolithic libsystemd, that backdoor path wouldn't have been possible</span></div><div class="line" id="001843"><span class="nick" style="color:#2e2a4a"><a href="#001843" label="[00:18:43]">&lt;pabs3&gt;</a></span><span class="message">(they still refuse to split up libsystemd in that way)</span></div><div class="line" id="001847"><span class="nick" style="color:#8dd3c7"><a href="#001847" label="[00:18:47]">&lt;stikonas&gt;</a></span><span class="message">well, some distros didn't patch openssh...</span></div><div class="line" id="001903"><span class="nick" style="color:#8dd3c7"><a href="#001903" label="[00:19:03]">&lt;stikonas&gt;</a></span><span class="message">so e.g. gentoo had backdoored version but doesn't look like it was affected</span></div><div class="line" id="001916"><span class="nick" style="color:#8dd3c7"><a href="#001916" label="[00:19:16]">&lt;stikonas&gt;</a></span><span class="message">because openssh didn't like to systemd</span></div><div class="line" id="001928"><span class="nick" style="color:#2e2a4a"><a href="#001928" label="[00:19:28]">&lt;pabs3&gt;</a></span><span class="message">right, the backdoor wasn't compiled in when libsystemd was not used</span></div><div class="line" id="001951"><span class="nick" style="color:#389600"><a href="#001951" label="[00:19:51]">&lt;oriansj&gt;</a></span><span class="message">(and the openrc and shepard users rejoiced)</span></div><div class="line" id="002104"><span class="nick" style="color:#8dd3c7"><a href="#002104" label="[00:21:04]">&lt;stikonas&gt;</a></span><span class="message">pabs3: I guess it's not trivial to split it</span></div><div class="line" id="002111"><span class="nick" style="color:#8dd3c7"><a href="#002111" label="[00:21:11]">&lt;stikonas&gt;</a></span><span class="message">generally splitting components is hard</span></div><div class="line" id="002202"><span class="nick" style="color:#389600"><a href="#002202" label="[00:22:02]">&lt;oriansj&gt;</a></span><span class="message">well systemd hasn't exactly taken too kindly to breaking up into smaller and easier to accept chunks.</span></div><div class="line" id="002205"><span class="nick" style="color:#8dd3c7"><a href="#002205" label="[00:22:05]">&lt;stikonas&gt;</a></span><span class="message">longer term it should back though</span></div><div class="line" id="002210"><span class="nick" style="color:#2e2a4a"><a href="#002210" label="[00:22:10]">&lt;pabs3&gt;</a></span><span class="message">at first glance it looked like a small number of functions to implement notify to me</span></div><div class="line" id="002222"><span class="nick" style="color:#2e2a4a"><a href="#002222" label="[00:22:22]">&lt;pabs3&gt;</a></span><span class="message">but systemd devs are vehemently against splitting it</span></div><div class="line" id="002223"><span class="nick" style="color:#8dd3c7"><a href="#002223" label="[00:22:23]">&lt;stikonas&gt;</a></span><span class="message">maybe, I haven't looked a those</span></div><div class="line" id="002257"><span class="nick" style="color:#2e2a4a"><a href="#002257" label="[00:22:57]">&lt;pabs3&gt;</a></span><span class="message">there are various folks talking about implementing a third-party notify-only shared library now, to avoid libsystemd</span></div><div class="line" id="002315"><span class="nick" style="color:#2e2a4a"><a href="#002315" label="[00:23:15]">&lt;pabs3&gt;</a></span><span class="message">but anyways, probably all this is offtopic :)</span></div><div class="line" id="002354"><span class="nick" style="color:#389600"><a href="#002354" label="[00:23:54]">&lt;oriansj&gt;</a></span><span class="message">or on topic depending on if we are exploring the problem space in xz-utils and our trust models</span></div><div class="line" id="002548"><span class="nick" style="color:#389600"><a href="#002548" label="[00:25:48]">&lt;oriansj&gt;</a></span><span class="message">also wasn't there a proposed fork of systemd a few years back?</span></div><div class="line" id="002620"><span class="nick" style="color:#389600"><a href="#002620" label="[00:26:20]">&lt;oriansj&gt;</a></span><span class="message">initware or something like that</span></div><div class="line" id="003101"><span class="nick" style="color:#8dd3c7"><a href="#003101" label="[00:31:01]">&lt;stikonas&gt;</a></span><span class="message">looks abandonned now...</span></div><div class="line" id="003343"><span class="nick" style="color:#2e2a4a"><a href="#003343" label="[00:33:43]">&lt;pabs3&gt;</a></span><span class="message">got a link?</span></div><div class="line" id="003442"><span class="nick" style="color:#389600"><a href="#003442" label="[00:34:42]">&lt;oriansj&gt;</a></span><span class="message">I have <a rel="nofollow" href="https://github.com/InitWare/InitWare">https://github.com/InitWare/InitWare</a>  and</span></div><div class="line" id="003558"><span class="nick" style="color:#389600"><a href="#003558" label="[00:35:58]">&lt;oriansj&gt;</a></span><span class="message">the last commit was 2022, so it isn't highly active</span></div><div class="line" id="010930"><span class="nick" style="color:#2e2a4a"><a href="#010930" label="[01:09:30]">&lt;pabs3&gt;</a></span><span class="message">LWN post &quot;How the XZ backdoor works&quot; <a rel="nofollow" href="https://lwn.net/SubscriberLink/967192/4dc234130d1cd9ee/">https://lwn.net/SubscriberLink/967192/4dc234130d1cd9ee/</a> </span></div><div class="line" id="013058"><span class="nick" style="color:#6b8072"><a href="#013058" label="[01:30:58]">&lt;Googulator&gt;</a></span><span class="message">Looks like Lasse Collin at least got his GitHub account back</span></div><div class="line" id="013125"><span class="nick" style="color:#6b8072"><a href="#013125" label="[01:31:25]">&lt;Googulator&gt;</a></span><span class="message">no more suspended badge, unlike for the JiaT75 account</span></div><div class="line" id="013245"><span class="nick" style="color:#6b8072"><a href="#013245" label="[01:32:45]">&lt;Googulator&gt;</a></span><span class="message">(I'm intentionally not saying &quot;Jia's&quot; account, as there's evidence &quot;Jia&quot; is not a real person)</span></div><div class="line" id="013723"><span class="nick" style="color:#8dd3c7"><a href="#013723" label="[01:37:23]">&lt;stikonas&gt;</a></span><span class="message">well, there is some evidence that Jia might be from UTC+2 or UTC+3 (depending on DST)</span></div><div class="line" id="013903"><span class="nick" style="color:#2e2a4a"><a href="#013903" label="[01:39:03]">&lt;pabs3&gt;</a></span><span class="message">commit timezones come from the attacker, so that is probably fake</span></div><div class="line" id="013936"><span class="nick" style="color:#2e2a4a"><a href="#013936" label="[01:39:36]">&lt;pabs3&gt;</a></span><span class="message">(and IIRC when the author vs commit timezones are accounted for, it becomes clear that isn't the right timezone)</span></div><div class="line" id="014035"><span class="nick" style="color:#8dd3c7"><a href="#014035" label="[01:40:35]">&lt;stikonas&gt;</a></span><span class="message">pabs3: commit timezones (mostly UTC+8) do come from attacker, but there are 2 or 3 commits with UTC+2/UTC+3</span></div><div class="line" id="014046"><span class="nick" style="color:#8dd3c7"><a href="#014046" label="[01:40:46]">&lt;stikonas&gt;</a></span><span class="message">so probably forgotten to forge</span></div><div class="line" id="014113"><span class="nick" style="color:#8dd3c7"><a href="#014113" label="[01:41:13]">&lt;stikonas&gt;</a></span><span class="message">(and provably not travelling, as it can be very close in time to UTC+8 commits)</span></div><div class="line" id="014205"><span class="nick" style="color:#8dd3c7"><a href="#014205" label="[01:42:05]">&lt;stikonas&gt;</a></span><span class="message">(shorter than long haul flight)</span></div><div class="line" id="014310"><span class="nick" style="color:#8dd3c7"><a href="#014310" label="[01:43:10]">&lt;stikonas&gt;</a></span><span class="message">See <a rel="nofollow" href="https://rheaeve.substack.com/p/xz-backdoor-times-damned-times-and">https://rheaeve.substack.com/p/xz-backdoor-times-damned-times-and</a> </span></div><div class="line" id="014716"><span class="nick" style="color:#2e2a4a"><a href="#014716" label="[01:47:16]">&lt;pabs3&gt;</a></span><span class="message">IIRC those come from the other maintainer, where the patch was sent via mail from the patch author to the patch committer</span></div><div class="line" id="014808"><span class="nick" style="color:#8dd3c7"><a href="#014808" label="[01:48:08]">&lt;stikonas&gt;</a></span><span class="message">oh perhaps...</span></div><div class="line" id="014808"><span class="nick" style="color:#2e2a4a"><a href="#014808" label="[01:48:08]">&lt;pabs3&gt;</a></span><span class="message">ACTION not sure if github displays author times or committer times</span></div><div class="line" id="014825"><span class="nick" style="color:#8dd3c7"><a href="#014825" label="[01:48:25]">&lt;stikonas&gt;</a></span><span class="message">well, it wouldn't be github</span></div><div class="line" id="014832"><span class="nick" style="color:#8dd3c7"><a href="#014832" label="[01:48:32]">&lt;stikonas&gt;</a></span><span class="message">it would be git am</span></div><div class="line" id="014837"><span class="nick" style="color:#8dd3c7"><a href="#014837" label="[01:48:37]">&lt;stikonas&gt;</a></span><span class="message">git records both times</span></div><div class="line" id="014845"><span class="nick" style="color:#2e2a4a"><a href="#014845" label="[01:48:45]">&lt;pabs3&gt;</a></span><span class="message">right, but the analysis in that article talks about github</span></div><div class="line" id="014908"><span class="nick" style="color:#2e2a4a"><a href="#014908" label="[01:49:08]">&lt;pabs3&gt;</a></span><span class="message">the stuff I mention about author vs committer times was discussed on the #tukaani channel</span></div><div class="line" id="014947"><span class="nick" style="color:#8dd3c7"><a href="#014947" label="[01:49:47]">&lt;stikonas&gt;</a></span><span class="message">oh I wasn't there...</span></div><div class="line" id="015008"><span class="nick" style="color:#2e2a4a"><a href="#015008" label="[01:50:08]">&lt;pabs3&gt;</a></span><span class="message">ACTION wonders if GitHub also records git push times somewhere, and if they will ever support signed git pushes</span></div><div class="line" id="015032"><span class="nick" style="color:#2e2a4a"><a href="#015032" label="[01:50:32]">&lt;pabs3&gt;</a></span><span class="message">hmm, the post does mention author vs committer times</span></div><div class="line" id="015105"><span class="nick" style="color:#2e2a4a"><a href="#015105" label="[01:51:05]">&lt;pabs3&gt;</a></span><span class="message">I joined way too late, but apparently the channel went from 10 people to hundreds :)</span></div><div class="line" id="015106"><span class="nick" style="color:#8dd3c7"><a href="#015106" label="[01:51:06]">&lt;stikonas&gt;</a></span><span class="message">I think it must record it somewhere</span></div><div class="line" id="015116"><span class="nick" style="color:#8dd3c7"><a href="#015116" label="[01:51:16]">&lt;stikonas&gt;</a></span><span class="message">after all, that's what it displays in pull requests</span></div><div class="line" id="015124"><span class="nick" style="color:#2e2a4a"><a href="#015124" label="[01:51:24]">&lt;pabs3&gt;</a></span><span class="message">ah yes</span></div><div class="line" id="015126"><span class="nick" style="color:#8dd3c7"><a href="#015126" label="[01:51:26]">&lt;stikonas&gt;</a></span><span class="message">e.g. if you push new commit in PR</span></div><div class="line" id="015133"><span class="nick" style="color:#8dd3c7"><a href="#015133" label="[01:51:33]">&lt;stikonas&gt;</a></span><span class="message">or force-push</span></div><div class="line" id="015140"><span class="nick" style="color:#8dd3c7"><a href="#015140" label="[01:51:40]">&lt;stikonas&gt;</a></span><span class="message">it would show last commit was done e.g. 5 minutes ago</span></div><div class="line" id="015520"><span class="nick" style="color:#8dd3c7"><a href="#015520" label="[01:55:20]">&lt;stikonas&gt;</a></span><span class="message">though I guess publicly announcing this xz vulnarebility also makes it harder to catch the person</span></div><div class="line" id="015542"><span class="nick" style="color:#8dd3c7"><a href="#015542" label="[01:55:42]">&lt;stikonas&gt;</a></span><span class="message">you could only hope on some opsec errors in the past</span></div><div class="line" id="015708"><span class="nick" style="color:#2e2a4a"><a href="#015708" label="[01:57:08]">&lt;pabs3&gt;</a></span><span class="message">IIRC the known IP addresses were of some VPN company in Singapore anyway, and the whole thing seems like a team of people at an org like the NSA</span></div><div class="line" id="015723"><span class="nick" style="color:#2e2a4a"><a href="#015723" label="[01:57:23]">&lt;pabs3&gt;</a></span><span class="message">so probably impossible to catch</span></div><div class="line" id="015755"><span class="nick" style="color:#2e2a4a"><a href="#015755" label="[01:57:55]">&lt;pabs3&gt;</a></span><span class="message">IIRC the event that sped up the timeline on it was that systemd was moving xz usage to dlopen, which would break the sshd backdoor</span></div><div class="line" id="015814"><span class="nick" style="color:#8dd3c7"><a href="#015814" label="[01:58:14]">&lt;stikonas&gt;</a></span><span class="message">yeah, it could be some state actor too</span></div><div class="line" id="015836"><span class="nick" style="color:#2e2a4a"><a href="#015836" label="[01:58:36]">&lt;pabs3&gt;</a></span><span class="message">very much looks like that rather than any other actor</span></div><div class="line" id="015919"><span class="nick" style="color:#2e2a4a"><a href="#015919" label="[01:59:19]">&lt;pabs3&gt;</a></span><span class="message">especially the pressure operations and the backdoor where you have to sign the payload with a particular key</span></div><div class="line" id="020009"><span class="nick" style="color:#8dd3c7"><a href="#020009" label="[02:00:09]">&lt;stikonas&gt;</a></span><span class="message">also investing 2 years into all this...</span></div><div class="line" id="020152"><span class="nick" style="color:#2e2a4a"><a href="#020152" label="[02:01:52]">&lt;pabs3&gt;</a></span><span class="message">yeah, reasonably long-term</span></div><div class="line" id="020434"><span class="nick" style="color:#2e2a4a"><a href="#020434" label="[02:04:34]">&lt;pabs3&gt;</a></span><span class="message">hmmm <a rel="nofollow" href="https://github.com/woodruffw/steg86">https://github.com/woodruffw/steg86</a>  &quot;Hiding messages in x86 programs using semantic duals&quot;</span></div><div class="line" id="020647"><span class="nick" style="color:#8dd3c7"><a href="#020647" label="[02:06:47]">&lt;stikonas&gt;</a></span><span class="message">well, that's not suprising I guess</span></div><div class="line" id="020650"><span class="nick" style="color:#8dd3c7"><a href="#020650" label="[02:06:50]">&lt;stikonas&gt;</a></span><span class="message">especially on x86</span></div><div class="line" id="020850"><span class="nick" style="color:#8dd3c7"><a href="#020850" label="[02:08:50]">&lt;stikonas&gt;</a></span><span class="message">apparently you can do it on risc-v too</span></div><div class="line" id="020910"><span class="nick" style="color:#8dd3c7"><a href="#020910" label="[02:09:10]">&lt;stikonas&gt;</a></span><span class="message">well, I guess nop in particular can be done in various ways</span></div><div class="line" id="020921"><span class="nick" style="color:#8dd3c7"><a href="#020921" label="[02:09:21]">&lt;stikonas&gt;</a></span><span class="message">and fixed word size helps too</span></div><div class="line" id="024421"><span class="nick" style="color:#389600"><a href="#024421" label="[02:44:21]">&lt;oriansj&gt;</a></span><span class="message">pabs3: well doing strings in assembly that also function as executable code is a common trick; so it isn't surprising to find the reverse.</span></div><div class="line" id="024649"><span class="nick" style="color:#389600"><a href="#024649" label="[02:46:49]">&lt;oriansj&gt;</a></span><span class="message">(which is something auditing hex0 through M0 would need to keep in mind)</span></div><div class="line" id="144116"><span class="nick" style="color:#2e2a4a"><a href="#144116" label="[14:41:16]">&lt;pabs3&gt;</a></span><span class="message"> <a rel="nofollow" href="https://joeyh.name/blog/entry/reflections_on_distrusting_xz/">https://joeyh.name/blog/entry/reflections_on_distrusting_xz/</a> </span></div><div class="line" id="200610"><span class="nick" style="color:#80b1d3"><a href="#200610" label="[20:06:10]">&lt;ekaitz&gt;</a></span><span class="message">pabs3: (y)</span></div><div class="line" id="200613"><span class="nick" style="color:#80b1d3"><a href="#200613" label="[20:06:13]">&lt;ekaitz&gt;</a></span><span class="message">very good one</span></div><div class="line" id="235403"><span class="nick" style="color:#6d2462"><a href="#235403" label="[23:54:03]">&lt;roconnor&gt;</a></span><span class="message">Any thoughts on <a rel="nofollow" href="https://monster6502.com/">https://monster6502.com/</a>  vs the (hypothetical?) Knight processor?</span></div><br /></div></body></html>